var lT=Object.defineProperty;var cT=(e,t,r)=>t in e?lT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var ei=(e,t,r)=>(cT(e,typeof t!="symbol"?t+"":t,r),r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerpolicy&&(a.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?a.credentials="include":i.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();/**
* @vue/shared v3.4.24
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Tm(e,t){const r=new Set(e.split(","));return t?n=>r.has(n.toLowerCase()):n=>r.has(n)}const Je={},To=[],Or=()=>{},dT=()=>!1,Pf=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Rm=e=>e.startsWith("onUpdate:"),ht=Object.assign,$m=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},fT=Object.prototype.hasOwnProperty,$e=(e,t)=>fT.call(e,t),de=Array.isArray,Ro=e=>jf(e)==="[object Map]",X0=e=>jf(e)==="[object Set]",pe=e=>typeof e=="function",vt=e=>typeof e=="string",Ha=e=>typeof e=="symbol",Qe=e=>e!==null&&typeof e=="object",Z0=e=>(Qe(e)||pe(e))&&pe(e.then)&&pe(e.catch),J0=Object.prototype.toString,jf=e=>J0.call(e),hT=e=>jf(e).slice(8,-1),Y0=e=>jf(e)==="[object Object]",xm=e=>vt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Ws=Tm(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Cf=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},pT=/-(\w)/g,Br=Cf(e=>e.replace(pT,(t,r)=>r?r.toUpperCase():"")),yT=/\B([A-Z])/g,Ga=Cf(e=>e.replace(yT,"-$1").toLowerCase()),ko=Cf(e=>e.charAt(0).toUpperCase()+e.slice(1)),py=Cf(e=>e?`on${ko(e)}`:""),$i=(e,t)=>!Object.is(e,t),yy=(e,t)=>{for(let r=0;r<e.length;r++)e[r](t)},Q0=(e,t,r)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:r})},vT=e=>{const t=parseFloat(e);return isNaN(t)?e:t},mT=e=>{const t=vt(e)?Number(e):NaN;return isNaN(t)?e:t};let bg;const Am=()=>bg||(bg=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Im(e){if(de(e)){const t={};for(let r=0;r<e.length;r++){const n=e[r],i=vt(n)?wT(n):Im(n);if(i)for(const a in i)t[a]=i[a]}return t}else if(vt(e)||Qe(e))return e}const _T=/;(?![^(]*\))/g,gT=/:([^]+)/,bT=/\/\*[^]*?\*\//g;function wT(e){const t={};return e.replace(bT,"").split(_T).forEach(r=>{if(r){const n=r.split(gT);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function Dm(e){let t="";if(vt(e))t=e;else if(de(e))for(let r=0;r<e.length;r++){const n=Dm(e[r]);n&&(t+=n+" ")}else if(Qe(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}const OT="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ST=Tm(OT);function eO(e){return!!e||e===""}const bs=e=>vt(e)?e:e==null?"":de(e)||Qe(e)&&(e.toString===J0||!pe(e.toString))?JSON.stringify(e,tO,2):String(e),tO=(e,t)=>t&&t.__v_isRef?tO(e,t.value):Ro(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[n,i],a)=>(r[vy(n,a)+" =>"]=i,r),{})}:X0(t)?{[`Set(${t.size})`]:[...t.values()].map(r=>vy(r))}:Ha(t)?vy(t):Qe(t)&&!de(t)&&!Y0(t)?String(t):t,vy=(e,t="")=>{var r;return Ha(e)?`Symbol(${(r=e.description)!=null?r:t})`:e};/**
* @vue/reactivity v3.4.24
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let _r;class rO{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=_r,!t&&_r&&(this.index=(_r.scopes||(_r.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const r=_r;try{return _r=this,t()}finally{_r=r}}}on(){_r=this}off(){_r=this.parent}stop(t){if(this._active){let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.scopes)for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function PT(e){return new rO(e)}function jT(e,t=_r){t&&t.active&&t.effects.push(e)}function CT(){return _r}function ET(e){_r&&_r.cleanups.push(e)}let ja;class zm{constructor(t,r,n,i){this.fn=t,this.trigger=r,this.scheduler=n,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,jT(this,i)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,Li();for(let t=0;t<this._depsLength;t++){const r=this.deps[t];if(r.computed&&(MT(r.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),Ui()}return this._dirtyLevel>=4}set dirty(t){this._dirtyLevel=t?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=Ci,r=ja;try{return Ci=!0,ja=this,this._runnings++,wg(this),this.fn()}finally{Og(this),this._runnings--,ja=r,Ci=t}}stop(){var t;this.active&&(wg(this),Og(this),(t=this.onStop)==null||t.call(this),this.active=!1)}}function MT(e){return e.value}function wg(e){e._trackId++,e._depsLength=0}function Og(e){if(e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)nO(e.deps[t],e);e.deps.length=e._depsLength}}function nO(e,t){const r=e.get(t);r!==void 0&&t._trackId!==r&&(e.delete(t),e.size===0&&e.cleanup())}let Ci=!0,Dv=0;const iO=[];function Li(){iO.push(Ci),Ci=!1}function Ui(){const e=iO.pop();Ci=e===void 0?!0:e}function Nm(){Dv++}function Bm(){for(Dv--;!Dv&&zv.length;)zv.shift()()}function aO(e,t,r){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const n=e.deps[e._depsLength];n!==t?(n&&nO(n,e),e.deps[e._depsLength++]=t):e._depsLength++}}const zv=[];function oO(e,t,r){Nm();for(const n of e.keys()){let i;n._dirtyLevel<t&&(i!=null?i:i=e.get(n)===n._trackId)&&(n._shouldSchedule||(n._shouldSchedule=n._dirtyLevel===0),n._dirtyLevel=t),n._shouldSchedule&&(i!=null?i:i=e.get(n)===n._trackId)&&(n.trigger(),(!n._runnings||n.allowRecurse)&&n._dirtyLevel!==2&&(n._shouldSchedule=!1,n.scheduler&&zv.push(n.scheduler)))}Bm()}const sO=(e,t)=>{const r=new Map;return r.cleanup=e,r.computed=t,r},Nd=new WeakMap,Ca=Symbol(""),Nv=Symbol("");function cr(e,t,r){if(Ci&&ja){let n=Nd.get(e);n||Nd.set(e,n=new Map);let i=n.get(r);i||n.set(r,i=sO(()=>n.delete(r))),aO(ja,i)}}function Hn(e,t,r,n,i,a){const o=Nd.get(e);if(!o)return;let s=[];if(t==="clear")s=[...o.values()];else if(r==="length"&&de(e)){const u=Number(n);o.forEach((c,d)=>{(d==="length"||!Ha(d)&&d>=u)&&s.push(c)})}else switch(r!==void 0&&s.push(o.get(r)),t){case"add":de(e)?xm(r)&&s.push(o.get("length")):(s.push(o.get(Ca)),Ro(e)&&s.push(o.get(Nv)));break;case"delete":de(e)||(s.push(o.get(Ca)),Ro(e)&&s.push(o.get(Nv)));break;case"set":Ro(e)&&s.push(o.get(Ca));break}Nm();for(const u of s)u&&oO(u,4);Bm()}function TT(e,t){var r;return(r=Nd.get(e))==null?void 0:r.get(t)}const RT=Tm("__proto__,__v_isRef,__isVue"),uO=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Ha)),Sg=$T();function $T(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...r){const n=fe(this);for(let a=0,o=this.length;a<o;a++)cr(n,"get",a+"");const i=n[t](...r);return i===-1||i===!1?n[t](...r.map(fe)):i}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...r){Li(),Nm();const n=fe(this)[t].apply(this,r);return Bm(),Ui(),n}}),e}function xT(e){Ha(e)||(e=String(e));const t=fe(this);return cr(t,"has",e),t.hasOwnProperty(e)}class lO{constructor(t=!1,r=!1){this._isReadonly=t,this._isShallow=r}get(t,r,n){const i=this._isReadonly,a=this._isShallow;if(r==="__v_isReactive")return!i;if(r==="__v_isReadonly")return i;if(r==="__v_isShallow")return a;if(r==="__v_raw")return n===(i?a?GT:hO:a?fO:dO).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const o=de(t);if(!i){if(o&&$e(Sg,r))return Reflect.get(Sg,r,n);if(r==="hasOwnProperty")return xT}const s=Reflect.get(t,r,n);return(Ha(r)?uO.has(r):RT(r))||(i||cr(t,"get",r),a)?s:dt(s)?o&&xm(r)?s:s.value:Qe(s)?i?Mf(s):br(s):s}}class cO extends lO{constructor(t=!1){super(!1,t)}set(t,r,n,i){let a=t[r];if(!this._isShallow){const u=hu(a);if(!Bd(n)&&!hu(n)&&(a=fe(a),n=fe(n)),!de(t)&&dt(a)&&!dt(n))return u?!1:(a.value=n,!0)}const o=de(t)&&xm(r)?Number(r)<t.length:$e(t,r),s=Reflect.set(t,r,n,i);return t===fe(i)&&(o?$i(n,a)&&Hn(t,"set",r,n):Hn(t,"add",r,n)),s}deleteProperty(t,r){const n=$e(t,r);t[r];const i=Reflect.deleteProperty(t,r);return i&&n&&Hn(t,"delete",r,void 0),i}has(t,r){const n=Reflect.has(t,r);return(!Ha(r)||!uO.has(r))&&cr(t,"has",r),n}ownKeys(t){return cr(t,"iterate",de(t)?"length":Ca),Reflect.ownKeys(t)}}class AT extends lO{constructor(t=!1){super(!0,t)}set(t,r){return!0}deleteProperty(t,r){return!0}}const IT=new cO,DT=new AT,zT=new cO(!0);const Fm=e=>e,Ef=e=>Reflect.getPrototypeOf(e);function Lc(e,t,r=!1,n=!1){e=e.__v_raw;const i=fe(e),a=fe(t);r||($i(t,a)&&cr(i,"get",t),cr(i,"get",a));const{has:o}=Ef(i),s=n?Fm:r?Vm:pu;if(o.call(i,t))return s(e.get(t));if(o.call(i,a))return s(e.get(a));e!==i&&e.get(t)}function Uc(e,t=!1){const r=this.__v_raw,n=fe(r),i=fe(e);return t||($i(e,i)&&cr(n,"has",e),cr(n,"has",i)),e===i?r.has(e):r.has(e)||r.has(i)}function Vc(e,t=!1){return e=e.__v_raw,!t&&cr(fe(e),"iterate",Ca),Reflect.get(e,"size",e)}function Pg(e){e=fe(e);const t=fe(this);return Ef(t).has.call(t,e)||(t.add(e),Hn(t,"add",e,e)),this}function jg(e,t){t=fe(t);const r=fe(this),{has:n,get:i}=Ef(r);let a=n.call(r,e);a||(e=fe(e),a=n.call(r,e));const o=i.call(r,e);return r.set(e,t),a?$i(t,o)&&Hn(r,"set",e,t):Hn(r,"add",e,t),this}function Cg(e){const t=fe(this),{has:r,get:n}=Ef(t);let i=r.call(t,e);i||(e=fe(e),i=r.call(t,e)),n&&n.call(t,e);const a=t.delete(e);return i&&Hn(t,"delete",e,void 0),a}function Eg(){const e=fe(this),t=e.size!==0,r=e.clear();return t&&Hn(e,"clear",void 0,void 0),r}function Kc(e,t){return function(n,i){const a=this,o=a.__v_raw,s=fe(o),u=t?Fm:e?Vm:pu;return!e&&cr(s,"iterate",Ca),o.forEach((c,d)=>n.call(i,u(c),u(d),a))}}function Hc(e,t,r){return function(...n){const i=this.__v_raw,a=fe(i),o=Ro(a),s=e==="entries"||e===Symbol.iterator&&o,u=e==="keys"&&o,c=i[e](...n),d=r?Fm:t?Vm:pu;return!t&&cr(a,"iterate",u?Nv:Ca),{next(){const{value:f,done:h}=c.next();return h?{value:f,done:h}:{value:s?[d(f[0]),d(f[1])]:d(f),done:h}},[Symbol.iterator](){return this}}}}function ti(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function NT(){const e={get(a){return Lc(this,a)},get size(){return Vc(this)},has:Uc,add:Pg,set:jg,delete:Cg,clear:Eg,forEach:Kc(!1,!1)},t={get(a){return Lc(this,a,!1,!0)},get size(){return Vc(this)},has:Uc,add:Pg,set:jg,delete:Cg,clear:Eg,forEach:Kc(!1,!0)},r={get(a){return Lc(this,a,!0)},get size(){return Vc(this,!0)},has(a){return Uc.call(this,a,!0)},add:ti("add"),set:ti("set"),delete:ti("delete"),clear:ti("clear"),forEach:Kc(!0,!1)},n={get(a){return Lc(this,a,!0,!0)},get size(){return Vc(this,!0)},has(a){return Uc.call(this,a,!0)},add:ti("add"),set:ti("set"),delete:ti("delete"),clear:ti("clear"),forEach:Kc(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(a=>{e[a]=Hc(a,!1,!1),r[a]=Hc(a,!0,!1),t[a]=Hc(a,!1,!0),n[a]=Hc(a,!0,!0)}),[e,r,t,n]}const[BT,FT,LT,UT]=NT();function Lm(e,t){const r=t?e?UT:LT:e?FT:BT;return(n,i,a)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?n:Reflect.get($e(r,i)&&i in n?r:n,i,a)}const VT={get:Lm(!1,!1)},KT={get:Lm(!1,!0)},HT={get:Lm(!0,!1)};const dO=new WeakMap,fO=new WeakMap,hO=new WeakMap,GT=new WeakMap;function qT(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function kT(e){return e.__v_skip||!Object.isExtensible(e)?0:qT(hT(e))}function br(e){return hu(e)?e:Um(e,!1,IT,VT,dO)}function WT(e){return Um(e,!1,zT,KT,fO)}function Mf(e){return Um(e,!0,DT,HT,hO)}function Um(e,t,r,n,i){if(!Qe(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const a=i.get(e);if(a)return a;const o=kT(e);if(o===0)return e;const s=new Proxy(e,o===2?n:r);return i.set(e,s),s}function Xs(e){return hu(e)?Xs(e.__v_raw):!!(e&&e.__v_isReactive)}function hu(e){return!!(e&&e.__v_isReadonly)}function Bd(e){return!!(e&&e.__v_isShallow)}function pO(e){return e?!!e.__v_raw:!1}function fe(e){const t=e&&e.__v_raw;return t?fe(t):e}function XT(e){return Object.isExtensible(e)&&Q0(e,"__v_skip",!0),e}const pu=e=>Qe(e)?br(e):e,Vm=e=>Qe(e)?Mf(e):e;class yO{constructor(t,r,n,i){this.getter=t,this._setter=r,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new zm(()=>t(this._value),()=>Cd(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=n}get value(){const t=fe(this);return(!t._cacheable||t.effect.dirty)&&$i(t._value,t._value=t.effect.run())&&Cd(t,4),vO(t),t.effect._dirtyLevel>=2&&Cd(t,2),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function ZT(e,t,r=!1){let n,i;const a=pe(e);return a?(n=e,i=Or):(n=e.get,i=e.set),new yO(n,i,a||!i,r)}function vO(e){var t;Ci&&ja&&(e=fe(e),aO(ja,(t=e.dep)!=null?t:e.dep=sO(()=>e.dep=void 0,e instanceof yO?e:void 0)))}function Cd(e,t=4,r){e=fe(e);const n=e.dep;n&&oO(n,t)}function dt(e){return!!(e&&e.__v_isRef===!0)}function xe(e){return mO(e,!1)}function He(e){return mO(e,!0)}function mO(e,t){return dt(e)?e:new JT(e,t)}class JT{constructor(t,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?t:fe(t),this._value=r?t:pu(t)}get value(){return vO(this),this._value}set value(t){const r=this.__v_isShallow||Bd(t)||hu(t);t=r?t:fe(t),$i(t,this._rawValue)&&(this._rawValue=t,this._value=r?t:pu(t),Cd(this,4))}}function On(e){return dt(e)?e.value:e}const YT={get:(e,t,r)=>On(Reflect.get(e,t,r)),set:(e,t,r,n)=>{const i=e[t];return dt(i)&&!dt(r)?(i.value=r,!0):Reflect.set(e,t,r,n)}};function _O(e){return Xs(e)?e:new Proxy(e,YT)}function Km(e){const t=de(e)?new Array(e.length):{};for(const r in e)t[r]=gO(e,r);return t}class QT{constructor(t,r,n){this._object=t,this._key=r,this._defaultValue=n,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return TT(fe(this._object),this._key)}}class e1{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Ee(e,t,r){return dt(e)?e:pe(e)?new e1(e):Qe(e)&&arguments.length>1?gO(e,t,r):xe(e)}function gO(e,t,r){const n=e[t];return dt(n)?n:new QT(e,t,r)}/**
* @vue/runtime-core v3.4.24
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ei(e,t,r,n){try{return n?e(...n):e()}catch(i){Tf(i,t,r)}}function Nr(e,t,r,n){if(pe(e)){const i=Ei(e,t,r,n);return i&&Z0(i)&&i.catch(a=>{Tf(a,t,r)}),i}if(de(e)){const i=[];for(let a=0;a<e.length;a++)i.push(Nr(e[a],t,r,n));return i}}function Tf(e,t,r,n=!0){const i=t?t.vnode:null;if(t){let a=t.parent;const o=t.proxy,s=`https://vuejs.org/error-reference/#runtime-${r}`;for(;a;){const c=a.ec;if(c){for(let d=0;d<c.length;d++)if(c[d](e,o,s)===!1)return}a=a.parent}const u=t.appContext.config.errorHandler;if(u){Li(),Ei(u,null,10,[e,o,s]),Ui();return}}t1(e,r,i,n)}function t1(e,t,r,n=!0){console.error(e)}let yu=!1,Bv=!1;const Bt=[];let bn=0;const $o=[];let hi=null,ha=0;const bO=Promise.resolve();let Hm=null;function Ia(e){const t=Hm||bO;return e?t.then(this?e.bind(this):e):t}function r1(e){let t=bn+1,r=Bt.length;for(;t<r;){const n=t+r>>>1,i=Bt[n],a=vu(i);a<e||a===e&&i.pre?t=n+1:r=n}return t}function Gm(e){(!Bt.length||!Bt.includes(e,yu&&e.allowRecurse?bn+1:bn))&&(e.id==null?Bt.push(e):Bt.splice(r1(e.id),0,e),wO())}function wO(){!yu&&!Bv&&(Bv=!0,Hm=bO.then(SO))}function n1(e){const t=Bt.indexOf(e);t>bn&&Bt.splice(t,1)}function i1(e){de(e)?$o.push(...e):(!hi||!hi.includes(e,e.allowRecurse?ha+1:ha))&&$o.push(e),wO()}function Mg(e,t,r=yu?bn+1:0){for(;r<Bt.length;r++){const n=Bt[r];if(n&&n.pre){if(e&&n.id!==e.uid)continue;Bt.splice(r,1),r--,n()}}}function OO(e){if($o.length){const t=[...new Set($o)].sort((r,n)=>vu(r)-vu(n));if($o.length=0,hi){hi.push(...t);return}for(hi=t,ha=0;ha<hi.length;ha++)hi[ha]();hi=null,ha=0}}const vu=e=>e.id==null?1/0:e.id,a1=(e,t)=>{const r=vu(e)-vu(t);if(r===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return r};function SO(e){Bv=!1,yu=!0,Bt.sort(a1);const t=Or;try{for(bn=0;bn<Bt.length;bn++){const r=Bt[bn];r&&r.active!==!1&&Ei(r,null,14)}}finally{bn=0,Bt.length=0,OO(),yu=!1,Hm=null,(Bt.length||$o.length)&&SO()}}function o1(e,t,...r){if(e.isUnmounted)return;const n=e.vnode.props||Je;let i=r;const a=t.startsWith("update:"),o=a&&t.slice(7);if(o&&o in n){const d=`${o==="modelValue"?"model":o}Modifiers`,{number:f,trim:h}=n[d]||Je;h&&(i=r.map(p=>vt(p)?p.trim():p)),f&&(i=r.map(vT))}let s,u=n[s=py(t)]||n[s=py(Br(t))];!u&&a&&(u=n[s=py(Ga(t))]),u&&Nr(u,e,6,i);const c=n[s+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[s])return;e.emitted[s]=!0,Nr(c,e,6,i)}}function PO(e,t,r=!1){const n=t.emitsCache,i=n.get(e);if(i!==void 0)return i;const a=e.emits;let o={},s=!1;if(!pe(e)){const u=c=>{const d=PO(c,t,!0);d&&(s=!0,ht(o,d))};!r&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}return!a&&!s?(Qe(e)&&n.set(e,null),null):(de(a)?a.forEach(u=>o[u]=null):ht(o,a),Qe(e)&&n.set(e,o),o)}function Rf(e,t){return!e||!Pf(t)?!1:(t=t.slice(2).replace(/Once$/,""),$e(e,t[0].toLowerCase()+t.slice(1))||$e(e,Ga(t))||$e(e,t))}let Zt=null,jO=null;function Fd(e){const t=Zt;return Zt=e,jO=e&&e.type.__scopeId||null,t}function gt(e,t=Zt,r){if(!t||e._n)return e;const n=(...i)=>{n._d&&Lg(-1);const a=Fd(t);let o;try{o=e(...i)}finally{Fd(a),n._d&&Lg(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function my(e){const{type:t,vnode:r,proxy:n,withProxy:i,propsOptions:[a],slots:o,attrs:s,emit:u,render:c,renderCache:d,props:f,data:h,setupState:p,ctx:y,inheritAttrs:v}=e,m=Fd(e);let b,O;try{if(r.shapeFlag&4){const T=i||n,x=T;b=mn(c.call(x,T,d,f,p,h,y)),O=s}else{const T=t;b=mn(T.length>1?T(f,{attrs:s,slots:o,emit:u}):T(f,null)),O=t.props?s:s1(s)}}catch(T){Ys.length=0,Tf(T,e,1),b=_(Jr)}let S=b;if(O&&v!==!1){const T=Object.keys(O),{shapeFlag:x}=S;T.length&&x&7&&(a&&T.some(Rm)&&(O=u1(O,a)),S=Wn(S,O))}return r.dirs&&(S=Wn(S),S.dirs=S.dirs?S.dirs.concat(r.dirs):r.dirs),r.transition&&(S.transition=r.transition),b=S,Fd(m),b}const s1=e=>{let t;for(const r in e)(r==="class"||r==="style"||Pf(r))&&((t||(t={}))[r]=e[r]);return t},u1=(e,t)=>{const r={};for(const n in e)(!Rm(n)||!(n.slice(9)in t))&&(r[n]=e[n]);return r};function l1(e,t,r){const{props:n,children:i,component:a}=e,{props:o,children:s,patchFlag:u}=t,c=a.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&u>=0){if(u&1024)return!0;if(u&16)return n?Tg(n,o,c):!!o;if(u&8){const d=t.dynamicProps;for(let f=0;f<d.length;f++){const h=d[f];if(o[h]!==n[h]&&!Rf(c,h))return!0}}}else return(i||s)&&(!s||!s.$stable)?!0:n===o?!1:n?o?Tg(n,o,c):!0:!!o;return!1}function Tg(e,t,r){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let i=0;i<n.length;i++){const a=n[i];if(t[a]!==e[a]&&!Rf(r,a))return!0}return!1}function c1({vnode:e,parent:t},r){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=r,t=t.parent;else break}}const qm="components",d1="directives";function CO(e,t){return km(qm,e,!0,t)||e}const EO=Symbol.for("v-ndc");function f1(e){return vt(e)?km(qm,e,!1)||e:e||EO}function Gu(e){return km(d1,e)}function km(e,t,r=!0,n=!1){const i=Zt||At;if(i){const a=i.type;if(e===qm){const s=aR(a,!1);if(s&&(s===t||s===Br(t)||s===ko(Br(t))))return a}const o=Rg(i[e]||a[e],t)||Rg(i.appContext[e],t);return!o&&n?a:o}}function Rg(e,t){return e&&(e[t]||e[Br(t)]||e[ko(Br(t))])}const h1=e=>e.__isSuspense;function p1(e,t){t&&t.pendingBranch?de(e)?t.effects.push(...e):t.effects.push(e):i1(e)}const y1=Symbol.for("v-scx"),v1=()=>Et(y1);function qu(e,t){return Wm(e,null,t)}const Gc={};function st(e,t,r){return Wm(e,t,r)}function Wm(e,t,{immediate:r,deep:n,flush:i,once:a,onTrack:o,onTrigger:s}=Je){if(t&&a){const M=t;t=(...I)=>{M(...I),x()}}const u=At,c=M=>n===!0?M:ba(M,n===!1?1:void 0);let d,f=!1,h=!1;if(dt(e)?(d=()=>e.value,f=Bd(e)):Xs(e)?(d=()=>c(e),f=!0):de(e)?(h=!0,f=e.some(M=>Xs(M)||Bd(M)),d=()=>e.map(M=>{if(dt(M))return M.value;if(Xs(M))return c(M);if(pe(M))return Ei(M,u,2)})):pe(e)?t?d=()=>Ei(e,u,2):d=()=>(p&&p(),Nr(e,u,3,[y])):d=Or,t&&n){const M=d;d=()=>ba(M())}let p,y=M=>{p=S.onStop=()=>{Ei(M,u,4),p=S.onStop=void 0}},v;if(Af)if(y=Or,t?r&&Nr(t,u,3,[d(),h?[]:void 0,y]):d(),i==="sync"){const M=v1();v=M.__watcherHandles||(M.__watcherHandles=[])}else return Or;let m=h?new Array(e.length).fill(Gc):Gc;const b=()=>{if(!(!S.active||!S.dirty))if(t){const M=S.run();(n||f||(h?M.some((I,C)=>$i(I,m[C])):$i(M,m)))&&(p&&p(),Nr(t,u,3,[M,m===Gc?void 0:h&&m[0]===Gc?[]:m,y]),m=M)}else S.run()};b.allowRecurse=!!t;let O;i==="sync"?O=b:i==="post"?O=()=>ur(b,u&&u.suspense):(b.pre=!0,u&&(b.id=u.uid),O=()=>Gm(b));const S=new zm(d,Or,O),T=CT(),x=()=>{S.stop(),T&&$m(T.effects,S)};return t?r?b():m=S.run():i==="post"?ur(S.run.bind(S),u&&u.suspense):S.run(),v&&v.push(x),x}function m1(e,t,r){const n=this.proxy,i=vt(e)?e.includes(".")?MO(n,e):()=>n[e]:e.bind(n,n);let a;pe(t)?a=t:(a=t.handler,r=t);const o=Wu(this),s=Wm(i,a.bind(n),r);return o(),s}function MO(e,t){const r=t.split(".");return()=>{let n=e;for(let i=0;i<r.length&&n;i++)n=n[r[i]];return n}}function ba(e,t,r=0,n){if(!Qe(e)||e.__v_skip)return e;if(t&&t>0){if(r>=t)return e;r++}if(n=n||new Set,n.has(e))return e;if(n.add(e),dt(e))ba(e.value,t,r,n);else if(de(e))for(let i=0;i<e.length;i++)ba(e[i],t,r,n);else if(X0(e)||Ro(e))e.forEach(i=>{ba(i,t,r,n)});else if(Y0(e))for(const i in e)ba(e[i],t,r,n);return e}function Er(e,t){if(Zt===null)return e;const r=If(Zt)||Zt.proxy,n=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[a,o,s,u=Je]=t[i];a&&(pe(a)&&(a={mounted:a,updated:a}),a.deep&&ba(o),n.push({dir:a,instance:r,value:o,oldValue:void 0,arg:s,modifiers:u}))}return e}function Ji(e,t,r,n){const i=e.dirs,a=t&&t.dirs;for(let o=0;o<i.length;o++){const s=i[o];a&&(s.oldValue=a[o].value);let u=s.dir[n];u&&(Li(),Nr(u,r,8,[e.el,s,e,t]),Ui())}}const pi=Symbol("_leaveCb"),qc=Symbol("_enterCb");function TO(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Wo(()=>{e.isMounted=!0}),Rn(()=>{e.isUnmounting=!0}),e}const Ar=[Function,Array],RO={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ar,onEnter:Ar,onAfterEnter:Ar,onEnterCancelled:Ar,onBeforeLeave:Ar,onLeave:Ar,onAfterLeave:Ar,onLeaveCancelled:Ar,onBeforeAppear:Ar,onAppear:Ar,onAfterAppear:Ar,onAppearCancelled:Ar},_1={name:"BaseTransition",props:RO,setup(e,{slots:t}){const r=t_(),n=TO();return()=>{const i=t.default&&Xm(t.default(),!0);if(!i||!i.length)return;let a=i[0];if(i.length>1){for(const h of i)if(h.type!==Jr){a=h;break}}const o=fe(e),{mode:s}=o;if(n.isLeaving)return _y(a);const u=$g(a);if(!u)return _y(a);const c=mu(u,o,n,r);_u(u,c);const d=r.subTree,f=d&&$g(d);if(f&&f.type!==Jr&&!pa(u,f)){const h=mu(f,o,n,r);if(_u(f,h),s==="out-in")return n.isLeaving=!0,h.afterLeave=()=>{n.isLeaving=!1,r.update.active!==!1&&(r.effect.dirty=!0,r.update())},_y(a);s==="in-out"&&u.type!==Jr&&(h.delayLeave=(p,y,v)=>{const m=$O(n,f);m[String(f.key)]=f,p[pi]=()=>{y(),p[pi]=void 0,delete c.delayedLeave},c.delayedLeave=v})}return a}}},g1=_1;function $O(e,t){const{leavingVNodes:r}=e;let n=r.get(t.type);return n||(n=Object.create(null),r.set(t.type,n)),n}function mu(e,t,r,n){const{appear:i,mode:a,persisted:o=!1,onBeforeEnter:s,onEnter:u,onAfterEnter:c,onEnterCancelled:d,onBeforeLeave:f,onLeave:h,onAfterLeave:p,onLeaveCancelled:y,onBeforeAppear:v,onAppear:m,onAfterAppear:b,onAppearCancelled:O}=t,S=String(e.key),T=$O(r,e),x=(C,A)=>{C&&Nr(C,n,9,A)},M=(C,A)=>{const K=A[1];x(C,A),de(C)?C.every(X=>X.length<=1)&&K():C.length<=1&&K()},I={mode:a,persisted:o,beforeEnter(C){let A=s;if(!r.isMounted)if(i)A=v||s;else return;C[pi]&&C[pi](!0);const K=T[S];K&&pa(e,K)&&K.el[pi]&&K.el[pi](),x(A,[C])},enter(C){let A=u,K=c,X=d;if(!r.isMounted)if(i)A=m||u,K=b||c,X=O||d;else return;let E=!1;const F=C[qc]=H=>{E||(E=!0,H?x(X,[C]):x(K,[C]),I.delayedLeave&&I.delayedLeave(),C[qc]=void 0)};A?M(A,[C,F]):F()},leave(C,A){const K=String(e.key);if(C[qc]&&C[qc](!0),r.isUnmounting)return A();x(f,[C]);let X=!1;const E=C[pi]=F=>{X||(X=!0,A(),F?x(y,[C]):x(p,[C]),C[pi]=void 0,T[K]===e&&delete T[K])};T[K]=e,h?M(h,[C,E]):E()},clone(C){return mu(C,t,r,n)}};return I}function _y(e){if($f(e))return e=Wn(e),e.children=null,e}function $g(e){if(!$f(e))return e;const{shapeFlag:t,children:r}=e;if(t&16)return r[0];if(t&32&&pe(r.default))return r.default()}function _u(e,t){e.shapeFlag&6&&e.component?_u(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Xm(e,t=!1,r){let n=[],i=0;for(let a=0;a<e.length;a++){let o=e[a];const s=r==null?o.key:String(r)+String(o.key!=null?o.key:a);o.type===rt?(o.patchFlag&128&&i++,n=n.concat(Xm(o.children,t,s))):(t||o.type!==Jr)&&n.push(s!=null?Wn(o,{key:s}):o)}if(i>1)for(let a=0;a<n.length;a++)n[a].patchFlag=-2;return n}/*! #__NO_SIDE_EFFECTS__ */function b1(e,t){return pe(e)?(()=>ht({name:e.name},t,{setup:e}))():e}const Ed=e=>!!e.type.__asyncLoader,$f=e=>e.type.__isKeepAlive;function w1(e,t){xO(e,"a",t)}function O1(e,t){xO(e,"da",t)}function xO(e,t,r=At){const n=e.__wdc||(e.__wdc=()=>{let i=r;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(xf(t,n,r),r){let i=r.parent;for(;i&&i.parent;)$f(i.parent.vnode)&&S1(n,t,r,i),i=i.parent}}function S1(e,t,r,n){const i=xf(t,e,n,!0);AO(()=>{$m(n[t],i)},r)}function xf(e,t,r=At,n=!1){if(r){const i=r[e]||(r[e]=[]),a=t.__weh||(t.__weh=(...o)=>{if(r.isUnmounted)return;Li();const s=Wu(r),u=Nr(t,r,e,o);return s(),Ui(),u});return n?i.unshift(a):i.push(a),a}}const Yn=e=>(t,r=At)=>(!Af||e==="sp")&&xf(e,(...n)=>t(...n),r),Zm=Yn("bm"),Wo=Yn("m"),P1=Yn("bu"),Jm=Yn("u"),Rn=Yn("bum"),AO=Yn("um"),j1=Yn("sp"),C1=Yn("rtg"),E1=Yn("rtc");function M1(e,t=At){xf("ec",e,t)}const Fv=e=>e?WO(e)?If(e)||e.proxy:Fv(e.parent):null,Zs=ht(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Fv(e.parent),$root:e=>Fv(e.root),$emit:e=>e.emit,$options:e=>Ym(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,Gm(e.update)}),$nextTick:e=>e.n||(e.n=Ia.bind(e.proxy)),$watch:e=>m1.bind(e)}),gy=(e,t)=>e!==Je&&!e.__isScriptSetup&&$e(e,t),T1={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:r,setupState:n,data:i,props:a,accessCache:o,type:s,appContext:u}=e;let c;if(t[0]!=="$"){const p=o[t];if(p!==void 0)switch(p){case 1:return n[t];case 2:return i[t];case 4:return r[t];case 3:return a[t]}else{if(gy(n,t))return o[t]=1,n[t];if(i!==Je&&$e(i,t))return o[t]=2,i[t];if((c=e.propsOptions[0])&&$e(c,t))return o[t]=3,a[t];if(r!==Je&&$e(r,t))return o[t]=4,r[t];Lv&&(o[t]=0)}}const d=Zs[t];let f,h;if(d)return t==="$attrs"&&cr(e.attrs,"get",""),d(e);if((f=s.__cssModules)&&(f=f[t]))return f;if(r!==Je&&$e(r,t))return o[t]=4,r[t];if(h=u.config.globalProperties,$e(h,t))return h[t]},set({_:e},t,r){const{data:n,setupState:i,ctx:a}=e;return gy(i,t)?(i[t]=r,!0):n!==Je&&$e(n,t)?(n[t]=r,!0):$e(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(a[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:n,appContext:i,propsOptions:a}},o){let s;return!!r[o]||e!==Je&&$e(e,o)||gy(t,o)||(s=a[0])&&$e(s,o)||$e(n,o)||$e(Zs,o)||$e(i.config.globalProperties,o)},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:$e(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}};function xg(e){return de(e)?e.reduce((t,r)=>(t[r]=null,t),{}):e}let Lv=!0;function R1(e){const t=Ym(e),r=e.proxy,n=e.ctx;Lv=!1,t.beforeCreate&&Ag(t.beforeCreate,e,"bc");const{data:i,computed:a,methods:o,watch:s,provide:u,inject:c,created:d,beforeMount:f,mounted:h,beforeUpdate:p,updated:y,activated:v,deactivated:m,beforeDestroy:b,beforeUnmount:O,destroyed:S,unmounted:T,render:x,renderTracked:M,renderTriggered:I,errorCaptured:C,serverPrefetch:A,expose:K,inheritAttrs:X,components:E,directives:F,filters:H}=t;if(c&&$1(c,n,null),o)for(const ue in o){const ie=o[ue];pe(ie)&&(n[ue]=ie.bind(r))}if(i){const ue=i.call(r,r);Qe(ue)&&(e.data=br(ue))}if(Lv=!0,a)for(const ue in a){const ie=a[ue],De=pe(ie)?ie.bind(r,r):pe(ie.get)?ie.get.bind(r,r):Or,le=!pe(ie)&&pe(ie.set)?ie.set.bind(r):Or,Y=P({get:De,set:le});Object.defineProperty(n,ue,{enumerable:!0,configurable:!0,get:()=>Y.value,set:ee=>Y.value=ee})}if(s)for(const ue in s)IO(s[ue],n,r,ue);if(u){const ue=pe(u)?u.call(r):u;Reflect.ownKeys(ue).forEach(ie=>{rn(ie,ue[ie])})}d&&Ag(d,e,"c");function re(ue,ie){de(ie)?ie.forEach(De=>ue(De.bind(r))):ie&&ue(ie.bind(r))}if(re(Zm,f),re(Wo,h),re(P1,p),re(Jm,y),re(w1,v),re(O1,m),re(M1,C),re(E1,M),re(C1,I),re(Rn,O),re(AO,T),re(j1,A),de(K))if(K.length){const ue=e.exposed||(e.exposed={});K.forEach(ie=>{Object.defineProperty(ue,ie,{get:()=>r[ie],set:De=>r[ie]=De})})}else e.exposed||(e.exposed={});x&&e.render===Or&&(e.render=x),X!=null&&(e.inheritAttrs=X),E&&(e.components=E),F&&(e.directives=F)}function $1(e,t,r=Or){de(e)&&(e=Uv(e));for(const n in e){const i=e[n];let a;Qe(i)?"default"in i?a=Et(i.from||n,i.default,!0):a=Et(i.from||n):a=Et(i),dt(a)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>a.value,set:o=>a.value=o}):t[n]=a}}function Ag(e,t,r){Nr(de(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,r)}function IO(e,t,r,n){const i=n.includes(".")?MO(r,n):()=>r[n];if(vt(e)){const a=t[e];pe(a)&&st(i,a)}else if(pe(e))st(i,e.bind(r));else if(Qe(e))if(de(e))e.forEach(a=>IO(a,t,r,n));else{const a=pe(e.handler)?e.handler.bind(r):t[e.handler];pe(a)&&st(i,a,e)}}function Ym(e){const t=e.type,{mixins:r,extends:n}=t,{mixins:i,optionsCache:a,config:{optionMergeStrategies:o}}=e.appContext,s=a.get(t);let u;return s?u=s:!i.length&&!r&&!n?u=t:(u={},i.length&&i.forEach(c=>Ld(u,c,o,!0)),Ld(u,t,o)),Qe(t)&&a.set(t,u),u}function Ld(e,t,r,n=!1){const{mixins:i,extends:a}=t;a&&Ld(e,a,r,!0),i&&i.forEach(o=>Ld(e,o,r,!0));for(const o in t)if(!(n&&o==="expose")){const s=x1[o]||r&&r[o];e[o]=s?s(e[o],t[o]):t[o]}return e}const x1={data:Ig,props:Dg,emits:Dg,methods:Hs,computed:Hs,beforeCreate:Xt,created:Xt,beforeMount:Xt,mounted:Xt,beforeUpdate:Xt,updated:Xt,beforeDestroy:Xt,beforeUnmount:Xt,destroyed:Xt,unmounted:Xt,activated:Xt,deactivated:Xt,errorCaptured:Xt,serverPrefetch:Xt,components:Hs,directives:Hs,watch:I1,provide:Ig,inject:A1};function Ig(e,t){return t?e?function(){return ht(pe(e)?e.call(this,this):e,pe(t)?t.call(this,this):t)}:t:e}function A1(e,t){return Hs(Uv(e),Uv(t))}function Uv(e){if(de(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function Xt(e,t){return e?[...new Set([].concat(e,t))]:t}function Hs(e,t){return e?ht(Object.create(null),e,t):t}function Dg(e,t){return e?de(e)&&de(t)?[...new Set([...e,...t])]:ht(Object.create(null),xg(e),xg(t!=null?t:{})):t}function I1(e,t){if(!e)return t;if(!t)return e;const r=ht(Object.create(null),e);for(const n in t)r[n]=Xt(e[n],t[n]);return r}function DO(){return{app:null,config:{isNativeTag:dT,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let D1=0;function z1(e,t){return function(n,i=null){pe(n)||(n=ht({},n)),i!=null&&!Qe(i)&&(i=null);const a=DO(),o=new WeakSet;let s=!1;const u=a.app={_uid:D1++,_component:n,_props:i,_container:null,_context:a,_instance:null,version:sR,get config(){return a.config},set config(c){},use(c,...d){return o.has(c)||(c&&pe(c.install)?(o.add(c),c.install(u,...d)):pe(c)&&(o.add(c),c(u,...d))),u},mixin(c){return a.mixins.includes(c)||a.mixins.push(c),u},component(c,d){return d?(a.components[c]=d,u):a.components[c]},directive(c,d){return d?(a.directives[c]=d,u):a.directives[c]},mount(c,d,f){if(!s){const h=_(n,i);return h.appContext=a,f===!0?f="svg":f===!1&&(f=void 0),d&&t?t(h,c):e(h,c,f),s=!0,u._container=c,c.__vue_app__=u,If(h.component)||h.component.proxy}},unmount(){s&&(e(null,u._container),delete u._container.__vue_app__)},provide(c,d){return a.provides[c]=d,u},runWithContext(c){const d=Js;Js=u;try{return c()}finally{Js=d}}};return u}}let Js=null;function rn(e,t){if(At){let r=At.provides;const n=At.parent&&At.parent.provides;n===r&&(r=At.provides=Object.create(n)),r[e]=t}}function Et(e,t,r=!1){const n=At||Zt;if(n||Js){const i=n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:Js._context.provides;if(i&&e in i)return i[e];if(arguments.length>1)return r&&pe(t)?t.call(n&&n.proxy):t}}const zO=Object.create(null),NO=()=>Object.create(zO),BO=e=>Object.getPrototypeOf(e)===zO;function N1(e,t,r,n=!1){const i={},a=NO();e.propsDefaults=Object.create(null),FO(e,t,i,a);for(const o in e.propsOptions[0])o in i||(i[o]=void 0);r?e.props=n?i:WT(i):e.type.props?e.props=i:e.props=a,e.attrs=a}function B1(e,t,r,n){const{props:i,attrs:a,vnode:{patchFlag:o}}=e,s=fe(i),[u]=e.propsOptions;let c=!1;if((n||o>0)&&!(o&16)){if(o&8){const d=e.vnode.dynamicProps;for(let f=0;f<d.length;f++){let h=d[f];if(Rf(e.emitsOptions,h))continue;const p=t[h];if(u)if($e(a,h))p!==a[h]&&(a[h]=p,c=!0);else{const y=Br(h);i[y]=Vv(u,s,y,p,e,!1)}else p!==a[h]&&(a[h]=p,c=!0)}}}else{FO(e,t,i,a)&&(c=!0);let d;for(const f in s)(!t||!$e(t,f)&&((d=Ga(f))===f||!$e(t,d)))&&(u?r&&(r[f]!==void 0||r[d]!==void 0)&&(i[f]=Vv(u,s,f,void 0,e,!0)):delete i[f]);if(a!==s)for(const f in a)(!t||!$e(t,f)&&!0)&&(delete a[f],c=!0)}c&&Hn(e.attrs,"set","")}function FO(e,t,r,n){const[i,a]=e.propsOptions;let o=!1,s;if(t)for(let u in t){if(Ws(u))continue;const c=t[u];let d;i&&$e(i,d=Br(u))?!a||!a.includes(d)?r[d]=c:(s||(s={}))[d]=c:Rf(e.emitsOptions,u)||(!(u in n)||c!==n[u])&&(n[u]=c,o=!0)}if(a){const u=fe(r),c=s||Je;for(let d=0;d<a.length;d++){const f=a[d];r[f]=Vv(i,u,f,c[f],e,!$e(c,f))}}return o}function Vv(e,t,r,n,i,a){const o=e[r];if(o!=null){const s=$e(o,"default");if(s&&n===void 0){const u=o.default;if(o.type!==Function&&!o.skipFactory&&pe(u)){const{propsDefaults:c}=i;if(r in c)n=c[r];else{const d=Wu(i);n=c[r]=u.call(null,t),d()}}else n=u}o[0]&&(a&&!s?n=!1:o[1]&&(n===""||n===Ga(r))&&(n=!0))}return n}function LO(e,t,r=!1){const n=t.propsCache,i=n.get(e);if(i)return i;const a=e.props,o={},s=[];let u=!1;if(!pe(e)){const d=f=>{u=!0;const[h,p]=LO(f,t,!0);ht(o,h),p&&s.push(...p)};!r&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}if(!a&&!u)return Qe(e)&&n.set(e,To),To;if(de(a))for(let d=0;d<a.length;d++){const f=Br(a[d]);zg(f)&&(o[f]=Je)}else if(a)for(const d in a){const f=Br(d);if(zg(f)){const h=a[d],p=o[f]=de(h)||pe(h)?{type:h}:ht({},h);if(p){const y=Fg(Boolean,p.type),v=Fg(String,p.type);p[0]=y>-1,p[1]=v<0||y<v,(y>-1||$e(p,"default"))&&s.push(f)}}}const c=[o,s];return Qe(e)&&n.set(e,c),c}function zg(e){return e[0]!=="$"&&!Ws(e)}function Ng(e){return e===null?"null":typeof e=="function"?e.name||"":typeof e=="object"&&e.constructor&&e.constructor.name||""}function Bg(e,t){return Ng(e)===Ng(t)}function Fg(e,t){return de(t)?t.findIndex(r=>Bg(r,e)):pe(t)&&Bg(t,e)?0:-1}const UO=e=>e[0]==="_"||e==="$stable",Qm=e=>de(e)?e.map(mn):[mn(e)],F1=(e,t,r)=>{if(t._n)return t;const n=gt((...i)=>Qm(t(...i)),r);return n._c=!1,n},VO=(e,t,r)=>{const n=e._ctx;for(const i in e){if(UO(i))continue;const a=e[i];if(pe(a))t[i]=F1(i,a,n);else if(a!=null){const o=Qm(a);t[i]=()=>o}}},KO=(e,t)=>{const r=Qm(t);e.slots.default=()=>r},L1=(e,t)=>{const r=e.slots=NO();if(e.vnode.shapeFlag&32){const n=t._;n?(ht(r,t),Q0(r,"_",n)):VO(t,r)}else t&&KO(e,t)},U1=(e,t,r)=>{const{vnode:n,slots:i}=e;let a=!0,o=Je;if(n.shapeFlag&32){const s=t._;s?r&&s===1?a=!1:(ht(i,t),!r&&s===1&&delete i._):(a=!t.$stable,VO(t,i)),o=t}else t&&(KO(e,t),o={default:1});if(a)for(const s in i)!UO(s)&&o[s]==null&&delete i[s]};function Kv(e,t,r,n,i=!1){if(de(e)){e.forEach((h,p)=>Kv(h,t&&(de(t)?t[p]:t),r,n,i));return}if(Ed(n)&&!i)return;const a=n.shapeFlag&4?If(n.component)||n.component.proxy:n.el,o=i?null:a,{i:s,r:u}=e,c=t&&t.r,d=s.refs===Je?s.refs={}:s.refs,f=s.setupState;if(c!=null&&c!==u&&(vt(c)?(d[c]=null,$e(f,c)&&(f[c]=null)):dt(c)&&(c.value=null)),pe(u))Ei(u,s,12,[o,d]);else{const h=vt(u),p=dt(u);if(h||p){const y=()=>{if(e.f){const v=h?$e(f,u)?f[u]:d[u]:u.value;i?de(v)&&$m(v,a):de(v)?v.includes(a)||v.push(a):h?(d[u]=[a],$e(f,u)&&(f[u]=d[u])):(u.value=[a],e.k&&(d[e.k]=u.value))}else h?(d[u]=o,$e(f,u)&&(f[u]=o)):p&&(u.value=o,e.k&&(d[e.k]=o))};o?(y.id=-1,ur(y,r)):y()}}}function V1(){typeof __VUE_PROD_HYDRATION_MISMATCH_DETAILS__!="boolean"&&(Am().__VUE_PROD_HYDRATION_MISMATCH_DETAILS__=!1)}const ur=p1;function K1(e){return H1(e)}function H1(e,t){V1();const r=Am();r.__VUE__=!0;const{insert:n,remove:i,patchProp:a,createElement:o,createText:s,createComment:u,setText:c,setElementText:d,parentNode:f,nextSibling:h,setScopeId:p=Or,insertStaticContent:y}=e,v=(g,w,$,D=null,z=null,V=null,k=void 0,U=null,q=!!w.dynamicChildren)=>{if(g===w)return;g&&!pa(g,w)&&(D=R(g),ee(g,z,V,!0),g=null),w.patchFlag===-2&&(q=!1,w.dynamicChildren=null);const{type:N,ref:J,shapeFlag:se}=w;switch(N){case ku:m(g,w,$,D);break;case Jr:b(g,w,$,D);break;case wy:g==null&&O(w,$,D,k);break;case rt:E(g,w,$,D,z,V,k,U,q);break;default:se&1?x(g,w,$,D,z,V,k,U,q):se&6?F(g,w,$,D,z,V,k,U,q):(se&64||se&128)&&N.process(g,w,$,D,z,V,k,U,q,mt)}J!=null&&z&&Kv(J,g&&g.ref,V,w||g,!w)},m=(g,w,$,D)=>{if(g==null)n(w.el=s(w.children),$,D);else{const z=w.el=g.el;w.children!==g.children&&c(z,w.children)}},b=(g,w,$,D)=>{g==null?n(w.el=u(w.children||""),$,D):w.el=g.el},O=(g,w,$,D)=>{[g.el,g.anchor]=y(g.children,w,$,D,g.el,g.anchor)},S=({el:g,anchor:w},$,D)=>{let z;for(;g&&g!==w;)z=h(g),n(g,$,D),g=z;n(w,$,D)},T=({el:g,anchor:w})=>{let $;for(;g&&g!==w;)$=h(g),i(g),g=$;i(w)},x=(g,w,$,D,z,V,k,U,q)=>{w.type==="svg"?k="svg":w.type==="math"&&(k="mathml"),g==null?M(w,$,D,z,V,k,U,q):A(g,w,z,V,k,U,q)},M=(g,w,$,D,z,V,k,U)=>{let q,N;const{props:J,shapeFlag:se,transition:ae,dirs:he}=g;if(q=g.el=o(g.type,V,J&&J.is,J),se&8?d(q,g.children):se&16&&C(g.children,q,null,D,z,by(g,V),k,U),he&&Ji(g,null,D,"created"),I(q,g,g.scopeId,k,D),J){for(const Ue in J)Ue!=="value"&&!Ws(Ue)&&a(q,Ue,null,J[Ue],V,g.children,D,z,je);"value"in J&&a(q,"value",null,J.value,V),(N=J.onVnodeBeforeMount)&&un(N,D,g)}he&&Ji(g,null,D,"beforeMount");const Oe=G1(z,ae);Oe&&ae.beforeEnter(q),n(q,w,$),((N=J&&J.onVnodeMounted)||Oe||he)&&ur(()=>{N&&un(N,D,g),Oe&&ae.enter(q),he&&Ji(g,null,D,"mounted")},z)},I=(g,w,$,D,z)=>{if($&&p(g,$),D)for(let V=0;V<D.length;V++)p(g,D[V]);if(z){let V=z.subTree;if(w===V){const k=z.vnode;I(g,k,k.scopeId,k.slotScopeIds,z.parent)}}},C=(g,w,$,D,z,V,k,U,q=0)=>{for(let N=q;N<g.length;N++){const J=g[N]=U?mi(g[N]):mn(g[N]);v(null,J,w,$,D,z,V,k,U)}},A=(g,w,$,D,z,V,k)=>{const U=w.el=g.el;let{patchFlag:q,dynamicChildren:N,dirs:J}=w;q|=g.patchFlag&16;const se=g.props||Je,ae=w.props||Je;let he;if($&&Yi($,!1),(he=ae.onVnodeBeforeUpdate)&&un(he,$,w,g),J&&Ji(w,g,$,"beforeUpdate"),$&&Yi($,!0),N?K(g.dynamicChildren,N,U,$,D,by(w,z),V):k||ie(g,w,U,null,$,D,by(w,z),V,!1),q>0){if(q&16)X(U,w,se,ae,$,D,z);else if(q&2&&se.class!==ae.class&&a(U,"class",null,ae.class,z),q&4&&a(U,"style",se.style,ae.style,z),q&8){const Oe=w.dynamicProps;for(let Ue=0;Ue<Oe.length;Ue++){const et=Oe[Ue],St=se[et],Ur=ae[et];(Ur!==St||et==="value")&&a(U,et,St,Ur,z,g.children,$,D,je)}}q&1&&g.children!==w.children&&d(U,w.children)}else!k&&N==null&&X(U,w,se,ae,$,D,z);((he=ae.onVnodeUpdated)||J)&&ur(()=>{he&&un(he,$,w,g),J&&Ji(w,g,$,"updated")},D)},K=(g,w,$,D,z,V,k)=>{for(let U=0;U<w.length;U++){const q=g[U],N=w[U],J=q.el&&(q.type===rt||!pa(q,N)||q.shapeFlag&70)?f(q.el):$;v(q,N,J,null,D,z,V,k,!0)}},X=(g,w,$,D,z,V,k)=>{if($!==D){if($!==Je)for(const U in $)!Ws(U)&&!(U in D)&&a(g,U,$[U],null,k,w.children,z,V,je);for(const U in D){if(Ws(U))continue;const q=D[U],N=$[U];q!==N&&U!=="value"&&a(g,U,N,q,k,w.children,z,V,je)}"value"in D&&a(g,"value",$.value,D.value,k)}},E=(g,w,$,D,z,V,k,U,q)=>{const N=w.el=g?g.el:s(""),J=w.anchor=g?g.anchor:s("");let{patchFlag:se,dynamicChildren:ae,slotScopeIds:he}=w;he&&(U=U?U.concat(he):he),g==null?(n(N,$,D),n(J,$,D),C(w.children||[],$,J,z,V,k,U,q)):se>0&&se&64&&ae&&g.dynamicChildren?(K(g.dynamicChildren,ae,$,z,V,k,U),(w.key!=null||z&&w===z.subTree)&&HO(g,w,!0)):ie(g,w,$,J,z,V,k,U,q)},F=(g,w,$,D,z,V,k,U,q)=>{w.slotScopeIds=U,g==null?w.shapeFlag&512?z.ctx.activate(w,$,D,k,q):H(w,$,D,z,V,k,q):oe(g,w,q)},H=(g,w,$,D,z,V,k)=>{const U=g.component=eR(g,D,z);if($f(g)&&(U.ctx.renderer=mt),tR(U),U.asyncDep){if(z&&z.registerDep(U,re),!g.el){const q=U.subTree=_(Jr);b(null,q,w,$)}}else re(U,g,w,$,z,V,k)},oe=(g,w,$)=>{const D=w.component=g.component;if(l1(g,w,$))if(D.asyncDep&&!D.asyncResolved){ue(D,w,$);return}else D.next=w,n1(D.update),D.effect.dirty=!0,D.update();else w.el=g.el,D.vnode=w},re=(g,w,$,D,z,V,k)=>{const U=()=>{if(g.isMounted){let{next:J,bu:se,u:ae,parent:he,vnode:Oe}=g;{const eo=GO(g);if(eo){J&&(J.el=Oe.el,ue(g,J,k)),eo.asyncDep.then(()=>{g.isUnmounted||U()});return}}let Ue=J,et;Yi(g,!1),J?(J.el=Oe.el,ue(g,J,k)):J=Oe,se&&yy(se),(et=J.props&&J.props.onVnodeBeforeUpdate)&&un(et,he,J,Oe),Yi(g,!0);const St=my(g),Ur=g.subTree;g.subTree=St,v(Ur,St,f(Ur.el),R(Ur),g,z,V),J.el=St.el,Ue===null&&c1(g,St.el),ae&&ur(ae,z),(et=J.props&&J.props.onVnodeUpdated)&&ur(()=>un(et,he,J,Oe),z)}else{let J;const{el:se,props:ae}=w,{bm:he,m:Oe,parent:Ue}=g,et=Ed(w);if(Yi(g,!1),he&&yy(he),!et&&(J=ae&&ae.onVnodeBeforeMount)&&un(J,Ue,w),Yi(g,!0),se&&dr){const St=()=>{g.subTree=my(g),dr(se,g.subTree,g,z,null)};et?w.type.__asyncLoader().then(()=>!g.isUnmounted&&St()):St()}else{const St=g.subTree=my(g);v(null,St,$,D,g,z,V),w.el=St.el}if(Oe&&ur(Oe,z),!et&&(J=ae&&ae.onVnodeMounted)){const St=w;ur(()=>un(J,Ue,St),z)}(w.shapeFlag&256||Ue&&Ed(Ue.vnode)&&Ue.vnode.shapeFlag&256)&&g.a&&ur(g.a,z),g.isMounted=!0,w=$=D=null}},q=g.effect=new zm(U,Or,()=>Gm(N),g.scope),N=g.update=()=>{q.dirty&&q.run()};N.id=g.uid,Yi(g,!0),N()},ue=(g,w,$)=>{w.component=g;const D=g.vnode.props;g.vnode=w,g.next=null,B1(g,w.props,D,$),U1(g,w.children,$),Li(),Mg(g),Ui()},ie=(g,w,$,D,z,V,k,U,q=!1)=>{const N=g&&g.children,J=g?g.shapeFlag:0,se=w.children,{patchFlag:ae,shapeFlag:he}=w;if(ae>0){if(ae&128){le(N,se,$,D,z,V,k,U,q);return}else if(ae&256){De(N,se,$,D,z,V,k,U,q);return}}he&8?(J&16&&je(N,z,V),se!==N&&d($,se)):J&16?he&16?le(N,se,$,D,z,V,k,U,q):je(N,z,V,!0):(J&8&&d($,""),he&16&&C(se,$,D,z,V,k,U,q))},De=(g,w,$,D,z,V,k,U,q)=>{g=g||To,w=w||To;const N=g.length,J=w.length,se=Math.min(N,J);let ae;for(ae=0;ae<se;ae++){const he=w[ae]=q?mi(w[ae]):mn(w[ae]);v(g[ae],he,$,null,z,V,k,U,q)}N>J?je(g,z,V,!0,!1,se):C(w,$,D,z,V,k,U,q,se)},le=(g,w,$,D,z,V,k,U,q)=>{let N=0;const J=w.length;let se=g.length-1,ae=J-1;for(;N<=se&&N<=ae;){const he=g[N],Oe=w[N]=q?mi(w[N]):mn(w[N]);if(pa(he,Oe))v(he,Oe,$,null,z,V,k,U,q);else break;N++}for(;N<=se&&N<=ae;){const he=g[se],Oe=w[ae]=q?mi(w[ae]):mn(w[ae]);if(pa(he,Oe))v(he,Oe,$,null,z,V,k,U,q);else break;se--,ae--}if(N>se){if(N<=ae){const he=ae+1,Oe=he<J?w[he].el:D;for(;N<=ae;)v(null,w[N]=q?mi(w[N]):mn(w[N]),$,Oe,z,V,k,U,q),N++}}else if(N>ae)for(;N<=se;)ee(g[N],z,V,!0),N++;else{const he=N,Oe=N,Ue=new Map;for(N=Oe;N<=ae;N++){const fr=w[N]=q?mi(w[N]):mn(w[N]);fr.key!=null&&Ue.set(fr.key,N)}let et,St=0;const Ur=ae-Oe+1;let eo=!1,mg=0;const gs=new Array(Ur);for(N=0;N<Ur;N++)gs[N]=0;for(N=he;N<=se;N++){const fr=g[N];if(St>=Ur){ee(fr,z,V,!0);continue}let sn;if(fr.key!=null)sn=Ue.get(fr.key);else for(et=Oe;et<=ae;et++)if(gs[et-Oe]===0&&pa(fr,w[et])){sn=et;break}sn===void 0?ee(fr,z,V,!0):(gs[sn-Oe]=N+1,sn>=mg?mg=sn:eo=!0,v(fr,w[sn],$,null,z,V,k,U,q),St++)}const _g=eo?q1(gs):To;for(et=_g.length-1,N=Ur-1;N>=0;N--){const fr=Oe+N,sn=w[fr],gg=fr+1<J?w[fr+1].el:D;gs[N]===0?v(null,sn,$,gg,z,V,k,U,q):eo&&(et<0||N!==_g[et]?Y(sn,$,gg,2):et--)}}},Y=(g,w,$,D,z=null)=>{const{el:V,type:k,transition:U,children:q,shapeFlag:N}=g;if(N&6){Y(g.component.subTree,w,$,D);return}if(N&128){g.suspense.move(w,$,D);return}if(N&64){k.move(g,w,$,mt);return}if(k===rt){n(V,w,$);for(let se=0;se<q.length;se++)Y(q[se],w,$,D);n(g.anchor,w,$);return}if(k===wy){S(g,w,$);return}if(D!==2&&N&1&&U)if(D===0)U.beforeEnter(V),n(V,w,$),ur(()=>U.enter(V),z);else{const{leave:se,delayLeave:ae,afterLeave:he}=U,Oe=()=>n(V,w,$),Ue=()=>{se(V,()=>{Oe(),he&&he()})};ae?ae(V,Oe,Ue):Ue()}else n(V,w,$)},ee=(g,w,$,D=!1,z=!1)=>{const{type:V,props:k,ref:U,children:q,dynamicChildren:N,shapeFlag:J,patchFlag:se,dirs:ae}=g;if(U!=null&&Kv(U,null,$,g,!0),J&256){w.ctx.deactivate(g);return}const he=J&1&&ae,Oe=!Ed(g);let Ue;if(Oe&&(Ue=k&&k.onVnodeBeforeUnmount)&&un(Ue,w,g),J&6)Tt(g.component,$,D);else{if(J&128){g.suspense.unmount($,D);return}he&&Ji(g,null,w,"beforeUnmount"),J&64?g.type.remove(g,w,$,z,mt,D):N&&(V!==rt||se>0&&se&64)?je(N,w,$,!1,!0):(V===rt&&se&384||!z&&J&16)&&je(q,w,$),D&&ze(g)}(Oe&&(Ue=k&&k.onVnodeUnmounted)||he)&&ur(()=>{Ue&&un(Ue,w,g),he&&Ji(g,null,w,"unmounted")},$)},ze=g=>{const{type:w,el:$,anchor:D,transition:z}=g;if(w===rt){Mt($,D);return}if(w===wy){T(g);return}const V=()=>{i($),z&&!z.persisted&&z.afterLeave&&z.afterLeave()};if(g.shapeFlag&1&&z&&!z.persisted){const{leave:k,delayLeave:U}=z,q=()=>k($,V);U?U(g.el,V,q):q()}else V()},Mt=(g,w)=>{let $;for(;g!==w;)$=h(g),i(g),g=$;i(w)},Tt=(g,w,$)=>{const{bum:D,scope:z,update:V,subTree:k,um:U}=g;D&&yy(D),z.stop(),V&&(V.active=!1,ee(k,g,w,$)),U&&ur(U,w),ur(()=>{g.isUnmounted=!0},w),w&&w.pendingBranch&&!w.isUnmounted&&g.asyncDep&&!g.asyncResolved&&g.suspenseId===w.pendingId&&(w.deps--,w.deps===0&&w.resolve())},je=(g,w,$,D=!1,z=!1,V=0)=>{for(let k=V;k<g.length;k++)ee(g[k],w,$,D,z)},R=g=>g.shapeFlag&6?R(g.component.subTree):g.shapeFlag&128?g.suspense.next():h(g.anchor||g.el);let G=!1;const Le=(g,w,$)=>{g==null?w._vnode&&ee(w._vnode,null,null,!0):v(w._vnode||null,g,w,null,null,null,$),G||(G=!0,Mg(),OO(),G=!1),w._vnode=g},mt={p:v,um:ee,m:Y,r:ze,mt:H,mc:C,pc:ie,pbc:K,n:R,o:e};let Lr,dr;return t&&([Lr,dr]=t(mt)),{render:Le,hydrate:Lr,createApp:z1(Le,Lr)}}function by({type:e,props:t},r){return r==="svg"&&e==="foreignObject"||r==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:r}function Yi({effect:e,update:t},r){e.allowRecurse=t.allowRecurse=r}function G1(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function HO(e,t,r=!1){const n=e.children,i=t.children;if(de(n)&&de(i))for(let a=0;a<n.length;a++){const o=n[a];let s=i[a];s.shapeFlag&1&&!s.dynamicChildren&&((s.patchFlag<=0||s.patchFlag===32)&&(s=i[a]=mi(i[a]),s.el=o.el),r||HO(o,s)),s.type===ku&&(s.el=o.el)}}function q1(e){const t=e.slice(),r=[0];let n,i,a,o,s;const u=e.length;for(n=0;n<u;n++){const c=e[n];if(c!==0){if(i=r[r.length-1],e[i]<c){t[n]=i,r.push(n);continue}for(a=0,o=r.length-1;a<o;)s=a+o>>1,e[r[s]]<c?a=s+1:o=s;c<e[r[a]]&&(a>0&&(t[n]=r[a-1]),r[a]=n)}}for(a=r.length,o=r[a-1];a-- >0;)r[a]=o,o=t[o];return r}function GO(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:GO(t)}const k1=e=>e.__isTeleport,rt=Symbol.for("v-fgt"),ku=Symbol.for("v-txt"),Jr=Symbol.for("v-cmt"),wy=Symbol.for("v-stc"),Ys=[];let Xr=null;function yi(e=!1){Ys.push(Xr=e?null:[])}function W1(){Ys.pop(),Xr=Ys[Ys.length-1]||null}let gu=1;function Lg(e){gu+=e}function X1(e){return e.dynamicChildren=gu>0?Xr||To:null,W1(),gu>0&&Xr&&Xr.push(e),e}function vi(e,t,r,n,i){return X1(_(e,t,r,n,i,!0))}function Hv(e){return e?e.__v_isVNode===!0:!1}function pa(e,t){return e.type===t.type&&e.key===t.key}const qO=({key:e})=>e!=null?e:null,Md=({ref:e,ref_key:t,ref_for:r})=>(typeof e=="number"&&(e=""+e),e!=null?vt(e)||dt(e)||pe(e)?{i:Zt,r:e,k:t,f:!!r}:e:null);function kO(e,t=null,r=null,n=0,i=null,a=e===rt?0:1,o=!1,s=!1){const u={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&qO(t),ref:t&&Md(t),scopeId:jO,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Zt};return s?(e_(u,r),a&128&&e.normalize(u)):r&&(u.shapeFlag|=vt(r)?8:16),gu>0&&!o&&Xr&&(u.patchFlag>0||a&6)&&u.patchFlag!==32&&Xr.push(u),u}const _=Z1;function Z1(e,t=null,r=null,n=0,i=null,a=!1){if((!e||e===EO)&&(e=Jr),Hv(e)){const s=Wn(e,t,!0);return r&&e_(s,r),gu>0&&!a&&Xr&&(s.shapeFlag&6?Xr[Xr.indexOf(e)]=s:Xr.push(s)),s.patchFlag|=-2,s}if(oR(e)&&(e=e.__vccOpts),t){t=J1(t);let{class:s,style:u}=t;s&&!vt(s)&&(t.class=Dm(s)),Qe(u)&&(pO(u)&&!de(u)&&(u=ht({},u)),t.style=Im(u))}const o=vt(e)?1:h1(e)?128:k1(e)?64:Qe(e)?4:pe(e)?2:0;return kO(e,t,r,n,i,o,a,!0)}function J1(e){return e?pO(e)||BO(e)?ht({},e):e:null}function Wn(e,t,r=!1){const{props:n,ref:i,patchFlag:a,children:o}=e,s=t?jr(n||{},t):n;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:s,key:s&&qO(s),ref:t&&t.ref?r&&i?de(i)?i.concat(Md(t)):[i,Md(t)]:Md(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==rt?a===-1?16:a|16:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Wn(e.ssContent),ssFallback:e.ssFallback&&Wn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function fa(e=" ",t=0){return _(ku,null,e,t)}function Oy(e="",t=!1){return t?(yi(),vi(Jr,null,e)):_(Jr,null,e)}function mn(e){return e==null||typeof e=="boolean"?_(Jr):de(e)?_(rt,null,e.slice()):typeof e=="object"?mi(e):_(ku,null,String(e))}function mi(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Wn(e)}function e_(e,t){let r=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(de(t))r=16;else if(typeof t=="object")if(n&65){const i=t.default;i&&(i._c&&(i._d=!1),e_(e,i()),i._c&&(i._d=!0));return}else{r=32;const i=t._;!i&&!BO(t)?t._ctx=Zt:i===3&&Zt&&(Zt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else pe(t)?(t={default:t,_ctx:Zt},r=32):(t=String(t),n&64?(r=16,t=[fa(t)]):r=8);e.children=t,e.shapeFlag|=r}function jr(...e){const t={};for(let r=0;r<e.length;r++){const n=e[r];for(const i in n)if(i==="class")t.class!==n.class&&(t.class=Dm([t.class,n.class]));else if(i==="style")t.style=Im([t.style,n.style]);else if(Pf(i)){const a=t[i],o=n[i];o&&a!==o&&!(de(a)&&a.includes(o))&&(t[i]=a?[].concat(a,o):o)}else i!==""&&(t[i]=n[i])}return t}function un(e,t,r,n=null){Nr(e,t,7,[r,n])}const Y1=DO();let Q1=0;function eR(e,t,r){const n=e.type,i=(t?t.appContext:e.appContext)||Y1,a={uid:Q1++,vnode:e,type:n,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new rO(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:LO(n,i),emitsOptions:PO(n,i),emit:null,emitted:null,propsDefaults:Je,inheritAttrs:n.inheritAttrs,ctx:Je,data:Je,props:Je,attrs:Je,slots:Je,refs:Je,setupState:Je,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=o1.bind(null,a),e.ce&&e.ce(a),a}let At=null;const t_=()=>At||Zt;let Ud,Gv;{const e=Am(),t=(r,n)=>{let i;return(i=e[r])||(i=e[r]=[]),i.push(n),a=>{i.length>1?i.forEach(o=>o(a)):i[0](a)}};Ud=t("__VUE_INSTANCE_SETTERS__",r=>At=r),Gv=t("__VUE_SSR_SETTERS__",r=>Af=r)}const Wu=e=>{const t=At;return Ud(e),e.scope.on(),()=>{e.scope.off(),Ud(t)}},Ug=()=>{At&&At.scope.off(),Ud(null)};function WO(e){return e.vnode.shapeFlag&4}let Af=!1;function tR(e,t=!1){t&&Gv(t);const{props:r,children:n}=e.vnode,i=WO(e);N1(e,r,i,t),L1(e,n);const a=i?rR(e,t):void 0;return t&&Gv(!1),a}function rR(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,T1);const{setup:n}=r;if(n){const i=e.setupContext=n.length>1?iR(e):null,a=Wu(e);Li();const o=Ei(n,e,0,[e.props,i]);if(Ui(),a(),Z0(o)){if(o.then(Ug,Ug),t)return o.then(s=>{Vg(e,s,t)}).catch(s=>{Tf(s,e,0)});e.asyncDep=o}else Vg(e,o,t)}else XO(e,t)}function Vg(e,t,r){pe(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Qe(t)&&(e.setupState=_O(t)),XO(e,r)}let Kg;function XO(e,t,r){const n=e.type;if(!e.render){if(!t&&Kg&&!n.render){const i=n.template||Ym(e).template;if(i){const{isCustomElement:a,compilerOptions:o}=e.appContext.config,{delimiters:s,compilerOptions:u}=n,c=ht(ht({isCustomElement:a,delimiters:s},o),u);n.render=Kg(i,c)}}e.render=n.render||Or}{const i=Wu(e);Li();try{R1(e)}finally{Ui(),i()}}}const nR={get(e,t){return cr(e,"get",""),e[t]}};function iR(e){const t=r=>{e.exposed=r||{}};return{attrs:new Proxy(e.attrs,nR),slots:e.slots,emit:e.emit,expose:t}}function If(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(_O(XT(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in Zs)return Zs[r](e)},has(t,r){return r in t||r in Zs}}))}function aR(e,t=!0){return pe(e)?e.displayName||e.name:e.name||t&&e.__name}function oR(e){return pe(e)&&"__vccOpts"in e}const P=(e,t)=>ZT(e,t,Af);function Xo(e,t,r){const n=arguments.length;return n===2?Qe(t)&&!de(t)?Hv(t)?_(e,null,[t]):_(e,t):_(e,null,t):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&Hv(r)&&(r=[r]),_(e,t,r))}const sR="3.4.24";/**
* @vue/runtime-dom v3.4.24
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const uR="http://www.w3.org/2000/svg",lR="http://www.w3.org/1998/Math/MathML",_i=typeof document<"u"?document:null,Hg=_i&&_i.createElement("template"),cR={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,n)=>{const i=t==="svg"?_i.createElementNS(uR,e):t==="mathml"?_i.createElementNS(lR,e):_i.createElement(e,r?{is:r}:void 0);return e==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:e=>_i.createTextNode(e),createComment:e=>_i.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>_i.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,r,n,i,a){const o=r?r.previousSibling:t.lastChild;if(i&&(i===a||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),r),!(i===a||!(i=i.nextSibling)););else{Hg.innerHTML=n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e;const s=Hg.content;if(n==="svg"||n==="mathml"){const u=s.firstChild;for(;u.firstChild;)s.appendChild(u.firstChild);s.removeChild(u)}t.insertBefore(s,r)}return[o?o.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}},ri="transition",ws="animation",No=Symbol("_vtc"),Zo=(e,{slots:t})=>Xo(g1,JO(e),t);Zo.displayName="Transition";const ZO={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},dR=Zo.props=ht({},RO,ZO),Qi=(e,t=[])=>{de(e)?e.forEach(r=>r(...t)):e&&e(...t)},Gg=e=>e?de(e)?e.some(t=>t.length>1):e.length>1:!1;function JO(e){const t={};for(const E in e)E in ZO||(t[E]=e[E]);if(e.css===!1)return t;const{name:r="v",type:n,duration:i,enterFromClass:a=`${r}-enter-from`,enterActiveClass:o=`${r}-enter-active`,enterToClass:s=`${r}-enter-to`,appearFromClass:u=a,appearActiveClass:c=o,appearToClass:d=s,leaveFromClass:f=`${r}-leave-from`,leaveActiveClass:h=`${r}-leave-active`,leaveToClass:p=`${r}-leave-to`}=e,y=fR(i),v=y&&y[0],m=y&&y[1],{onBeforeEnter:b,onEnter:O,onEnterCancelled:S,onLeave:T,onLeaveCancelled:x,onBeforeAppear:M=b,onAppear:I=O,onAppearCancelled:C=S}=t,A=(E,F,H)=>{fi(E,F?d:s),fi(E,F?c:o),H&&H()},K=(E,F)=>{E._isLeaving=!1,fi(E,f),fi(E,p),fi(E,h),F&&F()},X=E=>(F,H)=>{const oe=E?I:O,re=()=>A(F,E,H);Qi(oe,[F,re]),qg(()=>{fi(F,E?u:a),Un(F,E?d:s),Gg(oe)||kg(F,n,v,re)})};return ht(t,{onBeforeEnter(E){Qi(b,[E]),Un(E,a),Un(E,o)},onBeforeAppear(E){Qi(M,[E]),Un(E,u),Un(E,c)},onEnter:X(!1),onAppear:X(!0),onLeave(E,F){E._isLeaving=!0;const H=()=>K(E,F);Un(E,f),Un(E,h),QO(),qg(()=>{!E._isLeaving||(fi(E,f),Un(E,p),Gg(T)||kg(E,n,m,H))}),Qi(T,[E,H])},onEnterCancelled(E){A(E,!1),Qi(S,[E])},onAppearCancelled(E){A(E,!0),Qi(C,[E])},onLeaveCancelled(E){K(E),Qi(x,[E])}})}function fR(e){if(e==null)return null;if(Qe(e))return[Sy(e.enter),Sy(e.leave)];{const t=Sy(e);return[t,t]}}function Sy(e){return mT(e)}function Un(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.add(r)),(e[No]||(e[No]=new Set)).add(t)}function fi(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.remove(n));const r=e[No];r&&(r.delete(t),r.size||(e[No]=void 0))}function qg(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let hR=0;function kg(e,t,r,n){const i=e._endId=++hR,a=()=>{i===e._endId&&n()};if(r)return setTimeout(a,r);const{type:o,timeout:s,propCount:u}=YO(e,t);if(!o)return n();const c=o+"end";let d=0;const f=()=>{e.removeEventListener(c,h),a()},h=p=>{p.target===e&&++d>=u&&f()};setTimeout(()=>{d<u&&f()},s+1),e.addEventListener(c,h)}function YO(e,t){const r=window.getComputedStyle(e),n=y=>(r[y]||"").split(", "),i=n(`${ri}Delay`),a=n(`${ri}Duration`),o=Wg(i,a),s=n(`${ws}Delay`),u=n(`${ws}Duration`),c=Wg(s,u);let d=null,f=0,h=0;t===ri?o>0&&(d=ri,f=o,h=a.length):t===ws?c>0&&(d=ws,f=c,h=u.length):(f=Math.max(o,c),d=f>0?o>c?ri:ws:null,h=d?d===ri?a.length:u.length:0);const p=d===ri&&/\b(transform|all)(,|$)/.test(n(`${ri}Property`).toString());return{type:d,timeout:f,propCount:h,hasTransform:p}}function Wg(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((r,n)=>Xg(r)+Xg(e[n])))}function Xg(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function QO(){return document.body.offsetHeight}function pR(e,t,r){const n=e[No];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}const Vd=Symbol("_vod"),eS=Symbol("_vsh"),Da={beforeMount(e,{value:t},{transition:r}){e[Vd]=e.style.display==="none"?"":e.style.display,r&&t?r.beforeEnter(e):Os(e,t)},mounted(e,{value:t},{transition:r}){r&&t&&r.enter(e)},updated(e,{value:t,oldValue:r},{transition:n}){!t!=!r&&(n?t?(n.beforeEnter(e),Os(e,!0),n.enter(e)):n.leave(e,()=>{Os(e,!1)}):Os(e,t))},beforeUnmount(e,{value:t}){Os(e,t)}};function Os(e,t){e.style.display=t?e[Vd]:"none",e[eS]=!t}const yR=Symbol(""),vR=/(^|;)\s*display\s*:/;function mR(e,t,r){const n=e.style,i=vt(r);let a=!1;if(r&&!i){if(t)if(vt(t))for(const o of t.split(";")){const s=o.slice(0,o.indexOf(":")).trim();r[s]==null&&Td(n,s,"")}else for(const o in t)r[o]==null&&Td(n,o,"");for(const o in r)o==="display"&&(a=!0),Td(n,o,r[o])}else if(i){if(t!==r){const o=n[yR];o&&(r+=";"+o),n.cssText=r,a=vR.test(r)}}else t&&e.removeAttribute("style");Vd in e&&(e[Vd]=a?n.display:"",e[eS]&&(n.display="none"))}const Zg=/\s*!important$/;function Td(e,t,r){if(de(r))r.forEach(n=>Td(e,t,n));else if(r==null&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const n=_R(e,t);Zg.test(r)?e.setProperty(Ga(n),r.replace(Zg,""),"important"):e[n]=r}}const Jg=["Webkit","Moz","ms"],Py={};function _R(e,t){const r=Py[t];if(r)return r;let n=Br(t);if(n!=="filter"&&n in e)return Py[t]=n;n=ko(n);for(let i=0;i<Jg.length;i++){const a=Jg[i]+n;if(a in e)return Py[t]=a}return t}const Yg="http://www.w3.org/1999/xlink";function gR(e,t,r,n,i){if(n&&t.startsWith("xlink:"))r==null?e.removeAttributeNS(Yg,t.slice(6,t.length)):e.setAttributeNS(Yg,t,r);else{const a=ST(t);r==null||a&&!eO(r)?e.removeAttribute(t):e.setAttribute(t,a?"":r)}}function bR(e,t,r,n,i,a,o){if(t==="innerHTML"||t==="textContent"){n&&o(n,i,a),e[t]=r==null?"":r;return}const s=e.tagName;if(t==="value"&&s!=="PROGRESS"&&!s.includes("-")){const c=s==="OPTION"?e.getAttribute("value")||"":e.value,d=r==null?"":r;(c!==d||!("_value"in e))&&(e.value=d),r==null&&e.removeAttribute(t),e._value=r;return}let u=!1;if(r===""||r==null){const c=typeof e[t];c==="boolean"?r=eO(r):r==null&&c==="string"?(r="",u=!0):c==="number"&&(r=0,u=!0)}try{e[t]=r}catch{}u&&e.removeAttribute(t)}function wR(e,t,r,n){e.addEventListener(t,r,n)}function OR(e,t,r,n){e.removeEventListener(t,r,n)}const Qg=Symbol("_vei");function SR(e,t,r,n,i=null){const a=e[Qg]||(e[Qg]={}),o=a[t];if(n&&o)o.value=n;else{const[s,u]=PR(t);if(n){const c=a[t]=ER(n,i);wR(e,s,c,u)}else o&&(OR(e,s,o,u),a[t]=void 0)}}const eb=/(?:Once|Passive|Capture)$/;function PR(e){let t;if(eb.test(e)){t={};let n;for(;n=e.match(eb);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Ga(e.slice(2)),t]}let jy=0;const jR=Promise.resolve(),CR=()=>jy||(jR.then(()=>jy=0),jy=Date.now());function ER(e,t){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;Nr(MR(n,r.value),t,5,[n])};return r.value=e,r.attached=CR(),r}function MR(e,t){if(de(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(n=>i=>!i._stopped&&n&&n(i))}else return t}const tb=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,TR=(e,t,r,n,i,a,o,s,u)=>{const c=i==="svg";t==="class"?pR(e,n,c):t==="style"?mR(e,r,n):Pf(t)?Rm(t)||SR(e,t,r,n,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):RR(e,t,n,c))?bR(e,t,n,a,o,s,u):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),gR(e,t,n,c))};function RR(e,t,r,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&tb(t)&&pe(r));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return tb(t)&&vt(r)?!1:t in e}const tS=new WeakMap,rS=new WeakMap,Kd=Symbol("_moveCb"),rb=Symbol("_enterCb"),nS={name:"TransitionGroup",props:ht({},dR,{tag:String,moveClass:String}),setup(e,{slots:t}){const r=t_(),n=TO();let i,a;return Jm(()=>{if(!i.length)return;const o=e.moveClass||`${e.name||"v"}-move`;if(!DR(i[0].el,r.vnode.el,o))return;i.forEach(xR),i.forEach(AR);const s=i.filter(IR);QO(),s.forEach(u=>{const c=u.el,d=c.style;Un(c,o),d.transform=d.webkitTransform=d.transitionDuration="";const f=c[Kd]=h=>{h&&h.target!==c||(!h||/transform$/.test(h.propertyName))&&(c.removeEventListener("transitionend",f),c[Kd]=null,fi(c,o))};c.addEventListener("transitionend",f)})}),()=>{const o=fe(e),s=JO(o);let u=o.tag||rt;if(i=[],a)for(let c=0;c<a.length;c++){const d=a[c];d.el&&d.el instanceof Element&&(i.push(d),_u(d,mu(d,s,n,r)),tS.set(d,d.el.getBoundingClientRect()))}a=t.default?Xm(t.default()):[];for(let c=0;c<a.length;c++){const d=a[c];d.key!=null&&_u(d,mu(d,s,n,r))}return _(u,null,a)}}},$R=e=>delete e.mode;nS.props;const iS=nS;function xR(e){const t=e.el;t[Kd]&&t[Kd](),t[rb]&&t[rb]()}function AR(e){rS.set(e,e.el.getBoundingClientRect())}function IR(e){const t=tS.get(e),r=rS.get(e),n=t.left-r.left,i=t.top-r.top;if(n||i){const a=e.el.style;return a.transform=a.webkitTransform=`translate(${n}px,${i}px)`,a.transitionDuration="0s",e}}function DR(e,t,r){const n=e.cloneNode(),i=e[No];i&&i.forEach(s=>{s.split(/\s+/).forEach(u=>u&&n.classList.remove(u))}),r.split(/\s+/).forEach(s=>s&&n.classList.add(s)),n.style.display="none";const a=t.nodeType===1?t:t.parentNode;a.appendChild(n);const{hasTransform:o}=YO(n);return a.removeChild(n),o}const zR={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},NR=(e,t)=>{const r=e._withKeys||(e._withKeys={}),n=t.join(".");return r[n]||(r[n]=i=>{if(!("key"in i))return;const a=Ga(i.key);if(t.some(o=>o===a||zR[o]===a))return e(i)})},BR=ht({patchProp:TR},cR);let nb;function FR(){return nb||(nb=K1(BR))}const LR=(...e)=>{const t=FR().createApp(...e),{mount:r}=t;return t.mount=n=>{const i=VR(n);if(!i)return;const a=t._component;!pe(a)&&!a.render&&!a.template&&(a.template=i.innerHTML),i.innerHTML="";const o=r(i,!1,UR(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},t};function UR(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function VR(e){return vt(e)?document.querySelector(e):e}const KR="modulepreload",HR=function(e){return"/"+e},ib={},gr=function(t,r,n){if(!r||r.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(r.map(a=>{if(a=HR(a),a in ib)return;ib[a]=!0;const o=a.endsWith(".css"),s=o?'[rel="stylesheet"]':"";if(!!n)for(let d=i.length-1;d>=0;d--){const f=i[d];if(f.href===a&&(!o||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${s}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":KR,o||(c.as="script",c.crossOrigin=""),c.href=a,document.head.appendChild(c),o)return new Promise((d,f)=>{c.addEventListener("load",d),c.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>t())};class Qs{constructor(t){var r;Object.defineProperty(this,"pageContent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.pageContent=t.pageContent?t.pageContent.toString():this.pageContent,this.metadata=(r=t.metadata)!=null?r:{}}}var Me;(function(e){e.assertEqual=i=>i;function t(i){}e.assertIs=t;function r(i){throw new Error}e.assertNever=r,e.arrayToEnum=i=>{const a={};for(const o of i)a[o]=o;return a},e.getValidEnumValues=i=>{const a=e.objectKeys(i).filter(s=>typeof i[i[s]]!="number"),o={};for(const s of a)o[s]=i[s];return e.objectValues(o)},e.objectValues=i=>e.objectKeys(i).map(function(a){return i[a]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&a.push(o);return a},e.find=(i,a)=>{for(const o of i)if(a(o))return o},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function n(i,a=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}e.joinValues=n,e.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(Me||(Me={}));var qv;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(qv||(qv={}));const Z=Me.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),wi=e=>{switch(typeof e){case"undefined":return Z.undefined;case"string":return Z.string;case"number":return isNaN(e)?Z.nan:Z.number;case"boolean":return Z.boolean;case"function":return Z.function;case"bigint":return Z.bigint;case"symbol":return Z.symbol;case"object":return Array.isArray(e)?Z.array:e===null?Z.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Z.promise:typeof Map<"u"&&e instanceof Map?Z.map:typeof Set<"u"&&e instanceof Set?Z.set:typeof Date<"u"&&e instanceof Date?Z.date:Z.object;default:return Z.unknown}},B=Me.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),GR=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class Cr extends Error{constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const r=t||function(a){return a.message},n={_errors:[]},i=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let s=n,u=0;for(;u<o.path.length;){const c=o.path[u];u===o.path.length-1?(s[c]=s[c]||{_errors:[]},s[c]._errors.push(r(o))):s[c]=s[c]||{_errors:[]},s=s[c],u++}}};return i(this),n}static assert(t){if(!(t instanceof Cr))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Me.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const i of this.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(t(i))):n.push(t(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Cr.create=e=>new Cr(e);const Bo=(e,t)=>{let r;switch(e.code){case B.invalid_type:e.received===Z.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case B.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Me.jsonStringifyReplacer)}`;break;case B.unrecognized_keys:r=`Unrecognized key(s) in object: ${Me.joinValues(e.keys,", ")}`;break;case B.invalid_union:r="Invalid input";break;case B.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Me.joinValues(e.options)}`;break;case B.invalid_enum_value:r=`Invalid enum value. Expected ${Me.joinValues(e.options)}, received '${e.received}'`;break;case B.invalid_arguments:r="Invalid function arguments";break;case B.invalid_return_type:r="Invalid function return type";break;case B.invalid_date:r="Invalid date";break;case B.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Me.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case B.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case B.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case B.custom:r="Invalid input";break;case B.invalid_intersection_types:r="Intersection results could not be merged";break;case B.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case B.not_finite:r="Number must be finite";break;default:r=t.defaultError,Me.assertNever(e)}return{message:r}};let aS=Bo;function qR(e){aS=e}function Hd(){return aS}const Gd=e=>{const{data:t,path:r,errorMaps:n,issueData:i}=e,a=[...r,...i.path||[]],o={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let s="";const u=n.filter(c=>!!c).slice().reverse();for(const c of u)s=c(o,{data:t,defaultError:s}).message;return{...i,path:a,message:s}},kR=[];function W(e,t){const r=Hd(),n=Gd({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===Bo?void 0:Bo].filter(i=>!!i)});e.common.issues.push(n)}class Ut{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const i of r){if(i.status==="aborted")return ce;i.status==="dirty"&&t.dirty(),n.push(i.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const i of r){const a=await i.key,o=await i.value;n.push({key:a,value:o})}return Ut.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const i of r){const{key:a,value:o}=i;if(a.status==="aborted"||o.status==="aborted")return ce;a.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(n[a.value]=o.value)}return{status:t.value,value:n}}}const ce=Object.freeze({status:"aborted"}),jo=e=>({status:"dirty",value:e}),Qt=e=>({status:"valid",value:e}),kv=e=>e.status==="aborted",Wv=e=>e.status==="dirty",bu=e=>e.status==="valid",qd=e=>typeof Promise<"u"&&e instanceof Promise;function kd(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function oS(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r}var te;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(te||(te={}));var Gs,qs;class En{constructor(t,r,n,i){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const ab=(e,t)=>{if(bu(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Cr(e.common.issues);return this._error=r,this._error}}};function me(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:i}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(o,s)=>{var u,c;const{message:d}=e;return o.code==="invalid_enum_value"?{message:d!=null?d:s.defaultError}:typeof s.data>"u"?{message:(u=d!=null?d:n)!==null&&u!==void 0?u:s.defaultError}:o.code!=="invalid_type"?{message:s.defaultError}:{message:(c=d!=null?d:r)!==null&&c!==void 0?c:s.defaultError}},description:i}}class be{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return wi(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:wi(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Ut,ctx:{common:t.parent.common,data:t.data,parsedType:wi(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(qd(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){var n;const i={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:wi(t)},a=this._parseSync({data:t,path:i.path,parent:i});return ab(i,a)}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:wi(t)},i=this._parse({data:t,path:n.path,parent:n}),a=await(qd(i)?i:Promise.resolve(i));return ab(n,a)}refine(t,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,a)=>{const o=t(i),s=()=>a.addIssue({code:B.custom,...n(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(u=>u?!0:(s(),!1)):o?!0:(s(),!1)})}refinement(t,r){return this._refinement((n,i)=>t(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(t){return new en({schema:this,typeName:L.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return jn.create(this,this._def)}nullable(){return Di.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Yr.create(this,this._def)}promise(){return Lo.create(this,this._def)}or(t){return Pu.create([this,t],this._def)}and(t){return ju.create(this,t,this._def)}transform(t){return new en({...me(this._def),schema:this,typeName:L.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new Ru({...me(this._def),innerType:this,defaultValue:r,typeName:L.ZodDefault})}brand(){return new r_({typeName:L.ZodBranded,type:this,...me(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new $u({...me(this._def),innerType:this,catchValue:r,typeName:L.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return Xu.create(this,t)}readonly(){return xu.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const WR=/^c[^\s-]{8,}$/i,XR=/^[0-9a-z]+$/,ZR=/^[0-9A-HJKMNP-TV-Z]{26}$/,JR=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,YR=/^[a-z0-9_-]{21}$/i,QR=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,e$=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,t$="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Cy;const r$=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,n$=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,i$=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,sS="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",a$=new RegExp(`^${sS}$`);function uS(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function o$(e){return new RegExp(`^${uS(e)}$`)}function lS(e){let t=`${sS}T${uS(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function s$(e,t){return!!((t==="v4"||!t)&&r$.test(e)||(t==="v6"||!t)&&n$.test(e))}class Zr extends be{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Z.string){const a=this._getOrReturnCtx(t);return W(a,{code:B.invalid_type,expected:Z.string,received:a.parsedType}),ce}const n=new Ut;let i;for(const a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(i=this._getOrReturnCtx(t,i),W(i,{code:B.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")t.data.length>a.value&&(i=this._getOrReturnCtx(t,i),W(i,{code:B.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const o=t.data.length>a.value,s=t.data.length<a.value;(o||s)&&(i=this._getOrReturnCtx(t,i),o?W(i,{code:B.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):s&&W(i,{code:B.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")e$.test(t.data)||(i=this._getOrReturnCtx(t,i),W(i,{validation:"email",code:B.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")Cy||(Cy=new RegExp(t$,"u")),Cy.test(t.data)||(i=this._getOrReturnCtx(t,i),W(i,{validation:"emoji",code:B.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")JR.test(t.data)||(i=this._getOrReturnCtx(t,i),W(i,{validation:"uuid",code:B.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")YR.test(t.data)||(i=this._getOrReturnCtx(t,i),W(i,{validation:"nanoid",code:B.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")WR.test(t.data)||(i=this._getOrReturnCtx(t,i),W(i,{validation:"cuid",code:B.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")XR.test(t.data)||(i=this._getOrReturnCtx(t,i),W(i,{validation:"cuid2",code:B.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")ZR.test(t.data)||(i=this._getOrReturnCtx(t,i),W(i,{validation:"ulid",code:B.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),W(i,{validation:"url",code:B.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),W(i,{validation:"regex",code:B.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(t,i),W(i,{code:B.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(i=this._getOrReturnCtx(t,i),W(i,{code:B.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(i=this._getOrReturnCtx(t,i),W(i,{code:B.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?lS(a).test(t.data)||(i=this._getOrReturnCtx(t,i),W(i,{code:B.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?a$.test(t.data)||(i=this._getOrReturnCtx(t,i),W(i,{code:B.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?o$(a).test(t.data)||(i=this._getOrReturnCtx(t,i),W(i,{code:B.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?QR.test(t.data)||(i=this._getOrReturnCtx(t,i),W(i,{validation:"duration",code:B.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?s$(t.data,a.version)||(i=this._getOrReturnCtx(t,i),W(i,{validation:"ip",code:B.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?i$.test(t.data)||(i=this._getOrReturnCtx(t,i),W(i,{validation:"base64",code:B.invalid_string,message:a.message}),n.dirty()):Me.assertNever(a);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(i=>t.test(i),{validation:r,code:B.invalid_string,...te.errToObj(n)})}_addCheck(t){return new Zr({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...te.errToObj(t)})}url(t){return this._addCheck({kind:"url",...te.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...te.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...te.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...te.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...te.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...te.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...te.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...te.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...te.errToObj(t)})}datetime(t){var r,n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!==null&&r!==void 0?r:!1,local:(n=t==null?void 0:t.local)!==null&&n!==void 0?n:!1,...te.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...te.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...te.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...te.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...te.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...te.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...te.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...te.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...te.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...te.errToObj(r)})}nonempty(t){return this.min(1,te.errToObj(t))}trim(){return new Zr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Zr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Zr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Zr.create=e=>{var t;return new Zr({checks:[],typeName:L.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...me(e)})};function u$(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,i=r>n?r:n,a=parseInt(e.toFixed(i).replace(".","")),o=parseInt(t.toFixed(i).replace(".",""));return a%o/Math.pow(10,i)}class xi extends be{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Z.number){const a=this._getOrReturnCtx(t);return W(a,{code:B.invalid_type,expected:Z.number,received:a.parsedType}),ce}let n;const i=new Ut;for(const a of this._def.checks)a.kind==="int"?Me.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),W(n,{code:B.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),W(n,{code:B.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),W(n,{code:B.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?u$(t.data,a.value)!==0&&(n=this._getOrReturnCtx(t,n),W(n,{code:B.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),W(n,{code:B.not_finite,message:a.message}),i.dirty()):Me.assertNever(a);return{status:i.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,te.toString(r))}gt(t,r){return this.setLimit("min",t,!1,te.toString(r))}lte(t,r){return this.setLimit("max",t,!0,te.toString(r))}lt(t,r){return this.setLimit("max",t,!1,te.toString(r))}setLimit(t,r,n,i){return new xi({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:te.toString(i)}]})}_addCheck(t){return new xi({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:te.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:te.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:te.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:te.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:te.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:te.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:te.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:te.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:te.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Me.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}xi.create=e=>new xi({checks:[],typeName:L.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...me(e)});class Ai extends be{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==Z.bigint){const a=this._getOrReturnCtx(t);return W(a,{code:B.invalid_type,expected:Z.bigint,received:a.parsedType}),ce}let n;const i=new Ut;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),W(n,{code:B.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),W(n,{code:B.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),W(n,{code:B.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):Me.assertNever(a);return{status:i.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,te.toString(r))}gt(t,r){return this.setLimit("min",t,!1,te.toString(r))}lte(t,r){return this.setLimit("max",t,!0,te.toString(r))}lt(t,r){return this.setLimit("max",t,!1,te.toString(r))}setLimit(t,r,n,i){return new Ai({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:te.toString(i)}]})}_addCheck(t){return new Ai({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:te.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:te.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:te.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:te.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:te.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Ai.create=e=>{var t;return new Ai({checks:[],typeName:L.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...me(e)})};class wu extends be{_parse(t){if(this._def.coerce&&(t.data=Boolean(t.data)),this._getType(t)!==Z.boolean){const n=this._getOrReturnCtx(t);return W(n,{code:B.invalid_type,expected:Z.boolean,received:n.parsedType}),ce}return Qt(t.data)}}wu.create=e=>new wu({typeName:L.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...me(e)});class za extends be{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Z.date){const a=this._getOrReturnCtx(t);return W(a,{code:B.invalid_type,expected:Z.date,received:a.parsedType}),ce}if(isNaN(t.data.getTime())){const a=this._getOrReturnCtx(t);return W(a,{code:B.invalid_date}),ce}const n=new Ut;let i;for(const a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(i=this._getOrReturnCtx(t,i),W(i,{code:B.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(i=this._getOrReturnCtx(t,i),W(i,{code:B.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):Me.assertNever(a);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new za({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:te.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:te.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}za.create=e=>new za({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:L.ZodDate,...me(e)});class Wd extends be{_parse(t){if(this._getType(t)!==Z.symbol){const n=this._getOrReturnCtx(t);return W(n,{code:B.invalid_type,expected:Z.symbol,received:n.parsedType}),ce}return Qt(t.data)}}Wd.create=e=>new Wd({typeName:L.ZodSymbol,...me(e)});class Ou extends be{_parse(t){if(this._getType(t)!==Z.undefined){const n=this._getOrReturnCtx(t);return W(n,{code:B.invalid_type,expected:Z.undefined,received:n.parsedType}),ce}return Qt(t.data)}}Ou.create=e=>new Ou({typeName:L.ZodUndefined,...me(e)});class Su extends be{_parse(t){if(this._getType(t)!==Z.null){const n=this._getOrReturnCtx(t);return W(n,{code:B.invalid_type,expected:Z.null,received:n.parsedType}),ce}return Qt(t.data)}}Su.create=e=>new Su({typeName:L.ZodNull,...me(e)});class Fo extends be{constructor(){super(...arguments),this._any=!0}_parse(t){return Qt(t.data)}}Fo.create=e=>new Fo({typeName:L.ZodAny,...me(e)});class Ea extends be{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Qt(t.data)}}Ea.create=e=>new Ea({typeName:L.ZodUnknown,...me(e)});class Xn extends be{_parse(t){const r=this._getOrReturnCtx(t);return W(r,{code:B.invalid_type,expected:Z.never,received:r.parsedType}),ce}}Xn.create=e=>new Xn({typeName:L.ZodNever,...me(e)});class Xd extends be{_parse(t){if(this._getType(t)!==Z.undefined){const n=this._getOrReturnCtx(t);return W(n,{code:B.invalid_type,expected:Z.void,received:n.parsedType}),ce}return Qt(t.data)}}Xd.create=e=>new Xd({typeName:L.ZodVoid,...me(e)});class Yr extends be{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),i=this._def;if(r.parsedType!==Z.array)return W(r,{code:B.invalid_type,expected:Z.array,received:r.parsedType}),ce;if(i.exactLength!==null){const o=r.data.length>i.exactLength.value,s=r.data.length<i.exactLength.value;(o||s)&&(W(r,{code:o?B.too_big:B.too_small,minimum:s?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(W(r,{code:B.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(W(r,{code:B.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,s)=>i.type._parseAsync(new En(r,o,r.path,s)))).then(o=>Ut.mergeArray(n,o));const a=[...r.data].map((o,s)=>i.type._parseSync(new En(r,o,r.path,s)));return Ut.mergeArray(n,a)}get element(){return this._def.type}min(t,r){return new Yr({...this._def,minLength:{value:t,message:te.toString(r)}})}max(t,r){return new Yr({...this._def,maxLength:{value:t,message:te.toString(r)}})}length(t,r){return new Yr({...this._def,exactLength:{value:t,message:te.toString(r)}})}nonempty(t){return this.min(1,t)}}Yr.create=(e,t)=>new Yr({type:e,minLength:null,maxLength:null,exactLength:null,typeName:L.ZodArray,...me(t)});function Oo(e){if(e instanceof ot){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=jn.create(Oo(n))}return new ot({...e._def,shape:()=>t})}else return e instanceof Yr?new Yr({...e._def,type:Oo(e.element)}):e instanceof jn?jn.create(Oo(e.unwrap())):e instanceof Di?Di.create(Oo(e.unwrap())):e instanceof Mn?Mn.create(e.items.map(t=>Oo(t))):e}class ot extends be{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=Me.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==Z.object){const c=this._getOrReturnCtx(t);return W(c,{code:B.invalid_type,expected:Z.object,received:c.parsedType}),ce}const{status:n,ctx:i}=this._processInputParams(t),{shape:a,keys:o}=this._getCached(),s=[];if(!(this._def.catchall instanceof Xn&&this._def.unknownKeys==="strip"))for(const c in i.data)o.includes(c)||s.push(c);const u=[];for(const c of o){const d=a[c],f=i.data[c];u.push({key:{status:"valid",value:c},value:d._parse(new En(i,f,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof Xn){const c=this._def.unknownKeys;if(c==="passthrough")for(const d of s)u.push({key:{status:"valid",value:d},value:{status:"valid",value:i.data[d]}});else if(c==="strict")s.length>0&&(W(i,{code:B.unrecognized_keys,keys:s}),n.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const d of s){const f=i.data[d];u.push({key:{status:"valid",value:d},value:c._parse(new En(i,f,i.path,d)),alwaysSet:d in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const c=[];for(const d of u){const f=await d.key,h=await d.value;c.push({key:f,value:h,alwaysSet:d.alwaysSet})}return c}).then(c=>Ut.mergeObjectSync(n,c)):Ut.mergeObjectSync(n,u)}get shape(){return this._def.shape()}strict(t){return te.errToObj,new ot({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var i,a,o,s;const u=(o=(a=(i=this._def).errorMap)===null||a===void 0?void 0:a.call(i,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(s=te.errToObj(t).message)!==null&&s!==void 0?s:u}:{message:u}}}:{}})}strip(){return new ot({...this._def,unknownKeys:"strip"})}passthrough(){return new ot({...this._def,unknownKeys:"passthrough"})}extend(t){return new ot({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new ot({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:L.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new ot({...this._def,catchall:t})}pick(t){const r={};return Me.objectKeys(t).forEach(n=>{t[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new ot({...this._def,shape:()=>r})}omit(t){const r={};return Me.objectKeys(this.shape).forEach(n=>{t[n]||(r[n]=this.shape[n])}),new ot({...this._def,shape:()=>r})}deepPartial(){return Oo(this)}partial(t){const r={};return Me.objectKeys(this.shape).forEach(n=>{const i=this.shape[n];t&&!t[n]?r[n]=i:r[n]=i.optional()}),new ot({...this._def,shape:()=>r})}required(t){const r={};return Me.objectKeys(this.shape).forEach(n=>{if(t&&!t[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof jn;)a=a._def.innerType;r[n]=a}}),new ot({...this._def,shape:()=>r})}keyof(){return cS(Me.objectKeys(this.shape))}}ot.create=(e,t)=>new ot({shape:()=>e,unknownKeys:"strip",catchall:Xn.create(),typeName:L.ZodObject,...me(t)});ot.strictCreate=(e,t)=>new ot({shape:()=>e,unknownKeys:"strict",catchall:Xn.create(),typeName:L.ZodObject,...me(t)});ot.lazycreate=(e,t)=>new ot({shape:e,unknownKeys:"strip",catchall:Xn.create(),typeName:L.ZodObject,...me(t)});class Pu extends be{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function i(a){for(const s of a)if(s.result.status==="valid")return s.result;for(const s of a)if(s.result.status==="dirty")return r.common.issues.push(...s.ctx.common.issues),s.result;const o=a.map(s=>new Cr(s.ctx.common.issues));return W(r,{code:B.invalid_union,unionErrors:o}),ce}if(r.common.async)return Promise.all(n.map(async a=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(i);{let a;const o=[];for(const u of n){const c={...r,common:{...r.common,issues:[]},parent:null},d=u._parseSync({data:r.data,path:r.path,parent:c});if(d.status==="valid")return d;d.status==="dirty"&&!a&&(a={result:d,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const s=o.map(u=>new Cr(u));return W(r,{code:B.invalid_union,unionErrors:s}),ce}}get options(){return this._def.options}}Pu.create=(e,t)=>new Pu({options:e,typeName:L.ZodUnion,...me(t)});const Vn=e=>e instanceof Eu?Vn(e.schema):e instanceof en?Vn(e.innerType()):e instanceof Mu?[e.value]:e instanceof Ii?e.options:e instanceof Tu?Me.objectValues(e.enum):e instanceof Ru?Vn(e._def.innerType):e instanceof Ou?[void 0]:e instanceof Su?[null]:e instanceof jn?[void 0,...Vn(e.unwrap())]:e instanceof Di?[null,...Vn(e.unwrap())]:e instanceof r_||e instanceof xu?Vn(e.unwrap()):e instanceof $u?Vn(e._def.innerType):[];class Df extends be{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Z.object)return W(r,{code:B.invalid_type,expected:Z.object,received:r.parsedType}),ce;const n=this.discriminator,i=r.data[n],a=this.optionsMap.get(i);return a?r.common.async?a._parseAsync({data:r.data,path:r.path,parent:r}):a._parseSync({data:r.data,path:r.path,parent:r}):(W(r,{code:B.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),ce)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){const i=new Map;for(const a of r){const o=Vn(a.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const s of o){if(i.has(s))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(s)}`);i.set(s,a)}}return new Df({typeName:L.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:i,...me(n)})}}function Xv(e,t){const r=wi(e),n=wi(t);if(e===t)return{valid:!0,data:e};if(r===Z.object&&n===Z.object){const i=Me.objectKeys(t),a=Me.objectKeys(e).filter(s=>i.indexOf(s)!==-1),o={...e,...t};for(const s of a){const u=Xv(e[s],t[s]);if(!u.valid)return{valid:!1};o[s]=u.data}return{valid:!0,data:o}}else if(r===Z.array&&n===Z.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let a=0;a<e.length;a++){const o=e[a],s=t[a],u=Xv(o,s);if(!u.valid)return{valid:!1};i.push(u.data)}return{valid:!0,data:i}}else return r===Z.date&&n===Z.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class ju extends be{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),i=(a,o)=>{if(kv(a)||kv(o))return ce;const s=Xv(a.value,o.value);return s.valid?((Wv(a)||Wv(o))&&r.dirty(),{status:r.value,value:s.data}):(W(n,{code:B.invalid_intersection_types}),ce)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,o])=>i(a,o)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}ju.create=(e,t,r)=>new ju({left:e,right:t,typeName:L.ZodIntersection,...me(r)});class Mn extends be{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Z.array)return W(n,{code:B.invalid_type,expected:Z.array,received:n.parsedType}),ce;if(n.data.length<this._def.items.length)return W(n,{code:B.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ce;!this._def.rest&&n.data.length>this._def.items.length&&(W(n,{code:B.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...n.data].map((o,s)=>{const u=this._def.items[s]||this._def.rest;return u?u._parse(new En(n,o,n.path,s)):null}).filter(o=>!!o);return n.common.async?Promise.all(a).then(o=>Ut.mergeArray(r,o)):Ut.mergeArray(r,a)}get items(){return this._def.items}rest(t){return new Mn({...this._def,rest:t})}}Mn.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Mn({items:e,typeName:L.ZodTuple,rest:null,...me(t)})};class Cu extends be{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Z.object)return W(n,{code:B.invalid_type,expected:Z.object,received:n.parsedType}),ce;const i=[],a=this._def.keyType,o=this._def.valueType;for(const s in n.data)i.push({key:a._parse(new En(n,s,n.path,s)),value:o._parse(new En(n,n.data[s],n.path,s)),alwaysSet:s in n.data});return n.common.async?Ut.mergeObjectAsync(r,i):Ut.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof be?new Cu({keyType:t,valueType:r,typeName:L.ZodRecord,...me(n)}):new Cu({keyType:Zr.create(),valueType:t,typeName:L.ZodRecord,...me(r)})}}class Zd extends be{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Z.map)return W(n,{code:B.invalid_type,expected:Z.map,received:n.parsedType}),ce;const i=this._def.keyType,a=this._def.valueType,o=[...n.data.entries()].map(([s,u],c)=>({key:i._parse(new En(n,s,n.path,[c,"key"])),value:a._parse(new En(n,u,n.path,[c,"value"]))}));if(n.common.async){const s=new Map;return Promise.resolve().then(async()=>{for(const u of o){const c=await u.key,d=await u.value;if(c.status==="aborted"||d.status==="aborted")return ce;(c.status==="dirty"||d.status==="dirty")&&r.dirty(),s.set(c.value,d.value)}return{status:r.value,value:s}})}else{const s=new Map;for(const u of o){const c=u.key,d=u.value;if(c.status==="aborted"||d.status==="aborted")return ce;(c.status==="dirty"||d.status==="dirty")&&r.dirty(),s.set(c.value,d.value)}return{status:r.value,value:s}}}}Zd.create=(e,t,r)=>new Zd({valueType:t,keyType:e,typeName:L.ZodMap,...me(r)});class Na extends be{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Z.set)return W(n,{code:B.invalid_type,expected:Z.set,received:n.parsedType}),ce;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(W(n,{code:B.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(W(n,{code:B.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const a=this._def.valueType;function o(u){const c=new Set;for(const d of u){if(d.status==="aborted")return ce;d.status==="dirty"&&r.dirty(),c.add(d.value)}return{status:r.value,value:c}}const s=[...n.data.values()].map((u,c)=>a._parse(new En(n,u,n.path,c)));return n.common.async?Promise.all(s).then(u=>o(u)):o(s)}min(t,r){return new Na({...this._def,minSize:{value:t,message:te.toString(r)}})}max(t,r){return new Na({...this._def,maxSize:{value:t,message:te.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Na.create=(e,t)=>new Na({valueType:e,minSize:null,maxSize:null,typeName:L.ZodSet,...me(t)});class xo extends be{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Z.function)return W(r,{code:B.invalid_type,expected:Z.function,received:r.parsedType}),ce;function n(s,u){return Gd({data:s,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Hd(),Bo].filter(c=>!!c),issueData:{code:B.invalid_arguments,argumentsError:u}})}function i(s,u){return Gd({data:s,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Hd(),Bo].filter(c=>!!c),issueData:{code:B.invalid_return_type,returnTypeError:u}})}const a={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof Lo){const s=this;return Qt(async function(...u){const c=new Cr([]),d=await s._def.args.parseAsync(u,a).catch(p=>{throw c.addIssue(n(u,p)),c}),f=await Reflect.apply(o,this,d);return await s._def.returns._def.type.parseAsync(f,a).catch(p=>{throw c.addIssue(i(f,p)),c})})}else{const s=this;return Qt(function(...u){const c=s._def.args.safeParse(u,a);if(!c.success)throw new Cr([n(u,c.error)]);const d=Reflect.apply(o,this,c.data),f=s._def.returns.safeParse(d,a);if(!f.success)throw new Cr([i(d,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new xo({...this._def,args:Mn.create(t).rest(Ea.create())})}returns(t){return new xo({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new xo({args:t||Mn.create([]).rest(Ea.create()),returns:r||Ea.create(),typeName:L.ZodFunction,...me(n)})}}class Eu extends be{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Eu.create=(e,t)=>new Eu({getter:e,typeName:L.ZodLazy,...me(t)});class Mu extends be{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return W(r,{received:r.data,code:B.invalid_literal,expected:this._def.value}),ce}return{status:"valid",value:t.data}}get value(){return this._def.value}}Mu.create=(e,t)=>new Mu({value:e,typeName:L.ZodLiteral,...me(t)});function cS(e,t){return new Ii({values:e,typeName:L.ZodEnum,...me(t)})}class Ii extends be{constructor(){super(...arguments),Gs.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return W(r,{expected:Me.joinValues(n),received:r.parsedType,code:B.invalid_type}),ce}if(kd(this,Gs,"f")||oS(this,Gs,new Set(this._def.values),"f"),!kd(this,Gs,"f").has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return W(r,{received:r.data,code:B.invalid_enum_value,options:n}),ce}return Qt(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Ii.create(t,{...this._def,...r})}exclude(t,r=this._def){return Ii.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}Gs=new WeakMap;Ii.create=cS;class Tu extends be{constructor(){super(...arguments),qs.set(this,void 0)}_parse(t){const r=Me.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==Z.string&&n.parsedType!==Z.number){const i=Me.objectValues(r);return W(n,{expected:Me.joinValues(i),received:n.parsedType,code:B.invalid_type}),ce}if(kd(this,qs,"f")||oS(this,qs,new Set(Me.getValidEnumValues(this._def.values)),"f"),!kd(this,qs,"f").has(t.data)){const i=Me.objectValues(r);return W(n,{received:n.data,code:B.invalid_enum_value,options:i}),ce}return Qt(t.data)}get enum(){return this._def.values}}qs=new WeakMap;Tu.create=(e,t)=>new Tu({values:e,typeName:L.ZodNativeEnum,...me(t)});class Lo extends be{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Z.promise&&r.common.async===!1)return W(r,{code:B.invalid_type,expected:Z.promise,received:r.parsedType}),ce;const n=r.parsedType===Z.promise?r.data:Promise.resolve(r.data);return Qt(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Lo.create=(e,t)=>new Lo({type:e,typeName:L.ZodPromise,...me(t)});class en extends be{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===L.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),i=this._def.effect||null,a={addIssue:o=>{W(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const o=i.transform(n.data,a);if(n.common.async)return Promise.resolve(o).then(async s=>{if(r.value==="aborted")return ce;const u=await this._def.schema._parseAsync({data:s,path:n.path,parent:n});return u.status==="aborted"?ce:u.status==="dirty"||r.value==="dirty"?jo(u.value):u});{if(r.value==="aborted")return ce;const s=this._def.schema._parseSync({data:o,path:n.path,parent:n});return s.status==="aborted"?ce:s.status==="dirty"||r.value==="dirty"?jo(s.value):s}}if(i.type==="refinement"){const o=s=>{const u=i.refinement(s,a);if(n.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return s};if(n.common.async===!1){const s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?ce:(s.status==="dirty"&&r.dirty(),o(s.value),{status:r.value,value:s.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(s=>s.status==="aborted"?ce:(s.status==="dirty"&&r.dirty(),o(s.value).then(()=>({status:r.value,value:s.value}))))}if(i.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!bu(o))return o;const s=i.transform(o.value,a);if(s instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:s}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>bu(o)?Promise.resolve(i.transform(o.value,a)).then(s=>({status:r.value,value:s})):o);Me.assertNever(i)}}en.create=(e,t,r)=>new en({schema:e,typeName:L.ZodEffects,effect:t,...me(r)});en.createWithPreprocess=(e,t,r)=>new en({schema:t,effect:{type:"preprocess",transform:e},typeName:L.ZodEffects,...me(r)});class jn extends be{_parse(t){return this._getType(t)===Z.undefined?Qt(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}jn.create=(e,t)=>new jn({innerType:e,typeName:L.ZodOptional,...me(t)});class Di extends be{_parse(t){return this._getType(t)===Z.null?Qt(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Di.create=(e,t)=>new Di({innerType:e,typeName:L.ZodNullable,...me(t)});class Ru extends be{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===Z.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Ru.create=(e,t)=>new Ru({innerType:e,typeName:L.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...me(t)});class $u extends be{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return qd(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Cr(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Cr(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}$u.create=(e,t)=>new $u({innerType:e,typeName:L.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...me(t)});class Jd extends be{_parse(t){if(this._getType(t)!==Z.nan){const n=this._getOrReturnCtx(t);return W(n,{code:B.invalid_type,expected:Z.nan,received:n.parsedType}),ce}return{status:"valid",value:t.data}}}Jd.create=e=>new Jd({typeName:L.ZodNaN,...me(e)});const l$=Symbol("zod_brand");class r_ extends be{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Xu extends be{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?ce:a.status==="dirty"?(r.dirty(),jo(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?ce:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(t,r){return new Xu({in:t,out:r,typeName:L.ZodPipeline})}}class xu extends be{_parse(t){const r=this._def.innerType._parse(t);return bu(r)&&(r.value=Object.freeze(r.value)),r}unwrap(){return this._def.innerType}}xu.create=(e,t)=>new xu({innerType:e,typeName:L.ZodReadonly,...me(t)});function dS(e,t={},r){return e?Fo.create().superRefine((n,i)=>{var a,o;if(!e(n)){const s=typeof t=="function"?t(n):typeof t=="string"?{message:t}:t,u=(o=(a=s.fatal)!==null&&a!==void 0?a:r)!==null&&o!==void 0?o:!0,c=typeof s=="string"?{message:s}:s;i.addIssue({code:"custom",...c,fatal:u})}}):Fo.create()}const c$={object:ot.lazycreate};var L;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(L||(L={}));const d$=(e,t={message:`Input not instance of ${e.name}`})=>dS(r=>r instanceof e,t),fS=Zr.create,hS=xi.create,f$=Jd.create,h$=Ai.create,pS=wu.create,p$=za.create,y$=Wd.create,v$=Ou.create,m$=Su.create,_$=Fo.create,g$=Ea.create,b$=Xn.create,w$=Xd.create,O$=Yr.create,S$=ot.create,P$=ot.strictCreate,j$=Pu.create,C$=Df.create,E$=ju.create,M$=Mn.create,T$=Cu.create,R$=Zd.create,$$=Na.create,x$=xo.create,A$=Eu.create,I$=Mu.create,D$=Ii.create,z$=Tu.create,N$=Lo.create,ob=en.create,B$=jn.create,F$=Di.create,L$=en.createWithPreprocess,U$=Xu.create,V$=()=>fS().optional(),K$=()=>hS().optional(),H$=()=>pS().optional(),G$={string:e=>Zr.create({...e,coerce:!0}),number:e=>xi.create({...e,coerce:!0}),boolean:e=>wu.create({...e,coerce:!0}),bigint:e=>Ai.create({...e,coerce:!0}),date:e=>za.create({...e,coerce:!0})},q$=ce;var sb=Object.freeze({__proto__:null,defaultErrorMap:Bo,setErrorMap:qR,getErrorMap:Hd,makeIssue:Gd,EMPTY_PATH:kR,addIssueToContext:W,ParseStatus:Ut,INVALID:ce,DIRTY:jo,OK:Qt,isAborted:kv,isDirty:Wv,isValid:bu,isAsync:qd,get util(){return Me},get objectUtil(){return qv},ZodParsedType:Z,getParsedType:wi,ZodType:be,datetimeRegex:lS,ZodString:Zr,ZodNumber:xi,ZodBigInt:Ai,ZodBoolean:wu,ZodDate:za,ZodSymbol:Wd,ZodUndefined:Ou,ZodNull:Su,ZodAny:Fo,ZodUnknown:Ea,ZodNever:Xn,ZodVoid:Xd,ZodArray:Yr,ZodObject:ot,ZodUnion:Pu,ZodDiscriminatedUnion:Df,ZodIntersection:ju,ZodTuple:Mn,ZodRecord:Cu,ZodMap:Zd,ZodSet:Na,ZodFunction:xo,ZodLazy:Eu,ZodLiteral:Mu,ZodEnum:Ii,ZodNativeEnum:Tu,ZodPromise:Lo,ZodEffects:en,ZodTransformer:en,ZodOptional:jn,ZodNullable:Di,ZodDefault:Ru,ZodCatch:$u,ZodNaN:Jd,BRAND:l$,ZodBranded:r_,ZodPipeline:Xu,ZodReadonly:xu,custom:dS,Schema:be,ZodSchema:be,late:c$,get ZodFirstPartyTypeKind(){return L},coerce:G$,any:_$,array:O$,bigint:h$,boolean:pS,date:p$,discriminatedUnion:C$,effect:ob,enum:D$,function:x$,instanceof:d$,intersection:E$,lazy:A$,literal:I$,map:R$,nan:f$,nativeEnum:z$,never:b$,null:m$,nullable:F$,number:hS,object:S$,oboolean:H$,onumber:K$,optional:B$,ostring:V$,pipeline:U$,preprocess:L$,promise:N$,record:T$,set:$$,strictObject:P$,string:fS,symbol:y$,transformer:ob,tuple:M$,undefined:v$,union:j$,unknown:g$,void:w$,NEVER:q$,ZodIssueCode:B,quotelessJson:GR,ZodError:Cr}),l=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function k$(e){var t=e.default;if(typeof t=="function"){var r=function(){return t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var Ba={exports:{}},yS={exports:{}},vS={};function Fr(e,t){typeof t=="boolean"&&(t={forever:t}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=t||{},this._maxRetryTime=t&&t.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}var W$=Fr;Fr.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)};Fr.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null};Fr.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var t=new Date().getTime();if(e&&t-this._operationStart>=this._maxRetryTime)return this._errors.push(e),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var r=this._timeouts.shift();if(r===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),r=this._cachedTimeouts.slice(-1);else return!1;var n=this;return this._timer=setTimeout(function(){n._attempts++,n._operationTimeoutCb&&(n._timeout=setTimeout(function(){n._operationTimeoutCb(n._attempts)},n._operationTimeout),n._options.unref&&n._timeout.unref()),n._fn(n._attempts)},r),this._options.unref&&this._timer.unref(),!0};Fr.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var r=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){r._operationTimeoutCb()},r._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};Fr.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)};Fr.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)};Fr.prototype.start=Fr.prototype.try;Fr.prototype.errors=function(){return this._errors};Fr.prototype.attempts=function(){return this._attempts};Fr.prototype.mainError=function(){if(this._errors.length===0)return null;for(var e={},t=null,r=0,n=0;n<this._errors.length;n++){var i=this._errors[n],a=i.message,o=(e[a]||0)+1;e[a]=o,o>=r&&(t=i,r=o)}return t};(function(e){var t=W$;e.operation=function(r){var n=e.timeouts(r);return new t(n,{forever:r&&(r.forever||r.retries===1/0),unref:r&&r.unref,maxRetryTime:r&&r.maxRetryTime})},e.timeouts=function(r){if(r instanceof Array)return[].concat(r);var n={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var i in r)n[i]=r[i];if(n.minTimeout>n.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var a=[],o=0;o<n.retries;o++)a.push(this.createTimeout(o,n));return r&&r.forever&&!a.length&&a.push(this.createTimeout(o,n)),a.sort(function(s,u){return s-u}),a},e.createTimeout=function(r,n){var i=n.randomize?Math.random()+1:1,a=Math.round(i*Math.max(n.minTimeout,1)*Math.pow(n.factor,r));return a=Math.min(a,n.maxTimeout),a},e.wrap=function(r,n,i){if(n instanceof Array&&(i=n,n=null),!i){i=[];for(var a in r)typeof r[a]=="function"&&i.push(a)}for(var o=0;o<i.length;o++){var s=i[o],u=r[s];r[s]=function(d){var f=e.operation(n),h=Array.prototype.slice.call(arguments,1),p=h.pop();h.push(function(y){f.retry(y)||(y&&(arguments[0]=f.mainError()),p.apply(this,arguments))}),f.attempt(function(){d.apply(r,h)})}.bind(r,u),r[s].options=n}}})(vS);(function(e){e.exports=vS})(yS);const X$=yS.exports,Z$=["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed"];class mS extends Error{constructor(t){super(),t instanceof Error?(this.originalError=t,{message:t}=t):(this.originalError=new Error(t),this.originalError.stack=this.stack),this.name="AbortError",this.message=t}}const J$=(e,t,r)=>{const n=r.retries-(t-1);return e.attemptNumber=t,e.retriesLeft=n,e},Y$=e=>Z$.includes(e),_S=(e,t)=>new Promise((r,n)=>{t={onFailedAttempt:()=>{},retries:10,...t};const i=X$.operation(t);i.attempt(async a=>{try{r(await e(a))}catch(o){if(!(o instanceof Error)){n(new TypeError(`Non-error was thrown: "${o}". You should only throw errors.`));return}if(o instanceof mS)i.stop(),n(o.originalError);else if(o instanceof TypeError&&!Y$(o.message))i.stop(),n(o);else{J$(o,a,t);try{await t.onFailedAttempt(o)}catch(s){n(s);return}i.retry(o)||n(i.mainError())}}})});Ba.exports=_S;Ba.exports.default=_S;Ba.exports.AbortError=mS;let kc;const Q$=new Uint8Array(16);function ex(){if(!kc&&(kc=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!kc))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return kc(Q$)}const tx=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function gS(e){return typeof e=="string"&&tx.test(e)}const xt=[];for(let e=0;e<256;++e)xt.push((e+256).toString(16).slice(1));function rx(e,t=0){return xt[e[t+0]]+xt[e[t+1]]+xt[e[t+2]]+xt[e[t+3]]+"-"+xt[e[t+4]]+xt[e[t+5]]+"-"+xt[e[t+6]]+xt[e[t+7]]+"-"+xt[e[t+8]]+xt[e[t+9]]+"-"+xt[e[t+10]]+xt[e[t+11]]+xt[e[t+12]]+xt[e[t+13]]+xt[e[t+14]]+xt[e[t+15]]}const nx=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),ub={randomUUID:nx};function _n(e,t,r){if(ub.randomUUID&&!t&&!e)return ub.randomUUID();e=e||{};const n=e.random||(e.rng||ex)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let i=0;i<16;++i)t[r+i]=n[i];return t}return rx(n)}var ix=function(e,t){if(typeof e!="string")throw new TypeError("Expected a string");return t=typeof t>"u"?"_":t,e.replace(/([a-z\d])([A-Z])/g,"$1"+t+"$2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1"+t+"$2").toLowerCase()},bS={exports:{}};const ax=/[\p{Lu}]/u,ox=/[\p{Ll}]/u,lb=/^[\p{Lu}](?![\p{Lu}])/gu,wS=/([\p{Alpha}\p{N}_]|$)/u,OS=/[_.\- ]+/,sx=new RegExp("^"+OS.source),cb=new RegExp(OS.source+wS.source,"gu"),db=new RegExp("\\d+"+wS.source,"gu"),ux=(e,t,r)=>{let n=!1,i=!1,a=!1;for(let o=0;o<e.length;o++){const s=e[o];n&&ax.test(s)?(e=e.slice(0,o)+"-"+e.slice(o),n=!1,a=i,i=!0,o++):i&&a&&ox.test(s)?(e=e.slice(0,o-1)+"-"+e.slice(o-1),a=i,i=!1,n=!0):(n=t(s)===s&&r(s)!==s,a=i,i=r(s)===s&&t(s)!==s)}return e},lx=(e,t)=>(lb.lastIndex=0,e.replace(lb,r=>t(r))),cx=(e,t)=>(cb.lastIndex=0,db.lastIndex=0,e.replace(cb,(r,n)=>t(n)).replace(db,r=>t(r))),SS=(e,t)=>{if(!(typeof e=="string"||Array.isArray(e)))throw new TypeError("Expected the input to be `string | string[]`");if(t={pascalCase:!1,preserveConsecutiveUppercase:!1,...t},Array.isArray(e)?e=e.map(a=>a.trim()).filter(a=>a.length).join("-"):e=e.trim(),e.length===0)return"";const r=t.locale===!1?a=>a.toLowerCase():a=>a.toLocaleLowerCase(t.locale),n=t.locale===!1?a=>a.toUpperCase():a=>a.toLocaleUpperCase(t.locale);return e.length===1?t.pascalCase?n(e):r(e):(e!==r(e)&&(e=ux(e,r,n)),e=e.replace(sx,""),t.preserveConsecutiveUppercase?e=lx(e,r):e=r(e),t.pascalCase&&(e=n(e.charAt(0))+e.slice(1)),cx(e,n))};bS.exports=SS;bS.exports.default=SS;function dx(e,t){return(t==null?void 0:t[e])||ix(e)}function fx(e,t,r){const n={};for(const i in e)Object.hasOwn(e,i)&&(n[t(i,r)]=e[i]);return n}function fb(e){return Array.isArray(e)?[...e]:{...e}}function hx(e,t){const r=fb(e);for(const[n,i]of Object.entries(t)){const[a,...o]=n.split(".").reverse();let s=r;for(const u of o.reverse()){if(s[u]===void 0)break;s[u]=fb(s[u]),s=s[u]}s[a]!==void 0&&(s[a]={lc:1,type:"secret",id:[i]})}return r}function PS(e){const t=Object.getPrototypeOf(e);return typeof e.lc_name=="function"&&(typeof t.lc_name!="function"||e.lc_name()!==t.lc_name())?e.lc_name():e.name}class Zn{static lc_name(){return this.name}get lc_id(){return[...this.lc_namespace,PS(this.constructor)]}get lc_secrets(){}get lc_attributes(){}get lc_aliases(){}constructor(t,...r){Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.lc_kwargs=t||{}}toJSON(){if(!this.lc_serializable)return this.toJSONNotImplemented();if(this.lc_kwargs instanceof Zn||typeof this.lc_kwargs!="object"||Array.isArray(this.lc_kwargs))return this.toJSONNotImplemented();const t={},r={},n=Object.keys(this.lc_kwargs).reduce((i,a)=>(i[a]=a in this?this[a]:this.lc_kwargs[a],i),{});for(let i=Object.getPrototypeOf(this);i;i=Object.getPrototypeOf(i))Object.assign(t,Reflect.get(i,"lc_aliases",this)),Object.assign(r,Reflect.get(i,"lc_secrets",this)),Object.assign(n,Reflect.get(i,"lc_attributes",this));return Object.keys(r).forEach(i=>{let a=this,o=n;const[s,...u]=i.split(".").reverse();for(const c of u.reverse()){if(!(c in a)||a[c]===void 0)return;(!(c in o)||o[c]===void 0)&&(typeof a[c]=="object"&&a[c]!=null?o[c]={}:Array.isArray(a[c])&&(o[c]=[])),a=a[c],o=o[c]}s in a&&a[s]!==void 0&&(o[s]=o[s]||a[s])}),{lc:1,type:"constructor",id:this.lc_id,kwargs:fx(Object.keys(r).length?hx(n,r):n,dx,t)}}toJSONNotImplemented(){return{lc:1,type:"not_implemented",id:this.lc_id}}}const px=()=>typeof window<"u"&&typeof window.document<"u",yx=()=>typeof globalThis=="object"&&globalThis.constructor&&globalThis.constructor.name==="DedicatedWorkerGlobalScope",vx=()=>typeof window<"u"&&window.name==="nodejs"||typeof navigator<"u"&&(navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")),jS=()=>typeof Deno<"u",mx=()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"&&!jS(),_x=()=>{let e;return px()?e="browser":mx()?e="node":yx()?e="webworker":vx()?e="jsdom":jS()?e="deno":e="other",e};let Ey;async function gx(){return Ey===void 0&&(Ey={library:"langchain-js",runtime:_x()}),Ey}function Mi(e){var t;try{return typeof process<"u"?(t=process.env)==null?void 0:t[e]:void 0}catch{return}}class bx{}class Zu extends bx{get lc_namespace(){return["langchain_core","callbacks",this.name]}get lc_secrets(){}get lc_attributes(){}get lc_aliases(){}static lc_name(){return this.name}get lc_id(){return[...this.lc_namespace,PS(this.constructor)]}constructor(t){var r,n,i,a,o;super(),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ignoreLLM",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreChain",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreAgent",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreRetriever",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"awaitHandlers",{enumerable:!0,configurable:!0,writable:!0,value:Mi("LANGCHAIN_CALLBACKS_BACKGROUND")!=="true"}),this.lc_kwargs=t||{},t&&(this.ignoreLLM=(r=t.ignoreLLM)!=null?r:this.ignoreLLM,this.ignoreChain=(n=t.ignoreChain)!=null?n:this.ignoreChain,this.ignoreAgent=(i=t.ignoreAgent)!=null?i:this.ignoreAgent,this.ignoreRetriever=(a=t.ignoreRetriever)!=null?a:this.ignoreRetriever,this.awaitHandlers=(o=t._awaitHandler)!=null?o:this.awaitHandlers)}copy(){return new this.constructor(this)}toJSON(){return Zn.prototype.toJSON.call(this)}toJSONNotImplemented(){return Zn.prototype.toJSONNotImplemented.call(this)}static fromMethods(t){class r extends Zu{constructor(){super(),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:_n()}),Object.assign(this,t)}}return new r}}var CS={exports:{}};(function(e){const r=(a=0)=>o=>`\x1B[${38+a};5;${o}m`,n=(a=0)=>(o,s,u)=>`\x1B[${38+a};2;${o};${s};${u}m`;function i(){const a=new Map,o={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};o.color.gray=o.color.blackBright,o.bgColor.bgGray=o.bgColor.bgBlackBright,o.color.grey=o.color.blackBright,o.bgColor.bgGrey=o.bgColor.bgBlackBright;for(const[s,u]of Object.entries(o)){for(const[c,d]of Object.entries(u))o[c]={open:`\x1B[${d[0]}m`,close:`\x1B[${d[1]}m`},u[c]=o[c],a.set(d[0],d[1]);Object.defineProperty(o,s,{value:u,enumerable:!1})}return Object.defineProperty(o,"codes",{value:a,enumerable:!1}),o.color.close="\x1B[39m",o.bgColor.close="\x1B[49m",o.color.ansi256=r(),o.color.ansi16m=n(),o.bgColor.ansi256=r(10),o.bgColor.ansi16m=n(10),Object.defineProperties(o,{rgbToAnsi256:{value:(s,u,c)=>s===u&&u===c?s<8?16:s>248?231:Math.round((s-8)/247*24)+232:16+36*Math.round(s/255*5)+6*Math.round(u/255*5)+Math.round(c/255*5),enumerable:!1},hexToRgb:{value:s=>{const u=/(?<colorString>[a-f\d]{6}|[a-f\d]{3})/i.exec(s.toString(16));if(!u)return[0,0,0];let{colorString:c}=u.groups;c.length===3&&(c=c.split("").map(f=>f+f).join(""));const d=Number.parseInt(c,16);return[d>>16&255,d>>8&255,d&255]},enumerable:!1},hexToAnsi256:{value:s=>o.rgbToAnsi256(...o.hexToRgb(s)),enumerable:!1}}),o}Object.defineProperty(e,"exports",{enumerable:!0,get:i})})(CS);const ES=CS.exports;function My(e,t){return e&&!Array.isArray(e)&&typeof e=="object"?e:{[t]:e}}function wx(e){return e.replace(/[-:.]/g,"")}function Ox(e,t){return wx(`${new Date(e).toISOString().slice(0,-1)}000Z`)+t}class zf extends Zu{constructor(t){super(...arguments),Object.defineProperty(this,"runMap",{enumerable:!0,configurable:!0,writable:!0,value:new Map})}copy(){return this}stringifyError(t){return t instanceof Error?t.message+(t!=null&&t.stack?`

${t.stack}`:""):typeof t=="string"?t:`${t}`}_addChildRun(t,r){t.child_runs.push(r)}async _startTrace(t){var i;const r=Ox(t.start_time,t.id),n={...t};if(n.parent_run_id!==void 0){const a=this.runMap.get(n.parent_run_id);a&&(this._addChildRun(a,n),a.child_execution_order=Math.max(a.child_execution_order,n.child_execution_order),n.trace_id=a.trace_id,a.dotted_order!==void 0&&(n.dotted_order=[a.dotted_order,r].join(".")))}else n.trace_id=n.id,n.dotted_order=r;this.runMap.set(n.id,n),await((i=this.onRunCreate)==null?void 0:i.call(this,n))}async _endTrace(t){var n;const r=t.parent_run_id!==void 0&&this.runMap.get(t.parent_run_id);r?r.child_execution_order=Math.max(r.child_execution_order,t.child_execution_order):await this.persistRun(t),this.runMap.delete(t.id),await((n=this.onRunUpdate)==null?void 0:n.call(this,t))}_getExecutionOrder(t){const r=t!==void 0&&this.runMap.get(t);return r?r.child_execution_order+1:1}async handleLLMStart(t,r,n,i,a,o,s,u){var p;const c=this._getExecutionOrder(i),d=Date.now(),f=s?{...a,metadata:s}:a,h={id:n,name:u!=null?u:t.id[t.id.length-1],parent_run_id:i,start_time:d,serialized:t,events:[{name:"start",time:new Date(d).toISOString()}],inputs:{prompts:r},execution_order:c,child_runs:[],child_execution_order:c,run_type:"llm",extra:f!=null?f:{},tags:o||[]};return await this._startTrace(h),await((p=this.onLLMStart)==null?void 0:p.call(this,h)),h}async handleChatModelStart(t,r,n,i,a,o,s,u){var p;const c=this._getExecutionOrder(i),d=Date.now(),f=s?{...a,metadata:s}:a,h={id:n,name:u!=null?u:t.id[t.id.length-1],parent_run_id:i,start_time:d,serialized:t,events:[{name:"start",time:new Date(d).toISOString()}],inputs:{messages:r},execution_order:c,child_runs:[],child_execution_order:c,run_type:"llm",extra:f!=null?f:{},tags:o||[]};return await this._startTrace(h),await((p=this.onLLMStart)==null?void 0:p.call(this,h)),h}async handleLLMEnd(t,r){var i;const n=this.runMap.get(r);if(!n||(n==null?void 0:n.run_type)!=="llm")throw new Error("No LLM run to end.");return n.end_time=Date.now(),n.outputs=t,n.events.push({name:"end",time:new Date(n.end_time).toISOString()}),await((i=this.onLLMEnd)==null?void 0:i.call(this,n)),await this._endTrace(n),n}async handleLLMError(t,r){var i;const n=this.runMap.get(r);if(!n||(n==null?void 0:n.run_type)!=="llm")throw new Error("No LLM run to end.");return n.end_time=Date.now(),n.error=this.stringifyError(t),n.events.push({name:"error",time:new Date(n.end_time).toISOString()}),await((i=this.onLLMError)==null?void 0:i.call(this,n)),await this._endTrace(n),n}async handleChainStart(t,r,n,i,a,o,s,u){var h;const c=this._getExecutionOrder(i),d=Date.now(),f={id:n,name:u!=null?u:t.id[t.id.length-1],parent_run_id:i,start_time:d,serialized:t,events:[{name:"start",time:new Date(d).toISOString()}],inputs:r,execution_order:c,child_execution_order:c,run_type:s!=null?s:"chain",child_runs:[],extra:o?{metadata:o}:{},tags:a||[]};return await this._startTrace(f),await((h=this.onChainStart)==null?void 0:h.call(this,f)),f}async handleChainEnd(t,r,n,i,a){var s;const o=this.runMap.get(r);if(!o)throw new Error("No chain run to end.");return o.end_time=Date.now(),o.outputs=My(t,"output"),o.events.push({name:"end",time:new Date(o.end_time).toISOString()}),(a==null?void 0:a.inputs)!==void 0&&(o.inputs=My(a.inputs,"input")),await((s=this.onChainEnd)==null?void 0:s.call(this,o)),await this._endTrace(o),o}async handleChainError(t,r,n,i,a){var s;const o=this.runMap.get(r);if(!o)throw new Error("No chain run to end.");return o.end_time=Date.now(),o.error=this.stringifyError(t),o.events.push({name:"error",time:new Date(o.end_time).toISOString()}),(a==null?void 0:a.inputs)!==void 0&&(o.inputs=My(a.inputs,"input")),await((s=this.onChainError)==null?void 0:s.call(this,o)),await this._endTrace(o),o}async handleToolStart(t,r,n,i,a,o,s){var f;const u=this._getExecutionOrder(i),c=Date.now(),d={id:n,name:s!=null?s:t.id[t.id.length-1],parent_run_id:i,start_time:c,serialized:t,events:[{name:"start",time:new Date(c).toISOString()}],inputs:{input:r},execution_order:u,child_execution_order:u,run_type:"tool",child_runs:[],extra:o?{metadata:o}:{},tags:a||[]};return await this._startTrace(d),await((f=this.onToolStart)==null?void 0:f.call(this,d)),d}async handleToolEnd(t,r){var i;const n=this.runMap.get(r);if(!n||(n==null?void 0:n.run_type)!=="tool")throw new Error("No tool run to end");return n.end_time=Date.now(),n.outputs={output:t},n.events.push({name:"end",time:new Date(n.end_time).toISOString()}),await((i=this.onToolEnd)==null?void 0:i.call(this,n)),await this._endTrace(n),n}async handleToolError(t,r){var i;const n=this.runMap.get(r);if(!n||(n==null?void 0:n.run_type)!=="tool")throw new Error("No tool run to end");return n.end_time=Date.now(),n.error=this.stringifyError(t),n.events.push({name:"error",time:new Date(n.end_time).toISOString()}),await((i=this.onToolError)==null?void 0:i.call(this,n)),await this._endTrace(n),n}async handleAgentAction(t,r){var a;const n=this.runMap.get(r);if(!n||(n==null?void 0:n.run_type)!=="chain")return;const i=n;i.actions=i.actions||[],i.actions.push(t),i.events.push({name:"agent_action",time:new Date().toISOString(),kwargs:{action:t}}),await((a=this.onAgentAction)==null?void 0:a.call(this,n))}async handleAgentEnd(t,r){var i;const n=this.runMap.get(r);!n||(n==null?void 0:n.run_type)!=="chain"||(n.events.push({name:"agent_end",time:new Date().toISOString(),kwargs:{action:t}}),await((i=this.onAgentEnd)==null?void 0:i.call(this,n)))}async handleRetrieverStart(t,r,n,i,a,o,s){var f;const u=this._getExecutionOrder(i),c=Date.now(),d={id:n,name:s!=null?s:t.id[t.id.length-1],parent_run_id:i,start_time:c,serialized:t,events:[{name:"start",time:new Date(c).toISOString()}],inputs:{query:r},execution_order:u,child_execution_order:u,run_type:"retriever",child_runs:[],extra:o?{metadata:o}:{},tags:a||[]};return await this._startTrace(d),await((f=this.onRetrieverStart)==null?void 0:f.call(this,d)),d}async handleRetrieverEnd(t,r){var i;const n=this.runMap.get(r);if(!n||(n==null?void 0:n.run_type)!=="retriever")throw new Error("No retriever run to end");return n.end_time=Date.now(),n.outputs={documents:t},n.events.push({name:"end",time:new Date(n.end_time).toISOString()}),await((i=this.onRetrieverEnd)==null?void 0:i.call(this,n)),await this._endTrace(n),n}async handleRetrieverError(t,r){var i;const n=this.runMap.get(r);if(!n||(n==null?void 0:n.run_type)!=="retriever")throw new Error("No retriever run to end");return n.end_time=Date.now(),n.error=this.stringifyError(t),n.events.push({name:"error",time:new Date(n.end_time).toISOString()}),await((i=this.onRetrieverError)==null?void 0:i.call(this,n)),await this._endTrace(n),n}async handleText(t,r){var i;const n=this.runMap.get(r);!n||(n==null?void 0:n.run_type)!=="chain"||(n.events.push({name:"text",time:new Date().toISOString(),kwargs:{text:t}}),await((i=this.onText)==null?void 0:i.call(this,n)))}async handleLLMNewToken(t,r,n,i,a,o){var u;const s=this.runMap.get(n);if(!s||(s==null?void 0:s.run_type)!=="llm")throw new Error('Invalid "runId" provided to "handleLLMNewToken" callback.');return s.events.push({name:"new_token",time:new Date().toISOString(),kwargs:{token:t,idx:r,chunk:o==null?void 0:o.chunk}}),await((u=this.onLLMNewToken)==null?void 0:u.call(this,s,t,{chunk:o==null?void 0:o.chunk})),s}}function kt(e,t){return`${e.open}${t}${e.close}`}function Vr(e,t){try{return JSON.stringify(e,null,2)}catch{return t}}function ni(e){if(!e.end_time)return"";const t=e.end_time-e.start_time;return t<1e3?`${t}ms`:`${(t/1e3).toFixed(2)}s`}const{color:ir}=ES;class hb extends zf{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"console_callback_handler"})}persistRun(t){return Promise.resolve()}getParents(t){const r=[];let n=t;for(;n.parent_run_id;){const i=this.runMap.get(n.parent_run_id);if(i)r.push(i),n=i;else break}return r}getBreadcrumbs(t){const n=[...this.getParents(t).reverse(),t].map((i,a,o)=>{const s=`${i.execution_order}:${i.run_type}:${i.name}`;return a===o.length-1?kt(ES.bold,s):s}).join(" > ");return kt(ir.grey,n)}onChainStart(t){const r=this.getBreadcrumbs(t);console.log(`${kt(ir.green,"[chain/start]")} [${r}] Entering Chain run with input: ${Vr(t.inputs,"[inputs]")}`)}onChainEnd(t){const r=this.getBreadcrumbs(t);console.log(`${kt(ir.cyan,"[chain/end]")} [${r}] [${ni(t)}] Exiting Chain run with output: ${Vr(t.outputs,"[outputs]")}`)}onChainError(t){const r=this.getBreadcrumbs(t);console.log(`${kt(ir.red,"[chain/error]")} [${r}] [${ni(t)}] Chain run errored with error: ${Vr(t.error,"[error]")}`)}onLLMStart(t){const r=this.getBreadcrumbs(t),n="prompts"in t.inputs?{prompts:t.inputs.prompts.map(i=>i.trim())}:t.inputs;console.log(`${kt(ir.green,"[llm/start]")} [${r}] Entering LLM run with input: ${Vr(n,"[inputs]")}`)}onLLMEnd(t){const r=this.getBreadcrumbs(t);console.log(`${kt(ir.cyan,"[llm/end]")} [${r}] [${ni(t)}] Exiting LLM run with output: ${Vr(t.outputs,"[response]")}`)}onLLMError(t){const r=this.getBreadcrumbs(t);console.log(`${kt(ir.red,"[llm/error]")} [${r}] [${ni(t)}] LLM run errored with error: ${Vr(t.error,"[error]")}`)}onToolStart(t){var n;const r=this.getBreadcrumbs(t);console.log(`${kt(ir.green,"[tool/start]")} [${r}] Entering Tool run with input: "${(n=t.inputs.input)==null?void 0:n.trim()}"`)}onToolEnd(t){var n,i;const r=this.getBreadcrumbs(t);console.log(`${kt(ir.cyan,"[tool/end]")} [${r}] [${ni(t)}] Exiting Tool run with output: "${(i=(n=t.outputs)==null?void 0:n.output)==null?void 0:i.trim()}"`)}onToolError(t){const r=this.getBreadcrumbs(t);console.log(`${kt(ir.red,"[tool/error]")} [${r}] [${ni(t)}] Tool run errored with error: ${Vr(t.error,"[error]")}`)}onRetrieverStart(t){const r=this.getBreadcrumbs(t);console.log(`${kt(ir.green,"[retriever/start]")} [${r}] Entering Retriever run with input: ${Vr(t.inputs,"[inputs]")}`)}onRetrieverEnd(t){const r=this.getBreadcrumbs(t);console.log(`${kt(ir.cyan,"[retriever/end]")} [${r}] [${ni(t)}] Exiting Retriever run with output: ${Vr(t.outputs,"[outputs]")}`)}onRetrieverError(t){const r=this.getBreadcrumbs(t);console.log(`${kt(ir.red,"[retriever/error]")} [${r}] [${ni(t)}] Retriever run errored with error: ${Vr(t.error,"[error]")}`)}onAgentAction(t){const r=t,n=this.getBreadcrumbs(t);console.log(`${kt(ir.blue,"[agent/action]")} [${n}] Agent selected action: ${Vr(r.actions[r.actions.length-1],"[action]")}`)}}var MS={},TS={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(u,c,d){this.fn=u,this.context=c,this.once=d||!1}function a(u,c,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new i(d,f||u,h),y=r?r+c:c;return u._events[y]?u._events[y].fn?u._events[y]=[u._events[y],p]:u._events[y].push(p):(u._events[y]=p,u._eventsCount++),u}function o(u,c){--u._eventsCount===0?u._events=new n:delete u._events[c]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],d,f;if(this._eventsCount===0)return c;for(f in d=this._events)t.call(d,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},s.prototype.listeners=function(c){var d=r?r+c:c,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,y=new Array(p);h<p;h++)y[h]=f[h].fn;return y},s.prototype.listenerCount=function(c){var d=r?r+c:c,f=this._events[d];return f?f.fn?1:f.length:0},s.prototype.emit=function(c,d,f,h,p,y){var v=r?r+c:c;if(!this._events[v])return!1;var m=this._events[v],b=arguments.length,O,S;if(m.fn){switch(m.once&&this.removeListener(c,m.fn,void 0,!0),b){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,d),!0;case 3:return m.fn.call(m.context,d,f),!0;case 4:return m.fn.call(m.context,d,f,h),!0;case 5:return m.fn.call(m.context,d,f,h,p),!0;case 6:return m.fn.call(m.context,d,f,h,p,y),!0}for(S=1,O=new Array(b-1);S<b;S++)O[S-1]=arguments[S];m.fn.apply(m.context,O)}else{var T=m.length,x;for(S=0;S<T;S++)switch(m[S].once&&this.removeListener(c,m[S].fn,void 0,!0),b){case 1:m[S].fn.call(m[S].context);break;case 2:m[S].fn.call(m[S].context,d);break;case 3:m[S].fn.call(m[S].context,d,f);break;case 4:m[S].fn.call(m[S].context,d,f,h);break;default:if(!O)for(x=1,O=new Array(b-1);x<b;x++)O[x-1]=arguments[x];m[S].fn.apply(m[S].context,O)}}return!0},s.prototype.on=function(c,d,f){return a(this,c,d,f,!1)},s.prototype.once=function(c,d,f){return a(this,c,d,f,!0)},s.prototype.removeListener=function(c,d,f,h){var p=r?r+c:c;if(!this._events[p])return this;if(!d)return o(this,p),this;var y=this._events[p];if(y.fn)y.fn===d&&(!h||y.once)&&(!f||y.context===f)&&o(this,p);else{for(var v=0,m=[],b=y.length;v<b;v++)(y[v].fn!==d||h&&!y[v].once||f&&y[v].context!==f)&&m.push(y[v]);m.length?this._events[p]=m.length===1?m[0]:m:o(this,p)}return this},s.prototype.removeAllListeners=function(c){var d;return c?(d=r?r+c:c,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s})(TS);var Nf={exports:{}},Sx=(e,t)=>(t=t||(()=>{}),e.then(r=>new Promise(n=>{n(t())}).then(()=>r),r=>new Promise(n=>{n(t())}).then(()=>{throw r})));const Px=Sx;class RS extends Error{constructor(t){super(t),this.name="TimeoutError"}}const $S=(e,t,r)=>new Promise((n,i)=>{if(typeof t!="number"||t<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(t===1/0){n(e);return}const a=setTimeout(()=>{if(typeof r=="function"){try{n(r())}catch(u){i(u)}return}const o=typeof r=="string"?r:`Promise timed out after ${t} milliseconds`,s=r instanceof Error?r:new RS(o);typeof e.cancel=="function"&&e.cancel(),i(s)},t);Px(e.then(n,i),()=>{clearTimeout(a)})});Nf.exports=$S;Nf.exports.default=$S;Nf.exports.TimeoutError=RS;var n_={},i_={};Object.defineProperty(i_,"__esModule",{value:!0});function jx(e,t,r){let n=0,i=e.length;for(;i>0;){const a=i/2|0;let o=n+a;r(e[o],t)<=0?(n=++o,i-=a+1):i=a}return n}i_.default=jx;Object.defineProperty(n_,"__esModule",{value:!0});const Cx=i_;class Ex{constructor(){this._queue=[]}enqueue(t,r){r=Object.assign({priority:0},r);const n={priority:r.priority,run:t};if(this.size&&this._queue[this.size-1].priority>=r.priority){this._queue.push(n);return}const i=Cx.default(this._queue,n,(a,o)=>o.priority-a.priority);this._queue.splice(i,0,n)}dequeue(){const t=this._queue.shift();return t==null?void 0:t.run}filter(t){return this._queue.filter(r=>r.priority===t.priority).map(r=>r.run)}get size(){return this._queue.length}}n_.default=Ex;Object.defineProperty(MS,"__esModule",{value:!0});const Mx=TS.exports,xS=Nf.exports,Tx=n_,Wc=()=>{},Rx=new xS.TimeoutError;class $x extends Mx{constructor(t){var r,n,i,a;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=Wc,this._resolveIdle=Wc,t=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:Tx.default},t),!(typeof t.intervalCap=="number"&&t.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(n=(r=t.intervalCap)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:""}\` (${typeof t.intervalCap})`);if(t.interval===void 0||!(Number.isFinite(t.interval)&&t.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(a=(i=t.interval)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""}\` (${typeof t.interval})`);this._carryoverConcurrencyCount=t.carryoverConcurrencyCount,this._isIntervalIgnored=t.intervalCap===1/0||t.interval===0,this._intervalCap=t.intervalCap,this._interval=t.interval,this._queue=new t.queueClass,this._queueClass=t.queueClass,this.concurrency=t.concurrency,this._timeout=t.timeout,this._throwOnTimeout=t.throwOnTimeout===!0,this._isPaused=t.autoStart===!1}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=Wc,this._pendingCount===0&&(this._resolveIdle(),this._resolveIdle=Wc,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){const t=Date.now();if(this._intervalId===void 0){const r=this._intervalEnd-t;if(r<0)this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0;else return this._timeoutId===void 0&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},r)),!0}return!1}_tryToStartAnother(){if(this._queue.size===0)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){const t=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){const r=this._queue.dequeue();return r?(this.emit("active"),r(),t&&this._initializeIntervalIfNeeded(),!0):!1}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||this._intervalId!==void 0||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){this._intervalCount===0&&this._pendingCount===0&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(t){if(!(typeof t=="number"&&t>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${t}\` (${typeof t})`);this._concurrency=t,this._processQueue()}async add(t,r={}){return new Promise((n,i)=>{const a=async()=>{this._pendingCount++,this._intervalCount++;try{const o=this._timeout===void 0&&r.timeout===void 0?t():xS.default(Promise.resolve(t()),r.timeout===void 0?this._timeout:r.timeout,()=>{(r.throwOnTimeout===void 0?this._throwOnTimeout:r.throwOnTimeout)&&i(Rx)});n(await o)}catch(o){i(o)}this._next()};this._queue.enqueue(a,r),this._tryToStartAnother(),this.emit("add")})}async addAll(t,r){return Promise.all(t.map(async n=>this.add(n,r)))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(this._queue.size!==0)return new Promise(t=>{const r=this._resolveEmpty;this._resolveEmpty=()=>{r(),t()}})}async onIdle(){if(!(this._pendingCount===0&&this._queue.size===0))return new Promise(t=>{const r=this._resolveIdle;this._resolveIdle=()=>{r(),t()}})}get size(){return this._queue.size}sizeBy(t){return this._queue.filter(t).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(t){this._timeout=t}}var Gn=MS.default=$x;const xx=[400,401,403,404,405,406,407,408],Ax=[409];class pb{constructor(t){var r,n;Object.defineProperty(this,"maxConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxRetries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onFailedResponseHook",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxConcurrency=(r=t.maxConcurrency)!=null?r:1/0,this.maxRetries=(n=t.maxRetries)!=null?n:6,"default"in Gn?this.queue=new Gn.default({concurrency:this.maxConcurrency}):this.queue=new Gn({concurrency:this.maxConcurrency}),this.onFailedResponseHook=t==null?void 0:t.onFailedResponseHook}call(t,...r){const n=this.onFailedResponseHook;return this.queue.add(()=>Ba.exports(()=>t(...r).catch(i=>{throw i instanceof Error?i:new Error(i)}),{async onFailedAttempt(i){if(i.message.startsWith("Cancel")||i.message.startsWith("TimeoutError")||i.message.startsWith("AbortError")||(i==null?void 0:i.code)==="ECONNABORTED")throw i;const a=i==null?void 0:i.response,o=a==null?void 0:a.status;if(o){if(xx.includes(+o))throw i;if(Ax.includes(+o))return;n&&await n(a)}},retries:this.maxRetries,randomize:!0}),{throwOnTimeout:!0})}callWithOptions(t,r,...n){return t.signal?Promise.race([this.call(r,...n),new Promise((i,a)=>{var o;(o=t.signal)==null||o.addEventListener("abort",()=>{a(new Error("AbortError"))})})]):this.call(r,...n)}fetch(...t){return this.call(()=>fetch(...t).then(r=>r.ok?r:Promise.reject(r)))}}function yb(e){return typeof(e==null?void 0:e._getType)=="function"}function vb(e){const t={type:e._getType(),data:{content:e.content}};return(e==null?void 0:e.additional_kwargs)&&Object.keys(e.additional_kwargs).length>0&&(t.data.additional_kwargs={...e.additional_kwargs}),t}let Dn;const Ix=()=>typeof window<"u"&&typeof window.document<"u",Dx=()=>typeof globalThis=="object"&&globalThis.constructor&&globalThis.constructor.name==="DedicatedWorkerGlobalScope",zx=()=>typeof window<"u"&&window.name==="nodejs"||typeof navigator<"u"&&(navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")),AS=()=>typeof Deno<"u",Nx=()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"&&!AS(),Bx=()=>Dn||(Ix()?Dn="browser":Nx()?Dn="node":Dx()?Dn="webworker":zx()?Dn="jsdom":AS()?Dn="deno":Dn="other",Dn);let Ty;async function Fx(){if(Ty===void 0){const e=Bx(),t=Vx();Ty={library:"langsmith",runtime:e,sdk:"langsmith-js",sdk_version:IS,...t}}return Ty}function Lx(){const e=Ux()||{},t={},r=["LANGCHAIN_API_KEY","LANGCHAIN_ENDPOINT","LANGCHAIN_TRACING_V2","LANGCHAIN_PROJECT","LANGCHAIN_SESSION"];for(const[n,i]of Object.entries(e))n.startsWith("LANGCHAIN_")&&typeof i=="string"&&!r.includes(n)&&!n.toLowerCase().includes("key")&&!n.toLowerCase().includes("secret")&&!n.toLowerCase().includes("token")&&(n==="LANGCHAIN_REVISION_ID"?t.revision_id=i:t[n]=i);return t}function Ux(){try{return typeof process<"u"&&process.env?Object.entries(process.env).reduce((e,[t,r])=>(e[t]=String(r),e),{}):void 0}catch{return}}function ya(e){var t;try{return typeof process<"u"?(t=process.env)==null?void 0:t[e]:void 0}catch{return}}let Ry;function Vx(){if(Ry!==void 0)return Ry;const e=["VERCEL_GIT_COMMIT_SHA","NEXT_PUBLIC_VERCEL_GIT_COMMIT_SHA","COMMIT_REF","RENDER_GIT_COMMIT","CI_COMMIT_SHA","CIRCLE_SHA1","CF_PAGES_COMMIT_SHA","REACT_APP_GIT_SHA","SOURCE_VERSION","GITHUB_SHA","TRAVIS_COMMIT","GIT_COMMIT","BUILD_VCS_NUMBER","bamboo_planRepository_revision","Build.SourceVersion","BITBUCKET_COMMIT","DRONE_COMMIT_SHA","SEMAPHORE_GIT_SHA","BUILDKITE_COMMIT"],t={};for(const r of e){const n=ya(r);n!==void 0&&(t[r]=n)}return Ry=t,t}function nt(e){if(!gS(e))throw new Error(`Invalid UUID: ${e}`)}async function mb(e){const t=await Fx(),r=Lx();return e.map(n=>{var o,s;const i=(o=n.extra)!=null?o:{},a=i.metadata;return n.extra={...i,runtime:{...t,...i==null?void 0:i.runtime},metadata:{...r,...r.revision_id||n.revision_id?{revision_id:(s=n.revision_id)!=null?s:r.revision_id}:{},...a}},n})}const Kx=()=>{const e=ya("LANGCHAIN_TRACING_SAMPLING_RATE");if(e===void 0)return;const t=parseFloat(e);if(t<0||t>1)throw new Error(`LANGCHAIN_TRACING_SAMPLING_RATE must be between 0 and 1 if set. Got: ${t}`);return t},Hx=e=>{const r=e.replace("http://","").replace("https://","").split("/")[0].split(":")[0];return r==="localhost"||r==="127.0.0.1"||r==="::1"},ii=async(e,t)=>{const r=await e.text();if(!e.ok)throw new Error(`Failed to ${t}: ${e.status} ${e.statusText} ${r}`)};async function Gx(e){const t=[];for await(const r of e)t.push(r);return t}function $y(e){if(e!==void 0)return e.trim().replace(/^"(.*)"$/,"$1").replace(/^'(.*)'$/,"$1")}const qx=async e=>{var t;if((e==null?void 0:e.status)===429){const r=parseInt((t=e.headers.get("retry-after"))!=null?t:"30",10)*1e3;if(r>0)return await new Promise(n=>setTimeout(n,r)),!0}return!1};class kx{constructor(){Object.defineProperty(this,"items",{enumerable:!0,configurable:!0,writable:!0,value:[]})}get size(){return this.items.length}push(t){return new Promise(r=>{this.items.push([t,r])})}pop(t){if(t<1)throw new Error("Number of items to pop off may not be less than 1.");const r=[];for(;r.length<t&&this.items.length;){const n=this.items.shift();if(n)r.push(n);else break}return[r.map(n=>n[0]),()=>r.forEach(n=>n[1]())]}}const Wx=20971520;class a_{constructor(t={}){var n,i,a,o,s,u,c,d,f,h,p;Object.defineProperty(this,"apiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"apiUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"webUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"caller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"batchIngestCaller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeout_ms",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tenantId",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"hideInputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"hideOutputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tracingSampleRate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sampledPostUuids",{enumerable:!0,configurable:!0,writable:!0,value:new Set}),Object.defineProperty(this,"autoBatchTracing",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"batchEndpointSupported",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"autoBatchQueue",{enumerable:!0,configurable:!0,writable:!0,value:new kx}),Object.defineProperty(this,"pendingAutoBatchedRunLimit",{enumerable:!0,configurable:!0,writable:!0,value:100}),Object.defineProperty(this,"autoBatchTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"autoBatchInitialDelayMs",{enumerable:!0,configurable:!0,writable:!0,value:250}),Object.defineProperty(this,"autoBatchAggregationDelayMs",{enumerable:!0,configurable:!0,writable:!0,value:50}),Object.defineProperty(this,"serverInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fetchOptions",{enumerable:!0,configurable:!0,writable:!0,value:void 0});const r=a_.getDefaultClientConfig();this.tracingSampleRate=Kx(),this.apiUrl=(i=$y((n=t.apiUrl)!=null?n:r.apiUrl))!=null?i:"",this.apiKey=$y((a=t.apiKey)!=null?a:r.apiKey),this.webUrl=$y((o=t.webUrl)!=null?o:r.webUrl),this.timeout_ms=(s=t.timeout_ms)!=null?s:12e3,this.caller=new pb((u=t.callerOptions)!=null?u:{}),this.batchIngestCaller=new pb({...(c=t.callerOptions)!=null?c:{},onFailedResponseHook:qx}),this.hideInputs=(d=t.hideInputs)!=null?d:r.hideInputs,this.hideOutputs=(f=t.hideOutputs)!=null?f:r.hideOutputs,this.autoBatchTracing=(h=t.autoBatchTracing)!=null?h:this.autoBatchTracing,this.pendingAutoBatchedRunLimit=(p=t.pendingAutoBatchedRunLimit)!=null?p:this.pendingAutoBatchedRunLimit,this.fetchOptions=t.fetchOptions||{}}static getDefaultClientConfig(){var a;const t=ya("LANGCHAIN_API_KEY"),r=(a=ya("LANGCHAIN_ENDPOINT"))!=null?a:"https://api.smith.langchain.com",n=ya("LANGCHAIN_HIDE_INPUTS")==="true",i=ya("LANGCHAIN_HIDE_OUTPUTS")==="true";return{apiUrl:r,apiKey:t,webUrl:void 0,hideInputs:n,hideOutputs:i}}getHostUrl(){return this.webUrl?this.webUrl:Hx(this.apiUrl)?(this.webUrl="http://localhost","http://localhost"):this.apiUrl.includes("/api")&&!this.apiUrl.split(".",1)[0].endsWith("api")?(this.webUrl=this.apiUrl.replace("/api",""),this.webUrl):this.apiUrl.split(".",1)[0].includes("dev")?(this.webUrl="https://dev.smith.langchain.com","https://dev.smith.langchain.com"):(this.webUrl="https://smith.langchain.com","https://smith.langchain.com")}get headers(){const t={"User-Agent":`langsmith-js/${IS}`};return this.apiKey&&(t["x-api-key"]=`${this.apiKey}`),t}processInputs(t){return this.hideInputs===!1?t:this.hideInputs===!0?{}:typeof this.hideInputs=="function"?this.hideInputs(t):t}processOutputs(t){return this.hideOutputs===!1?t:this.hideOutputs===!0?{}:typeof this.hideOutputs=="function"?this.hideOutputs(t):t}prepareRunCreateOrUpdateInputs(t){const r={...t};return r.inputs!==void 0&&(r.inputs=this.processInputs(r.inputs)),r.outputs!==void 0&&(r.outputs=this.processOutputs(r.outputs)),r}async _getResponse(t,r){var o;const n=(o=r==null?void 0:r.toString())!=null?o:"",i=`${this.apiUrl}${t}?${n}`,a=await this.caller.call(fetch,i,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});if(!a.ok)throw new Error(`Failed to fetch ${t}: ${a.status} ${a.statusText}`);return a}async _get(t,r){return(await this._getResponse(t,r)).json()}async*_getPaginated(t,r=new URLSearchParams){let n=Number(r.get("offset"))||0;const i=Number(r.get("limit"))||100;for(;;){r.set("offset",String(n)),r.set("limit",String(i));const a=`${this.apiUrl}${t}?${r}`,o=await this.caller.call(fetch,a,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});if(!o.ok)throw new Error(`Failed to fetch ${t}: ${o.status} ${o.statusText}`);const s=await o.json();if(s.length===0||(yield s,s.length<i))break;n+=s.length}}async*_getCursorPaginatedList(t,r=null,n="POST",i="runs"){const a=r?{...r}:{};for(;;){const s=await(await this.caller.call(fetch,`${this.apiUrl}${t}`,{method:n,headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:JSON.stringify(a)})).json();if(!s||!s[i])break;yield s[i];const u=s.cursors;if(!u||!u.next)break;a.cursor=u.next}}_filterForSampling(t,r=!1){if(this.tracingSampleRate===void 0)return t;if(r){const n=[];for(const i of t)this.sampledPostUuids.has(i.id)&&(n.push(i),this.sampledPostUuids.delete(i.id));return n}else{const n=[];for(const i of t)Math.random()<this.tracingSampleRate&&(n.push(i),this.sampledPostUuids.add(i.id));return n}}async drainAutoBatchQueue(){for(;this.autoBatchQueue.size>=0;){const[t,r]=this.autoBatchQueue.pop(this.pendingAutoBatchedRunLimit);if(!t.length){r();return}try{await this.batchIngestRuns({runCreates:t.filter(n=>n.action==="create").map(n=>n.item),runUpdates:t.filter(n=>n.action==="update").map(n=>n.item)})}finally{r()}}}async processRunOperation(t,r){const n=this.autoBatchTimeout;clearTimeout(this.autoBatchTimeout),this.autoBatchTimeout=void 0;const i=this.autoBatchQueue.push(t);return(r||this.autoBatchQueue.size>this.pendingAutoBatchedRunLimit)&&await this.drainAutoBatchQueue(),this.autoBatchQueue.size>0&&(this.autoBatchTimeout=setTimeout(()=>{this.autoBatchTimeout=void 0,this.drainAutoBatchQueue().catch(console.error)},n?this.autoBatchAggregationDelayMs:this.autoBatchInitialDelayMs)),i}async _getServerInfo(){const t=await fetch(`${this.apiUrl}/info`,{method:"GET",headers:{Accept:"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});if(!t.ok)throw await t.text(),new Error("Failed to retrieve server info.");return t.json()}async batchEndpointIsSupported(){try{this.serverInfo=await this._getServerInfo()}catch{return!1}return!0}async createRun(t){var s;if(!this._filterForSampling([t]).length)return;const r={...this.headers,"Content-Type":"application/json"},n=t.project_name;delete t.project_name;const i=this.prepareRunCreateOrUpdateInputs({session_name:n,...t,start_time:(s=t.start_time)!=null?s:Date.now()});if(this.autoBatchTracing&&i.trace_id!==void 0&&i.dotted_order!==void 0){this.processRunOperation({action:"create",item:i}).catch(console.error);return}const a=await mb([i]),o=await this.caller.call(fetch,`${this.apiUrl}/runs`,{method:"POST",headers:r,body:JSON.stringify(a[0]),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ii(o,"create run")}async batchIngestRuns({runCreates:t,runUpdates:r}){var c,d,f,h,p;if(t===void 0&&r===void 0)return;let n=(c=t==null?void 0:t.map(y=>this.prepareRunCreateOrUpdateInputs(y)))!=null?c:[],i=(d=r==null?void 0:r.map(y=>this.prepareRunCreateOrUpdateInputs(y)))!=null?d:[];if(n.length>0&&i.length>0){const y=n.reduce((m,b)=>(b.id&&(m[b.id]=b),m),{}),v=[];for(const m of i)m.id!==void 0&&y[m.id]?y[m.id]={...y[m.id],...m}:v.push(m);n=Object.values(y),i=v}const a={post:this._filterForSampling(n),patch:this._filterForSampling(i,!0)};if(!a.post.length&&!a.patch.length)return;if(n=await mb(n),this.batchEndpointSupported===void 0&&(this.batchEndpointSupported=await this.batchEndpointIsSupported()),!this.batchEndpointSupported){this.autoBatchTracing=!1;for(const y of a.post)await this.createRun(y);for(const y of a.patch)y.id!==void 0&&await this.updateRun(y.id,y);return}const o=(p=(h=(f=this.serverInfo)==null?void 0:f.batch_ingest_config)==null?void 0:h.size_limit_bytes)!=null?p:Wx,s={post:[],patch:[]};let u=0;for(const y of["post","patch"]){const v=y,m=a[v].reverse();let b=m.pop();for(;b!==void 0;){const O=JSON.stringify(b);u>0&&u+O.length>o&&(await this._postBatchIngestRuns(JSON.stringify(s)),u=0,s.post=[],s.patch=[]),u+=O.length,s[v].push(b),b=m.pop()}}(s.post.length>0||s.patch.length>0)&&await this._postBatchIngestRuns(JSON.stringify(s))}async _postBatchIngestRuns(t){const r={...this.headers,"Content-Type":"application/json",Accept:"application/json"},n=await this.batchIngestCaller.call(fetch,`${this.apiUrl}/runs/batch`,{method:"POST",headers:r,body:t,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ii(n,"batch create run")}async updateRun(t,r){nt(t),r.inputs&&(r.inputs=this.processInputs(r.inputs)),r.outputs&&(r.outputs=this.processOutputs(r.outputs));const n={...r,id:t};if(!this._filterForSampling([n],!0).length)return;if(this.autoBatchTracing&&n.trace_id!==void 0&&n.dotted_order!==void 0){if(r.end_time!==void 0&&n.parent_run_id===void 0){await this.processRunOperation({action:"update",item:n},!0);return}else this.processRunOperation({action:"update",item:n}).catch(console.error);return}const i={...this.headers,"Content-Type":"application/json"},a=await this.caller.call(fetch,`${this.apiUrl}/runs/${t}`,{method:"PATCH",headers:i,body:JSON.stringify(r),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ii(a,"update run")}async readRun(t,{loadChildRuns:r}={loadChildRuns:!1}){nt(t);let n=await this._get(`/runs/${t}`);return r&&n.child_run_ids&&(n=await this._loadChildRuns(n)),n}async getRunUrl({runId:t,run:r,projectOpts:n}){if(r!==void 0){let i;r.session_id?i=r.session_id:n!=null&&n.projectName?i=(await this.readProject({projectName:n==null?void 0:n.projectName})).id:n!=null&&n.projectId?i=n==null?void 0:n.projectId:i=(await this.readProject({projectName:ya("LANGCHAIN_PROJECT")||"default"})).id;const a=await this._getTenantId();return`${this.getHostUrl()}/o/${a}/projects/p/${i}/r/${r.id}?poll=true`}else if(t!==void 0){const i=await this.readRun(t);if(!i.app_path)throw new Error(`Run ${t} has no app_path`);return`${this.getHostUrl()}${i.app_path}`}else throw new Error("Must provide either runId or run")}async _loadChildRuns(t){const r=await Gx(this.listRuns({id:t.child_run_ids})),n={},i={};r.sort((a,o)=>{var s,u;return((s=a==null?void 0:a.dotted_order)!=null?s:"").localeCompare((u=o==null?void 0:o.dotted_order)!=null?u:"")});for(const a of r){if(a.parent_run_id===null||a.parent_run_id===void 0)throw new Error(`Child run ${a.id} has no parent`);a.parent_run_id in n||(n[a.parent_run_id]=[]),n[a.parent_run_id].push(a),i[a.id]=a}t.child_runs=n[t.id]||[];for(const a in n)a!==t.id&&(i[a].child_runs=n[a]);return t}async*listRuns(t){const{projectId:r,projectName:n,parentRunId:i,traceId:a,referenceExampleId:o,startTime:s,executionOrder:u,isRoot:c,runType:d,error:f,id:h,query:p,filter:y,traceFilter:v,treeFilter:m,limit:b,select:O}=t;let S=[];if(r&&(S=Array.isArray(r)?r:[r]),n){const M=Array.isArray(n)?n:[n],I=await Promise.all(M.map(C=>this.readProject({projectName:C}).then(A=>A.id)));S.push(...I)}const T=["app_path","child_run_ids","completion_cost","completion_tokens","dotted_order","end_time","error","events","extra","feedback_stats","first_token_time","id","inputs","name","outputs","parent_run_id","parent_run_ids","prompt_cost","prompt_tokens","reference_example_id","run_type","session_id","start_time","status","tags","total_cost","total_tokens","trace_id"],x={session:S.length?S:null,run_type:d,reference_example:o,query:p,filter:y,trace_filter:v,tree_filter:m,execution_order:u,parent_run:i,start_time:s?s.toISOString():null,error:f,id:h,limit:b,trace:a,select:O||T,is_root:c};for await(const M of this._getCursorPaginatedList("/runs/query",x))yield*M}async shareRun(t,{shareId:r}={}){const n={run_id:t,share_token:r||_n()};nt(t);const a=await(await this.caller.call(fetch,`${this.apiUrl}/runs/${t}/share`,{method:"PUT",headers:this.headers,body:JSON.stringify(n),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json();if(a===null||!("share_token"in a))throw new Error("Invalid response from server");return`${this.getHostUrl()}/public/${a.share_token}/r`}async unshareRun(t){nt(t);const r=await this.caller.call(fetch,`${this.apiUrl}/runs/${t}/share`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ii(r,"unshare run")}async readRunSharedLink(t){nt(t);const n=await(await this.caller.call(fetch,`${this.apiUrl}/runs/${t}/share`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json();if(!(n===null||!("share_token"in n)))return`${this.getHostUrl()}/public/${n.share_token}/r`}async listSharedRuns(t,{runIds:r}={}){const n=new URLSearchParams({share_token:t});if(r!==void 0)for(const o of r)n.append("id",o);return nt(t),await(await this.caller.call(fetch,`${this.apiUrl}/public/${t}/runs${n}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json()}async readDatasetSharedSchema(t,r){if(!t&&!r)throw new Error("Either datasetId or datasetName must be given");t||(t=(await this.readDataset({datasetName:r})).id),nt(t);const i=await(await this.caller.call(fetch,`${this.apiUrl}/datasets/${t}/share`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json();return i.url=`${this.getHostUrl()}/public/${i.share_token}/d`,i}async shareDataset(t,r){if(!t&&!r)throw new Error("Either datasetId or datasetName must be given");t||(t=(await this.readDataset({datasetName:r})).id);const n={dataset_id:t};nt(t);const a=await(await this.caller.call(fetch,`${this.apiUrl}/datasets/${t}/share`,{method:"PUT",headers:this.headers,body:JSON.stringify(n),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json();return a.url=`${this.getHostUrl()}/public/${a.share_token}/d`,a}async unshareDataset(t){nt(t);const r=await this.caller.call(fetch,`${this.apiUrl}/datasets/${t}/share`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ii(r,"unshare dataset")}async readSharedDataset(t){return nt(t),await(await this.caller.call(fetch,`${this.apiUrl}/public/${t}/datasets`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json()}async createProject({projectName:t,description:r=null,metadata:n=null,upsert:i=!1,projectExtra:a=null,referenceDatasetId:o=null}){const s=i?"?upsert=true":"",u=`${this.apiUrl}/sessions${s}`,c=a||{};n&&(c.metadata=n);const d={name:t,extra:c,description:r};o!==null&&(d.reference_dataset_id=o);const f=await this.caller.call(fetch,u,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(d),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions}),h=await f.json();if(!f.ok)throw new Error(`Failed to create session ${t}: ${f.status} ${f.statusText}`);return h}async updateProject(t,{name:r=null,description:n=null,metadata:i=null,projectExtra:a=null,endTime:o=null}){const s=`${this.apiUrl}/sessions/${t}`;let u=a;i&&(u={...u||{},metadata:i});const c={name:r,extra:u,description:n,end_time:o?new Date(o).toISOString():null},d=await this.caller.call(fetch,s,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(c),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions}),f=await d.json();if(!d.ok)throw new Error(`Failed to update project ${t}: ${d.status} ${d.statusText}`);return f}async hasProject({projectId:t,projectName:r}){let n="/sessions";const i=new URLSearchParams;if(t!==void 0&&r!==void 0)throw new Error("Must provide either projectName or projectId, not both");if(t!==void 0)nt(t),n+=`/${t}`;else if(r!==void 0)i.append("name",r);else throw new Error("Must provide projectName or projectId");const a=await this.caller.call(fetch,`${this.apiUrl}${n}?${i}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});try{const o=await a.json();return a.ok?Array.isArray(o)?o.length>0:!0:!1}catch{return!1}}async readProject({projectId:t,projectName:r,includeStats:n}){let i="/sessions";const a=new URLSearchParams;if(t!==void 0&&r!==void 0)throw new Error("Must provide either projectName or projectId, not both");if(t!==void 0)nt(t),i+=`/${t}`;else if(r!==void 0)a.append("name",r);else throw new Error("Must provide projectName or projectId");n!==void 0&&a.append("include_stats",n.toString());const o=await this._get(i,a);let s;if(Array.isArray(o)){if(o.length===0)throw new Error(`Project[id=${t}, name=${r}] not found`);s=o[0]}else s=o;return s}async _getTenantId(){if(this._tenantId!==null)return this._tenantId;const t=new URLSearchParams({limit:"1"});for await(const r of this._getPaginated("/sessions",t))return this._tenantId=r[0].tenant_id,r[0].tenant_id;throw new Error("No projects found to resolve tenant.")}async*listProjects({projectIds:t,name:r,nameContains:n,referenceDatasetId:i,referenceDatasetName:a,referenceFree:o}={}){const s=new URLSearchParams;if(t!==void 0)for(const u of t)s.append("id",u);if(r!==void 0&&s.append("name",r),n!==void 0&&s.append("name_contains",n),i!==void 0)s.append("reference_dataset",i);else if(a!==void 0){const u=await this.readDataset({datasetName:a});s.append("reference_dataset",u.id)}o!==void 0&&s.append("reference_free",o.toString());for await(const u of this._getPaginated("/sessions",s))yield*u}async deleteProject({projectId:t,projectName:r}){let n;if(t===void 0&&r===void 0)throw new Error("Must provide projectName or projectId");if(t!==void 0&&r!==void 0)throw new Error("Must provide either projectName or projectId, not both");t===void 0?n=(await this.readProject({projectName:r})).id:n=t,nt(n);const i=await this.caller.call(fetch,`${this.apiUrl}/sessions/${n}`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ii(i,`delete session ${n} (${r})`)}async uploadCsv({csvFile:t,fileName:r,inputKeys:n,outputKeys:i,description:a,dataType:o,name:s}){const u=`${this.apiUrl}/datasets/upload`,c=new FormData;c.append("file",t,r),n.forEach(h=>{c.append("input_keys",h)}),i.forEach(h=>{c.append("output_keys",h)}),a&&c.append("description",a),o&&c.append("data_type",o),s&&c.append("name",s);const d=await this.caller.call(fetch,u,{method:"POST",headers:this.headers,body:c,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});if(!d.ok){const h=await d.json();throw h.detail&&h.detail.includes("already exists")?new Error(`Dataset ${r} already exists`):new Error(`Failed to upload CSV: ${d.status} ${d.statusText}`)}return await d.json()}async createDataset(t,{description:r,dataType:n}={}){const i={name:t,description:r};n&&(i.data_type=n);const a=await this.caller.call(fetch,`${this.apiUrl}/datasets`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(i),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});if(!a.ok){const s=await a.json();throw s.detail&&s.detail.includes("already exists")?new Error(`Dataset ${t} already exists`):new Error(`Failed to create dataset ${a.status} ${a.statusText}`)}return await a.json()}async readDataset({datasetId:t,datasetName:r}){let n="/datasets";const i=new URLSearchParams({limit:"1"});if(t!==void 0&&r!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");if(t!==void 0)nt(t),n+=`/${t}`;else if(r!==void 0)i.append("name",r);else throw new Error("Must provide datasetName or datasetId");const a=await this._get(n,i);let o;if(Array.isArray(a)){if(a.length===0)throw new Error(`Dataset[id=${t}, name=${r}] not found`);o=a[0]}else o=a;return o}async diffDatasetVersions({datasetId:t,datasetName:r,fromVersion:n,toVersion:i}){let a=t;if(a===void 0&&r===void 0)throw new Error("Must provide either datasetName or datasetId");if(a!==void 0&&r!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");a===void 0&&(a=(await this.readDataset({datasetName:r})).id);const o=new URLSearchParams({from_version:typeof n=="string"?n:n.toISOString(),to_version:typeof i=="string"?i:i.toISOString()});return await this._get(`/datasets/${a}/versions/diff`,o)}async readDatasetOpenaiFinetuning({datasetId:t,datasetName:r}){const n="/datasets";if(t===void 0)if(r!==void 0)t=(await this.readDataset({datasetName:r})).id;else throw new Error("Must provide datasetName or datasetId");return(await(await this._getResponse(`${n}/${t}/openai_ft`)).text()).trim().split(`
`).map(s=>JSON.parse(s))}async*listDatasets({limit:t=100,offset:r=0,datasetIds:n,datasetName:i,datasetNameContains:a}={}){const o="/datasets",s=new URLSearchParams({limit:t.toString(),offset:r.toString()});if(n!==void 0)for(const u of n)s.append("id",u);i!==void 0&&s.append("name",i),a!==void 0&&s.append("name_contains",a);for await(const u of this._getPaginated(o,s))yield*u}async deleteDataset({datasetId:t,datasetName:r}){let n="/datasets",i=t;if(t!==void 0&&r!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");if(r!==void 0&&(i=(await this.readDataset({datasetName:r})).id),i!==void 0)nt(i),n+=`/${i}`;else throw new Error("Must provide datasetName or datasetId");const a=await this.caller.call(fetch,this.apiUrl+n,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});if(!a.ok)throw new Error(`Failed to delete ${n}: ${a.status} ${a.statusText}`);await a.json()}async createExample(t,r,{datasetId:n,datasetName:i,createdAt:a,exampleId:o,metadata:s}){let u=n;if(u===void 0&&i===void 0)throw new Error("Must provide either datasetName or datasetId");if(u!==void 0&&i!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");u===void 0&&(u=(await this.readDataset({datasetName:i})).id);const c=a||new Date,d={dataset_id:u,inputs:t,outputs:r,created_at:c==null?void 0:c.toISOString(),id:o,metadata:s},f=await this.caller.call(fetch,`${this.apiUrl}/examples`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(d),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});if(!f.ok)throw new Error(`Failed to create example: ${f.status} ${f.statusText}`);return await f.json()}async createExamples(t){const{inputs:r,outputs:n,metadata:i,sourceRunIds:a,exampleIds:o,datasetId:s,datasetName:u}=t;let c=s;if(c===void 0&&u===void 0)throw new Error("Must provide either datasetName or datasetId");if(c!==void 0&&u!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");c===void 0&&(c=(await this.readDataset({datasetName:u})).id);const d=r.map((p,y)=>({dataset_id:c,inputs:p,outputs:n?n[y]:void 0,metadata:i?i[y]:void 0,id:o?o[y]:void 0,source_run_id:a?a[y]:void 0})),f=await this.caller.call(fetch,`${this.apiUrl}/examples/bulk`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(d),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});if(!f.ok)throw new Error(`Failed to create examples: ${f.status} ${f.statusText}`);return await f.json()}async createLLMExample(t,r,n){return this.createExample({input:t},{output:r},n)}async createChatExample(t,r,n){const i=t.map(o=>yb(o)?vb(o):o),a=yb(r)?vb(r):r;return this.createExample({input:i},{output:a},n)}async readExample(t){nt(t);const r=`/examples/${t}`;return await this._get(r)}async*listExamples({datasetId:t,datasetName:r,exampleIds:n,asOf:i,inlineS3Urls:a}={}){let o;if(t!==void 0&&r!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");if(t!==void 0)o=t;else if(r!==void 0)o=(await this.readDataset({datasetName:r})).id;else throw new Error("Must provide a datasetName or datasetId");const s=new URLSearchParams({dataset:o}),u=i?typeof i=="string"?i:i==null?void 0:i.toISOString():void 0;u&&s.append("as_of",u);const c=a!=null?a:!0;if(s.append("inline_s3_urls",c.toString()),n!==void 0)for(const d of n)s.append("id",d);for await(const d of this._getPaginated("/examples",s))yield*d}async deleteExample(t){nt(t);const r=`/examples/${t}`,n=await this.caller.call(fetch,this.apiUrl+r,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});if(!n.ok)throw new Error(`Failed to delete ${r}: ${n.status} ${n.statusText}`);await n.json()}async updateExample(t,r){nt(t);const n=await this.caller.call(fetch,`${this.apiUrl}/examples/${t}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(r),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});if(!n.ok)throw new Error(`Failed to update example ${t}: ${n.status} ${n.statusText}`);return await n.json()}async evaluateRun(t,r,{sourceInfo:n,loadChildRuns:i,referenceExample:a}={loadChildRuns:!1}){var d;let o;if(typeof t=="string")o=await this.readRun(t,{loadChildRuns:i});else if(typeof t=="object"&&"id"in t)o=t;else throw new Error(`Invalid run type: ${typeof t}`);o.reference_example_id!==null&&o.reference_example_id!==void 0&&(a=await this.readExample(o.reference_example_id));const s=await r.evaluateRun(o,a);let u=n!=null?n:{};s.evaluatorInfo&&(u={...u,...s.evaluatorInfo});const c=(d=s.targetRunId)!=null?d:o.id;return await this.createFeedback(c,s.key,{score:s==null?void 0:s.score,value:s==null?void 0:s.value,comment:s==null?void 0:s.comment,correction:s==null?void 0:s.correction,sourceInfo:u,feedbackSourceType:"model",sourceRunId:s==null?void 0:s.sourceRunId})}async createFeedback(t,r,{score:n,value:i,correction:a,comment:o,sourceInfo:s,feedbackSourceType:u="api",sourceRunId:c,feedbackId:d,feedbackConfig:f,projectId:h}){var b;if(!t&&!h)throw new Error("One of runId or projectId must be provided");if(t&&h)throw new Error("Only one of runId or projectId can be provided");const p={type:u!=null?u:"api",metadata:s!=null?s:{}};c!==void 0&&(p==null?void 0:p.metadata)!==void 0&&!p.metadata.__run&&(p.metadata.__run={run_id:c}),(p==null?void 0:p.metadata)!==void 0&&((b=p.metadata.__run)==null?void 0:b.run_id)!==void 0&&nt(p.metadata.__run.run_id);const y={id:d!=null?d:_n(),run_id:t,key:r,score:n,value:i,correction:a,comment:o,feedback_source:p,feedbackConfig:f,session_id:h},v=`${this.apiUrl}/feedback`,m=await this.caller.call(fetch,v,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(y),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await ii(m,"create feedback"),y}async updateFeedback(t,{score:r,value:n,correction:i,comment:a}){const o={};r!=null&&(o.score=r),n!=null&&(o.value=n),i!=null&&(o.correction=i),a!=null&&(o.comment=a),nt(t);const s=await this.caller.call(fetch,`${this.apiUrl}/feedback/${t}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(o),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ii(s,"update feedback")}async readFeedback(t){nt(t);const r=`/feedback/${t}`;return await this._get(r)}async deleteFeedback(t){nt(t);const r=`/feedback/${t}`,n=await this.caller.call(fetch,this.apiUrl+r,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});if(!n.ok)throw new Error(`Failed to delete ${r}: ${n.status} ${n.statusText}`);await n.json()}async*listFeedback({runIds:t,feedbackKeys:r,feedbackSourceTypes:n}={}){const i=new URLSearchParams;if(t&&i.append("run",t.join(",")),r)for(const a of r)i.append("key",a);if(n)for(const a of n)i.append("source",a);for await(const a of this._getPaginated("/feedback",i))yield*a}async createPresignedFeedbackToken(t,r,{expiration:n,feedbackConfig:i}={}){const a={run_id:t,feedback_key:r,feedback_config:i};return n?typeof n=="string"?a.expires_at=n:((n==null?void 0:n.hours)||(n==null?void 0:n.minutes)||(n==null?void 0:n.days))&&(a.expires_in=n):a.expires_in={hours:3},await(await this.caller.call(fetch,`${this.apiUrl}/feedback/tokens`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(a),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json()}async*listPresignedFeedbackTokens(t){nt(t);const r=new URLSearchParams({run_id:t});for await(const n of this._getPaginated("/feedback/tokens",r))yield*n}_selectEvalResults(t){let r;return"results"in t?r=t.results:r=[t],r}async logEvaluationFeedback(t,r,n){const i=this._selectEvalResults(t);for(const a of i){let o=n||{};a.evaluatorInfo&&(o={...a.evaluatorInfo,...o});let s=null;a.targetRunId?s=a.targetRunId:r&&(s=r.id),await this.createFeedback(s,a.key,{score:a.score,value:a.value,comment:a.comment,correction:a.correction,sourceInfo:o,sourceRunId:a.sourceRunId,feedbackConfig:a.feedbackConfig,feedbackSourceType:"model"})}return i}}const IS="0.1.22";class Xx extends zf{constructor(t={}){var a;super(t),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"langchain_tracer"}),Object.defineProperty(this,"projectName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"exampleId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0});const{exampleId:r,projectName:n,client:i}=t;this.projectName=(a=n!=null?n:Mi("LANGCHAIN_PROJECT"))!=null?a:Mi("LANGCHAIN_SESSION"),this.exampleId=r,this.client=i!=null?i:new a_({})}async _convertToCreate(t,r=void 0){return{...t,extra:{...t.extra,runtime:await gx()},child_runs:void 0,session_name:this.projectName,reference_example_id:t.parent_run_id?void 0:r}}async persistRun(t){}async onRunCreate(t){const r=await this._convertToCreate(t,this.exampleId);await this.client.createRun(r)}async onRunUpdate(t){const r={end_time:t.end_time,error:t.error,outputs:t.outputs,events:t.events,inputs:t.inputs,trace_id:t.trace_id,dotted_order:t.dotted_order,parent_run_id:t.parent_run_id};await this.client.updateRun(t.id,r)}getRun(t){return this.runMap.get(t)}}function Zx(e){if(typeof e>"u")return null;try{return JSON.parse(e)}catch{}let t="";const r=[];let n=!1,i=!1;for(let a of e){if(n)a==='"'&&!i?n=!1:a===`
`&&!i?a="\\n":a==="\\"?i=!i:i=!1;else if(a==='"')n=!0,i=!1;else if(a==="{")r.push("}");else if(a==="[")r.push("]");else if(a==="}"||a==="]")if(r&&r[r.length-1]===a)r.pop();else return null;t+=a}n&&(t+='"');for(let a=r.length-1;a>=0;a-=1)t+=r[a];try{return JSON.parse(t)}catch{return null}}function Jx(e,t){return typeof e=="string"?typeof t=="string"?e+t:[{type:"text",text:e},...t]:Array.isArray(t)?[...e,...t]:[...e,{type:"text",text:t}]}class Ti extends Zn{get lc_aliases(){return{additional_kwargs:"additional_kwargs",response_metadata:"response_metadata"}}get text(){return typeof this.content=="string"?this.content:""}constructor(t,r){typeof t=="string"&&(t={content:t,additional_kwargs:r,response_metadata:{}}),t.additional_kwargs||(t.additional_kwargs={}),t.response_metadata||(t.response_metadata={}),super(t),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","messages"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"content",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"additional_kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"response_metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=t.name,this.content=t.content,this.additional_kwargs=t.additional_kwargs,this.response_metadata=t.response_metadata}toDict(){return{type:this._getType(),data:this.toJSON().kwargs}}}function Yd(e,t){const r={...e};for(const[n,i]of Object.entries(t))if(r[n]==null)r[n]=i;else{if(i==null)continue;if(typeof r[n]!=typeof i||Array.isArray(r[n])!==Array.isArray(i))throw new Error(`field[${n}] already exists in the message chunk, but with a different type.`);if(typeof r[n]=="string")r[n]=r[n]+i;else if(!Array.isArray(r[n])&&typeof r[n]=="object")r[n]=Yd(r[n],i);else if(Array.isArray(r[n]))r[n]=DS(r[n],i);else{if(r[n]===i)continue;console.warn(`field[${n}] already exists in this message chunk and value has unsupported type.`)}}return r}function DS(e,t){if(!(e===void 0&&t===void 0)){if(e===void 0||t===void 0)return e||t;{const r=[...e];for(const n of t)if(typeof n=="object"&&"index"in n&&typeof n.index=="number"){const i=r.findIndex(a=>a.index===n.index);i!==-1?r[i]=Yd(r[i],n):r.push(n)}else r.push(n);return r}}}class Yx extends Ti{}function Qd(e){return typeof(e==null?void 0:e._getType)=="function"}function Qx(e){const t=[],r=[];for(const n of e)if(n.function){const i=n.function.name;try{const a=JSON.parse(n.function.arguments),o={name:i||"",args:a||{},id:n.id};t.push(o)}catch{r.push({name:i,args:n.function.arguments,id:n.id,error:"Malformed args."})}}else continue;return[t,r]}class Fa extends Ti{get lc_aliases(){return{...super.lc_aliases,tool_calls:"tool_calls",invalid_tool_calls:"invalid_tool_calls"}}constructor(t,r){var i,a,o,s,u;let n;if(typeof t=="string")n={content:t,tool_calls:[],invalid_tool_calls:[],additional_kwargs:r!=null?r:{}};else{n=t;const c=(i=n.additional_kwargs)==null?void 0:i.tool_calls,d=n.tool_calls;c!=null&&c.length>0&&(d===void 0||d.length===0)&&console.warn(["New LangChain packages are available that more efficiently handle",`tool calling.

Please upgrade your packages to versions that set`,"message tool calls. e.g., `yarn add @langchain/anthropic`,","yarn add @langchain/openai`, etc."].join(" "));try{if(c!=null&&d===void 0){const[f,h]=Qx(c);n.tool_calls=f!=null?f:[],n.invalid_tool_calls=h!=null?h:[]}else n.tool_calls=(a=n.tool_calls)!=null?a:[],n.invalid_tool_calls=(o=n.invalid_tool_calls)!=null?o:[]}catch{n.tool_calls=[],n.invalid_tool_calls=[]}}super(n),Object.defineProperty(this,"tool_calls",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"invalid_tool_calls",{enumerable:!0,configurable:!0,writable:!0,value:[]}),typeof n!="string"&&(this.tool_calls=(s=n.tool_calls)!=null?s:this.tool_calls,this.invalid_tool_calls=(u=n.invalid_tool_calls)!=null?u:this.invalid_tool_calls)}static lc_name(){return"AIMessage"}_getType(){return"ai"}}function eA(e){return e._getType()==="ai"}class Oi extends Yx{constructor(t){var n,i,a,o,s,u;let r;if(typeof t=="string")r={content:t,tool_calls:[],invalid_tool_calls:[],tool_call_chunks:[]};else if(t.tool_call_chunks===void 0)r={...t,tool_calls:[],invalid_tool_calls:[],tool_call_chunks:[]};else{const c=[],d=[];for(const f of t.tool_call_chunks){let h={};try{if(h=(i=Zx((n=f.args)!=null?n:"{}"))!=null?i:{},typeof h!="object"||Array.isArray(h))throw new Error("Malformed tool call chunk args.");c.push({name:(a=f.name)!=null?a:"",args:h,id:f.id})}catch{d.push({name:f.name,args:f.args,id:f.id,error:"Malformed args."})}}r={...t,tool_calls:c,invalid_tool_calls:d}}super(r),Object.defineProperty(this,"tool_calls",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"invalid_tool_calls",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"tool_call_chunks",{enumerable:!0,configurable:!0,writable:!0,value:[]}),this.tool_call_chunks=(o=r==null?void 0:r.tool_call_chunks)!=null?o:this.tool_call_chunks,this.tool_calls=(s=r==null?void 0:r.tool_calls)!=null?s:this.tool_calls,this.invalid_tool_calls=(u=r==null?void 0:r.invalid_tool_calls)!=null?u:this.invalid_tool_calls}get lc_aliases(){return{...super.lc_aliases,tool_calls:"tool_calls",invalid_tool_calls:"invalid_tool_calls",tool_call_chunks:"tool_call_chunks"}}static lc_name(){return"AIMessageChunk"}_getType(){return"ai"}concat(t){const r={content:Jx(this.content,t.content),additional_kwargs:Yd(this.additional_kwargs,t.additional_kwargs),response_metadata:Yd(this.response_metadata,t.response_metadata),tool_call_chunks:[]};if(this.tool_call_chunks!==void 0||t.tool_call_chunks!==void 0){const n=DS(this.tool_call_chunks,t.tool_call_chunks);n!==void 0&&n.length>0&&(r.tool_call_chunks=n)}return new Oi(r)}}class Bf extends Ti{static lc_name(){return"ChatMessage"}static _chatMessageClass(){return Bf}constructor(t,r){typeof t=="string"&&(t={content:t,role:r}),super(t),Object.defineProperty(this,"role",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.role=t.role}_getType(){return"generic"}static isInstance(t){return t._getType()==="generic"}}class Tn extends Ti{static lc_name(){return"HumanMessage"}_getType(){return"human"}}class zS extends Ti{static lc_name(){return"SystemMessage"}_getType(){return"system"}}function Co(e){if(typeof e=="string")return new Tn(e);if(Qd(e))return e;const[t,r]=e;if(t==="human"||t==="user")return new Tn({content:r});if(t==="ai"||t==="assistant")return new Fa({content:r});if(t==="system")return new zS({content:r});throw new Error("Unable to coerce message from array: only human, AI, or system message coercion is currently supported.")}function o_(e,t="Human",r="AI"){const n=[];for(const i of e){let a;if(i._getType()==="human")a=t;else if(i._getType()==="ai")a=r;else if(i._getType()==="system")a="System";else if(i._getType()==="function")a="Function";else if(i._getType()==="tool")a="Tool";else if(i._getType()==="generic")a=i.role;else throw new Error(`Got unsupported message type: ${i._getType()}`);const o=i.name?`${i.name}, `:"";n.push(`${a}: ${o}${i.content}`)}return n.join(`
`)}async function tA(){return new Xx}let xy;function rA(){const e="default"in Gn?Gn.default:Gn;return new e({autoStart:!0,concurrency:1})}async function It(e,t){t===!0?await e():(typeof xy>"u"&&(xy=rA()),xy.add(e))}function NS(e){return e?Array.isArray(e)||"name"in e?{callbacks:e}:e:{}}class nA{setHandler(t){return this.setHandlers([t])}}class Ff{constructor(t,r,n,i,a,o,s,u){Object.defineProperty(this,"runId",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"handlers",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"inheritableHandlers",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"inheritableTags",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(this,"inheritableMetadata",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"_parentRunId",{enumerable:!0,configurable:!0,writable:!0,value:u})}async handleText(t){await Promise.all(this.handlers.map(r=>It(async()=>{var n;try{await((n=r.handleText)==null?void 0:n.call(r,t,this.runId,this._parentRunId,this.tags))}catch(i){console.error(`Error in handler ${r.constructor.name}, handleText: ${i}`)}},r.awaitHandlers)))}}class iA extends Ff{getChild(t){const r=new Ft(this.runId);return r.setHandlers(this.inheritableHandlers),r.addTags(this.inheritableTags),r.addMetadata(this.inheritableMetadata),t&&r.addTags([t],!1),r}async handleRetrieverEnd(t){await Promise.all(this.handlers.map(r=>It(async()=>{var n;if(!r.ignoreRetriever)try{await((n=r.handleRetrieverEnd)==null?void 0:n.call(r,t,this.runId,this._parentRunId,this.tags))}catch{console.error(`Error in handler ${r.constructor.name}, handleRetriever`)}},r.awaitHandlers)))}async handleRetrieverError(t){await Promise.all(this.handlers.map(r=>It(async()=>{var n;if(!r.ignoreRetriever)try{await((n=r.handleRetrieverError)==null?void 0:n.call(r,t,this.runId,this._parentRunId,this.tags))}catch(i){console.error(`Error in handler ${r.constructor.name}, handleRetrieverError: ${i}`)}},r.awaitHandlers)))}}class _b extends Ff{async handleLLMNewToken(t,r,n,i,a,o){await Promise.all(this.handlers.map(s=>It(async()=>{var u;if(!s.ignoreLLM)try{await((u=s.handleLLMNewToken)==null?void 0:u.call(s,t,r!=null?r:{prompt:0,completion:0},this.runId,this._parentRunId,this.tags,o))}catch(c){console.error(`Error in handler ${s.constructor.name}, handleLLMNewToken: ${c}`)}},s.awaitHandlers)))}async handleLLMError(t){await Promise.all(this.handlers.map(r=>It(async()=>{var n;if(!r.ignoreLLM)try{await((n=r.handleLLMError)==null?void 0:n.call(r,t,this.runId,this._parentRunId,this.tags))}catch(i){console.error(`Error in handler ${r.constructor.name}, handleLLMError: ${i}`)}},r.awaitHandlers)))}async handleLLMEnd(t){await Promise.all(this.handlers.map(r=>It(async()=>{var n;if(!r.ignoreLLM)try{await((n=r.handleLLMEnd)==null?void 0:n.call(r,t,this.runId,this._parentRunId,this.tags))}catch(i){console.error(`Error in handler ${r.constructor.name}, handleLLMEnd: ${i}`)}},r.awaitHandlers)))}}class aA extends Ff{getChild(t){const r=new Ft(this.runId);return r.setHandlers(this.inheritableHandlers),r.addTags(this.inheritableTags),r.addMetadata(this.inheritableMetadata),t&&r.addTags([t],!1),r}async handleChainError(t,r,n,i,a){await Promise.all(this.handlers.map(o=>It(async()=>{var s;if(!o.ignoreChain)try{await((s=o.handleChainError)==null?void 0:s.call(o,t,this.runId,this._parentRunId,this.tags,a))}catch(u){console.error(`Error in handler ${o.constructor.name}, handleChainError: ${u}`)}},o.awaitHandlers)))}async handleChainEnd(t,r,n,i,a){await Promise.all(this.handlers.map(o=>It(async()=>{var s;if(!o.ignoreChain)try{await((s=o.handleChainEnd)==null?void 0:s.call(o,t,this.runId,this._parentRunId,this.tags,a))}catch(u){console.error(`Error in handler ${o.constructor.name}, handleChainEnd: ${u}`)}},o.awaitHandlers)))}async handleAgentAction(t){await Promise.all(this.handlers.map(r=>It(async()=>{var n;if(!r.ignoreAgent)try{await((n=r.handleAgentAction)==null?void 0:n.call(r,t,this.runId,this._parentRunId,this.tags))}catch(i){console.error(`Error in handler ${r.constructor.name}, handleAgentAction: ${i}`)}},r.awaitHandlers)))}async handleAgentEnd(t){await Promise.all(this.handlers.map(r=>It(async()=>{var n;if(!r.ignoreAgent)try{await((n=r.handleAgentEnd)==null?void 0:n.call(r,t,this.runId,this._parentRunId,this.tags))}catch(i){console.error(`Error in handler ${r.constructor.name}, handleAgentEnd: ${i}`)}},r.awaitHandlers)))}}class oA extends Ff{getChild(t){const r=new Ft(this.runId);return r.setHandlers(this.inheritableHandlers),r.addTags(this.inheritableTags),r.addMetadata(this.inheritableMetadata),t&&r.addTags([t],!1),r}async handleToolError(t){await Promise.all(this.handlers.map(r=>It(async()=>{var n;if(!r.ignoreAgent)try{await((n=r.handleToolError)==null?void 0:n.call(r,t,this.runId,this._parentRunId,this.tags))}catch(i){console.error(`Error in handler ${r.constructor.name}, handleToolError: ${i}`)}},r.awaitHandlers)))}async handleToolEnd(t){await Promise.all(this.handlers.map(r=>It(async()=>{var n;if(!r.ignoreAgent)try{await((n=r.handleToolEnd)==null?void 0:n.call(r,t,this.runId,this._parentRunId,this.tags))}catch(i){console.error(`Error in handler ${r.constructor.name}, handleToolEnd: ${i}`)}},r.awaitHandlers)))}}class Ft extends nA{constructor(t,r){var n,i,a,o,s,u;super(),Object.defineProperty(this,"handlers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"inheritableHandlers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"inheritableTags",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"inheritableMetadata",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"callback_manager"}),Object.defineProperty(this,"_parentRunId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.handlers=(n=r==null?void 0:r.handlers)!=null?n:this.handlers,this.inheritableHandlers=(i=r==null?void 0:r.inheritableHandlers)!=null?i:this.inheritableHandlers,this.tags=(a=r==null?void 0:r.tags)!=null?a:this.tags,this.inheritableTags=(o=r==null?void 0:r.inheritableTags)!=null?o:this.inheritableTags,this.metadata=(s=r==null?void 0:r.metadata)!=null?s:this.metadata,this.inheritableMetadata=(u=r==null?void 0:r.inheritableMetadata)!=null?u:this.inheritableMetadata,this._parentRunId=t}getParentRunId(){return this._parentRunId}async handleLLMStart(t,r,n=void 0,i=void 0,a=void 0,o=void 0,s=void 0,u=void 0){return Promise.all(r.map(async(c,d)=>{const f=d===0&&n?n:_n();return await Promise.all(this.handlers.map(h=>It(async()=>{var p;if(!h.ignoreLLM)try{await((p=h.handleLLMStart)==null?void 0:p.call(h,t,[c],f,this._parentRunId,a,this.tags,this.metadata,u))}catch(y){console.error(`Error in handler ${h.constructor.name}, handleLLMStart: ${y}`)}},h.awaitHandlers))),new _b(f,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}))}async handleChatModelStart(t,r,n=void 0,i=void 0,a=void 0,o=void 0,s=void 0,u=void 0){return Promise.all(r.map(async(c,d)=>{const f=d===0&&n?n:_n();return await Promise.all(this.handlers.map(h=>It(async()=>{var p,y;if(!h.ignoreLLM)try{if(h.handleChatModelStart)await((p=h.handleChatModelStart)==null?void 0:p.call(h,t,[c],f,this._parentRunId,a,this.tags,this.metadata,u));else if(h.handleLLMStart){const v=o_(c);await((y=h.handleLLMStart)==null?void 0:y.call(h,t,[v],f,this._parentRunId,a,this.tags,this.metadata,u))}}catch(v){console.error(`Error in handler ${h.constructor.name}, handleLLMStart: ${v}`)}},h.awaitHandlers))),new _b(f,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}))}async handleChainStart(t,r,n=_n(),i=void 0,a=void 0,o=void 0,s=void 0){return await Promise.all(this.handlers.map(u=>It(async()=>{var c;if(!u.ignoreChain)try{await((c=u.handleChainStart)==null?void 0:c.call(u,t,r,n,this._parentRunId,this.tags,this.metadata,i,s))}catch(d){console.error(`Error in handler ${u.constructor.name}, handleChainStart: ${d}`)}},u.awaitHandlers))),new aA(n,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleToolStart(t,r,n=_n(),i=void 0,a=void 0,o=void 0,s=void 0){return await Promise.all(this.handlers.map(u=>It(async()=>{var c;if(!u.ignoreAgent)try{await((c=u.handleToolStart)==null?void 0:c.call(u,t,r,n,this._parentRunId,this.tags,this.metadata,s))}catch(d){console.error(`Error in handler ${u.constructor.name}, handleToolStart: ${d}`)}},u.awaitHandlers))),new oA(n,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleRetrieverStart(t,r,n=_n(),i=void 0,a=void 0,o=void 0,s=void 0){return await Promise.all(this.handlers.map(u=>It(async()=>{var c;if(!u.ignoreRetriever)try{await((c=u.handleRetrieverStart)==null?void 0:c.call(u,t,r,n,this._parentRunId,this.tags,this.metadata,s))}catch(d){console.error(`Error in handler ${u.constructor.name}, handleRetrieverStart: ${d}`)}},u.awaitHandlers))),new iA(n,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}addHandler(t,r=!0){this.handlers.push(t),r&&this.inheritableHandlers.push(t)}removeHandler(t){this.handlers=this.handlers.filter(r=>r!==t),this.inheritableHandlers=this.inheritableHandlers.filter(r=>r!==t)}setHandlers(t,r=!0){this.handlers=[],this.inheritableHandlers=[];for(const n of t)this.addHandler(n,r)}addTags(t,r=!0){this.removeTags(t),this.tags.push(...t),r&&this.inheritableTags.push(...t)}removeTags(t){this.tags=this.tags.filter(r=>!t.includes(r)),this.inheritableTags=this.inheritableTags.filter(r=>!t.includes(r))}addMetadata(t,r=!0){this.metadata={...this.metadata,...t},r&&(this.inheritableMetadata={...this.inheritableMetadata,...t})}removeMetadata(t){for(const r of Object.keys(t))delete this.metadata[r],delete this.inheritableMetadata[r]}copy(t=[],r=!0){const n=new Ft(this._parentRunId);for(const i of this.handlers){const a=this.inheritableHandlers.includes(i);n.addHandler(i,a)}for(const i of this.tags){const a=this.inheritableTags.includes(i);n.addTags([i],a)}for(const i of Object.keys(this.metadata)){const a=Object.keys(this.inheritableMetadata).includes(i);n.addMetadata({[i]:this.metadata[i]},a)}for(const i of t)n.handlers.filter(a=>a.name==="console_callback_handler").some(a=>a.name===i.name)||n.addHandler(i,r);return n}static fromHandlers(t){class r extends Zu{constructor(){super(),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:_n()}),Object.assign(this,t)}}const n=new this;return n.addHandler(new r),n}static async configure(t,r,n,i,a,o,s){var h,p;let u;(t||r)&&(Array.isArray(t)||!t?(u=new Ft,u.setHandlers((h=t==null?void 0:t.map(ef))!=null?h:[],!0)):u=t,u=u.copy(Array.isArray(r)?r.map(ef):r==null?void 0:r.handlers,!1));const c=Mi("LANGCHAIN_VERBOSE")==="true"||(s==null?void 0:s.verbose),d=Mi("LANGCHAIN_TRACING_V2")==="true",f=d||((p=Mi("LANGCHAIN_TRACING"))!=null?p:!1);if(c||f){if(u||(u=new Ft),c&&!u.handlers.some(y=>y.name===hb.prototype.name)){const y=new hb;u.addHandler(y,!0)}f&&!u.handlers.some(y=>y.name==="langchain_tracer")&&d&&u.addHandler(await tA(),!0)}return(n||i)&&u&&(u.addTags(n!=null?n:[]),u.addTags(i!=null?i:[],!1)),(a||o)&&u&&(u.addMetadata(a!=null?a:{}),u.addMetadata(o!=null?o:{},!1)),u}}function ef(e){return"name"in e?e:Zu.fromMethods(e)}/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */const sA=Object.prototype.hasOwnProperty;function uA(e,t){return sA.call(e,t)}function lA(e){if(Array.isArray(e)){const r=new Array(e.length);for(let n=0;n<r.length;n++)r[n]=""+n;return r}if(Object.keys)return Object.keys(e);let t=[];for(let r in e)uA(e,r)&&t.push(r);return t}function zi(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function Zv(e){let t=0;const r=e.length;let n;for(;t<r;){if(n=e.charCodeAt(t),n>=48&&n<=57){t++;continue}return!1}return!0}function cA(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function BS(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function Jv(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(let r=0,n=e.length;r<n;r++)if(Jv(e[r]))return!0}else if(typeof e=="object"){const r=lA(e),n=r.length;for(var t=0;t<n;t++)if(Jv(e[r[t]]))return!0}}return!1}function gb(e,t){const r=[e];for(const n in t){const i=typeof t[n]=="object"?JSON.stringify(t[n],null,2):t[n];typeof i<"u"&&r.push(`${n}: ${i}`)}return r.join(`
`)}class FS extends Error{constructor(t,r,n,i,a){super(gb(t,{name:r,index:n,operation:i,tree:a})),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"index",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"operation",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"tree",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.setPrototypeOf(this,new.target.prototype),this.message=gb(t,{name:r,index:n,operation:i,tree:a})}}const ct=FS,dA=zi,Eo={add:function(e,t,r){return e[t]=this.value,{newDocument:r}},remove:function(e,t,r){var n=e[t];return delete e[t],{newDocument:r,removed:n}},replace:function(e,t,r){var n=e[t];return e[t]=this.value,{newDocument:r,removed:n}},move:function(e,t,r){let n=tf(r,this.path);n&&(n=zi(n));const i=Ma(r,{op:"remove",path:this.from}).removed;return Ma(r,{op:"add",path:this.path,value:i}),{newDocument:r,removed:n}},copy:function(e,t,r){const n=tf(r,this.from);return Ma(r,{op:"add",path:this.path,value:zi(n)}),{newDocument:r}},test:function(e,t,r){return{newDocument:r,test:Iu(e[t],this.value)}},_get:function(e,t,r){return this.value=e[t],{newDocument:r}}};var fA={add:function(e,t,r){return Zv(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:r,index:t}},remove:function(e,t,r){var n=e.splice(t,1);return{newDocument:r,removed:n[0]}},replace:function(e,t,r){var n=e[t];return e[t]=this.value,{newDocument:r,removed:n}},move:Eo.move,copy:Eo.copy,test:Eo.test,_get:Eo._get};function tf(e,t){if(t=="")return e;var r={op:"_get",path:t};return Ma(e,r),r.value}function Ma(e,t,r=!1,n=!0,i=!0,a=0){if(r&&(typeof r=="function"?r(t,0,e,t.path):rf(t,0)),t.path===""){let o={newDocument:e};if(t.op==="add")return o.newDocument=t.value,o;if(t.op==="replace")return o.newDocument=t.value,o.removed=e,o;if(t.op==="move"||t.op==="copy")return o.newDocument=tf(e,t.from),t.op==="move"&&(o.removed=e),o;if(t.op==="test"){if(o.test=Iu(e,t.value),o.test===!1)throw new ct("Test operation failed","TEST_OPERATION_FAILED",a,t,e);return o.newDocument=e,o}else{if(t.op==="remove")return o.removed=e,o.newDocument=null,o;if(t.op==="_get")return t.value=e,o;if(r)throw new ct("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",a,t,e);return o}}else{n||(e=zi(e));const s=(t.path||"").split("/");let u=e,c=1,d=s.length,f,h,p;for(typeof r=="function"?p=r:p=rf;;){if(h=s[c],h&&h.indexOf("~")!=-1&&(h=BS(h)),i&&(h=="__proto__"||h=="prototype"&&c>0&&s[c-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(r&&f===void 0&&(u[h]===void 0?f=s.slice(0,c).join("/"):c==d-1&&(f=t.path),f!==void 0&&p(t,0,e,f)),c++,Array.isArray(u)){if(h==="-")h=u.length;else{if(r&&!Zv(h))throw new ct("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",a,t,e);Zv(h)&&(h=~~h)}if(c>=d){if(r&&t.op==="add"&&h>u.length)throw new ct("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",a,t,e);const y=fA[t.op].call(t,u,h,e);if(y.test===!1)throw new ct("Test operation failed","TEST_OPERATION_FAILED",a,t,e);return y}}else if(c>=d){const y=Eo[t.op].call(t,u,h,e);if(y.test===!1)throw new ct("Test operation failed","TEST_OPERATION_FAILED",a,t,e);return y}if(u=u[h],r&&c<d&&(!u||typeof u!="object"))throw new ct("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",a,t,e)}}}function Au(e,t,r,n=!0,i=!0){if(r&&!Array.isArray(t))throw new ct("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");n||(e=zi(e));const a=new Array(t.length);for(let o=0,s=t.length;o<s;o++)a[o]=Ma(e,t[o],r,!0,i,o),e=a[o].newDocument;return a.newDocument=e,a}function hA(e,t,r){const n=Ma(e,t);if(n.test===!1)throw new ct("Test operation failed","TEST_OPERATION_FAILED",r,t,e);return n.newDocument}function rf(e,t,r,n){if(typeof e!="object"||e===null||Array.isArray(e))throw new ct("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,r);if(Eo[e.op]){if(typeof e.path!="string")throw new ct("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,r);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new ct('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,r);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new ct("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,r);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new ct("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,r);if((e.op==="add"||e.op==="replace"||e.op==="test")&&Jv(e.value))throw new ct("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,r);if(r){if(e.op=="add"){var i=e.path.split("/").length,a=n.split("/").length;if(i!==a+1&&i!==a)throw new ct("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,r)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==n)throw new ct("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,r)}else if(e.op==="move"||e.op==="copy"){var o={op:"_get",path:e.from,value:void 0},s=LS([o],r);if(s&&s.name==="OPERATION_PATH_UNRESOLVABLE")throw new ct("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,r)}}}else throw new ct("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,r)}function LS(e,t,r){try{if(!Array.isArray(e))throw new ct("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)Au(zi(t),zi(e),r||!0);else{r=r||rf;for(var n=0;n<e.length;n++)r(e[n],n,t,void 0)}}catch(i){if(i instanceof ct)return i;throw i}}function Iu(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var r=Array.isArray(e),n=Array.isArray(t),i,a,o;if(r&&n){if(a=e.length,a!=t.length)return!1;for(i=a;i--!==0;)if(!Iu(e[i],t[i]))return!1;return!0}if(r!=n)return!1;var s=Object.keys(e);if(a=s.length,a!==Object.keys(t).length)return!1;for(i=a;i--!==0;)if(!t.hasOwnProperty(s[i]))return!1;for(i=a;i--!==0;)if(o=s[i],!Iu(e[o],t[o]))return!1;return!0}return e!==e&&t!==t}const pA=Object.freeze(Object.defineProperty({__proto__:null,JsonPatchError:ct,deepClone:dA,getValueByPointer:tf,applyOperation:Ma,applyPatch:Au,applyReducer:hA,validator:rf,validate:LS,_areEquals:Iu},Symbol.toStringTag,{value:"Module"}));({...pA});class Jn extends ReadableStream{constructor(){super(...arguments),Object.defineProperty(this,"reader",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}ensureReader(){this.reader||(this.reader=this.getReader())}async next(){this.ensureReader();try{const t=await this.reader.read();return t.done?(this.reader.releaseLock(),{done:!0,value:void 0}):{done:!1,value:t.value}}catch(t){throw this.reader.releaseLock(),t}}async return(){if(this.ensureReader(),this.locked){const t=this.reader.cancel();this.reader.releaseLock(),await t}return{done:!0,value:void 0}}async throw(t){if(this.ensureReader(),this.locked){const r=this.reader.cancel();this.reader.releaseLock(),await r}throw t}[Symbol.asyncIterator](){return this}static fromReadableStream(t){const r=t.getReader();return new Jn({start(n){return i();function i(){return r.read().then(({done:a,value:o})=>{if(a){n.close();return}return n.enqueue(o),i()})}},cancel(){r.releaseLock()}})}static fromAsyncGenerator(t){return new Jn({async pull(r){const{value:n,done:i}=await t.next();i&&r.close(),r.enqueue(n)},async cancel(r){await t.return(r)}})}}function US(e,t=2){const r=Array.from({length:t},()=>[]);return r.map(async function*(i){for(;;)if(i.length===0){const a=await e.next();for(const o of r)o.push(a)}else{if(i[0].done)return;yield i.shift().value}})}function Ta(e,t){if(Array.isArray(e)&&Array.isArray(t))return e.concat(t);if(typeof e=="string"&&typeof t=="string")return e+t;if(typeof e=="number"&&typeof t=="number")return e+t;if("concat"in e&&typeof e.concat=="function")return e.concat(t);if(typeof e=="object"&&typeof t=="object"){const r={...e};for(const[n,i]of Object.entries(t))n in r&&!Array.isArray(r[n])?r[n]=Ta(r[n],i):r[n]=i;return r}else throw new Error(`Cannot concat ${typeof e} and ${typeof t}`)}class Jo{constructor(t,r){Object.defineProperty(this,"generator",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"setup",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"firstResult",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"firstResultUsed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this.generator=t,this.setup=new Promise((n,i)=>{this.firstResult=t.next(),r?this.firstResult.then(r).then(n,i):this.firstResult.then(a=>n(void 0),i)})}async next(...t){return this.firstResultUsed?this.generator.next(...t):(this.firstResultUsed=!0,this.firstResult)}async return(t){return this.generator.return(t)}async throw(t){return this.generator.throw(t)}[Symbol.asyncIterator](){return this}}async function yA(e,t,r,...n){const i=new Jo(t,r),a=await i.setup;return{output:e(i,a,...n),setup:a}}class gi{constructor(t){var r;Object.defineProperty(this,"ops",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.ops=(r=t.ops)!=null?r:[]}concat(t){const r=this.ops.concat(t.ops),n=Au({},r);return new Du({ops:r,state:n[n.length-1].newDocument})}}class Du extends gi{constructor(t){super(t),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.state=t.state}concat(t){const r=this.ops.concat(t.ops),n=Au(this.state,t.ops);return new Du({ops:r,state:n[n.length-1].newDocument})}static fromRunLogPatch(t){const r=Au({},t.ops);return new Du({ops:t.ops,state:r[r.length-1].newDocument})}}async function bb(e,t){if(t==="original")throw new Error("Do not assign inputs with original schema drop the key for now. When inputs are added to streamLog they should be added with standardized schema for streaming events.");const{inputs:r}=e;if(["retriever","llm","prompt"].includes(e.run_type))return r;if(!(Object.keys(r).length===1&&(r==null?void 0:r.input)===""))return r.input}async function wb(e,t){const{outputs:r}=e;return t==="original"||["retriever","llm","prompt"].includes(e.run_type)?r:r!==void 0&&Object.keys(r).length===1&&(r==null?void 0:r.output)!==void 0?r.output:r}function vA(e){return e!==void 0&&e.message!==void 0}class Ob extends zf{constructor(t){var r,n;super({_awaitHandler:!0,...t}),Object.defineProperty(this,"autoClose",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"includeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_schemaFormat",{enumerable:!0,configurable:!0,writable:!0,value:"original"}),Object.defineProperty(this,"rootId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"keyMapByRunId",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"counterMapByRunName",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"transformStream",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"writer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"receiveStream",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"log_stream_tracer"}),this.autoClose=(r=t==null?void 0:t.autoClose)!=null?r:!0,this.includeNames=t==null?void 0:t.includeNames,this.includeTypes=t==null?void 0:t.includeTypes,this.includeTags=t==null?void 0:t.includeTags,this.excludeNames=t==null?void 0:t.excludeNames,this.excludeTypes=t==null?void 0:t.excludeTypes,this.excludeTags=t==null?void 0:t.excludeTags,this._schemaFormat=(n=t==null?void 0:t._schemaFormat)!=null?n:this._schemaFormat,this.transformStream=new TransformStream,this.writer=this.transformStream.writable.getWriter(),this.receiveStream=Jn.fromReadableStream(this.transformStream.readable)}[Symbol.asyncIterator](){return this.receiveStream}async persistRun(t){}_includeRun(t){var i;if(t.id===this.rootId)return!1;const r=(i=t.tags)!=null?i:[];let n=this.includeNames===void 0&&this.includeTags===void 0&&this.includeTypes===void 0;return this.includeNames!==void 0&&(n=n||this.includeNames.includes(t.name)),this.includeTypes!==void 0&&(n=n||this.includeTypes.includes(t.run_type)),this.includeTags!==void 0&&(n=n||r.find(a=>{var o;return(o=this.includeTags)==null?void 0:o.includes(a)})!==void 0),this.excludeNames!==void 0&&(n=n&&!this.excludeNames.includes(t.name)),this.excludeTypes!==void 0&&(n=n&&!this.excludeTypes.includes(t.run_type)),this.excludeTags!==void 0&&(n=n&&r.every(a=>{var o;return!((o=this.excludeTags)!=null&&o.includes(a))})),n}async*tapOutputIterable(t,r){for await(const n of r){if(t!==this.rootId){const i=this.keyMapByRunId[t];i&&await this.writer.write(new gi({ops:[{op:"add",path:`/logs/${i}/streamed_output/-`,value:n}]}))}yield n}}async onRunCreate(t){var i,a,o;if(this.rootId===void 0&&(this.rootId=t.id,await this.writer.write(new gi({ops:[{op:"replace",path:"",value:{id:t.id,name:t.name,type:t.run_type,streamed_output:[],final_output:void 0,logs:{}}}]}))),!this._includeRun(t))return;this.counterMapByRunName[t.name]===void 0&&(this.counterMapByRunName[t.name]=0),this.counterMapByRunName[t.name]+=1;const r=this.counterMapByRunName[t.name];this.keyMapByRunId[t.id]=r===1?t.name:`${t.name}:${r}`;const n={id:t.id,name:t.name,type:t.run_type,tags:(i=t.tags)!=null?i:[],metadata:(o=(a=t.extra)==null?void 0:a.metadata)!=null?o:{},start_time:new Date(t.start_time).toISOString(),streamed_output:[],streamed_output_str:[],final_output:void 0,end_time:void 0};this._schemaFormat==="streaming_events"&&(n.inputs=await bb(t,this._schemaFormat)),await this.writer.write(new gi({ops:[{op:"add",path:`/logs/${this.keyMapByRunId[t.id]}`,value:n}]}))}async onRunUpdate(t){try{const r=this.keyMapByRunId[t.id];if(r===void 0)return;const n=[];this._schemaFormat==="streaming_events"&&n.push({op:"replace",path:`/logs/${r}/inputs`,value:await bb(t,this._schemaFormat)}),n.push({op:"add",path:`/logs/${r}/final_output`,value:await wb(t,this._schemaFormat)}),t.end_time!==void 0&&n.push({op:"add",path:`/logs/${r}/end_time`,value:new Date(t.end_time).toISOString()});const i=new gi({ops:n});await this.writer.write(i)}finally{if(t.id===this.rootId){const r=new gi({ops:[{op:"replace",path:"/final_output",value:await wb(t,this._schemaFormat)}]});await this.writer.write(r),this.autoClose&&await this.writer.close()}}}async onLLMNewToken(t,r,n){const i=this.keyMapByRunId[t.id];if(i===void 0)return;const a=t.inputs.messages!==void 0;let o;a?vA(n==null?void 0:n.chunk)?o=n==null?void 0:n.chunk:o=new Oi(r):o=r;const s=new gi({ops:[{op:"add",path:`/logs/${i}/streamed_output_str/-`,value:r},{op:"add",path:`/logs/${i}/streamed_output/-`,value:o}]});await this.writer.write(s)}}class mA{getStore(){}run(t,r){r()}}class _A{constructor(){Object.defineProperty(this,"asyncLocalStorage",{enumerable:!0,configurable:!0,writable:!0,value:new mA}),Object.defineProperty(this,"hasBeenInitialized",{enumerable:!0,configurable:!0,writable:!0,value:!1})}getInstance(){return this.asyncLocalStorage}initializeGlobalInstance(t){this.hasBeenInitialized||(this.hasBeenInitialized=!0,this.asyncLocalStorage=t)}}const Yv=new _A,Ay=25;async function Ra(e){return Ft.configure(e==null?void 0:e.callbacks,void 0,e==null?void 0:e.tags,void 0,e==null?void 0:e.metadata)}function Sb(...e){var r,n,i;const t={};for(const a of e.filter(o=>!!o))for(const o of Object.keys(a))if(o==="metadata")t[o]={...t[o],...a[o]};else if(o==="tags"){const s=(r=t[o])!=null?r:[];t[o]=[...new Set(s.concat((n=a[o])!=null?n:[]))]}else if(o==="configurable")t[o]={...t[o],...a[o]};else if(o==="callbacks"){const s=t.callbacks,u=a.callbacks;if(Array.isArray(u))if(!s)t.callbacks=u;else if(Array.isArray(s))t.callbacks=s.concat(u);else{const c=s.copy();for(const d of u)c.addHandler(ef(d),!0);t.callbacks=c}else if(u)if(!s)t.callbacks=u;else if(Array.isArray(s)){const c=u.copy();for(const d of s)c.addHandler(ef(d),!0);t.callbacks=c}else t.callbacks=new Ft(u._parentRunId,{handlers:s.handlers.concat(u.handlers),inheritableHandlers:s.inheritableHandlers.concat(u.inheritableHandlers),tags:Array.from(new Set(s.tags.concat(u.tags))),inheritableTags:Array.from(new Set(s.inheritableTags.concat(u.inheritableTags))),metadata:{...s.metadata,...u.metadata}})}else{const s=o;t[s]=(i=a[s])!=null?i:t[s]}return t}const gA=new Set(["string","number","boolean"]);function Ge(e){var n;const t=e!=null?e:Yv.getInstance().getStore();let r={tags:[],metadata:{},callbacks:void 0,recursionLimit:25,runId:void 0};if(t&&(r={...r,...t}),t!=null&&t.configurable)for(const i of Object.keys(t.configurable))gA.has(typeof t.configurable[i])&&!((n=r.metadata)!=null&&n[i])&&(r.metadata||(r.metadata={}),r.metadata[i]=t.configurable[i]);return r}function lr(e={},{callbacks:t,maxConcurrency:r,recursionLimit:n,runName:i,configurable:a,runId:o}={}){const s=Ge(e);return t!==void 0&&(delete s.runName,s.callbacks=t),n!==void 0&&(s.recursionLimit=n),r!==void 0&&(s.maxConcurrency=r),i!==void 0&&(s.runName=i),a!==void 0&&(s.configurable={...s.configurable,...a}),o!==void 0&&delete s.runId,s}const bA=[400,401,402,403,404,405,406,407,409],wA=e=>{var r,n,i;if(e.message.startsWith("Cancel")||e.message.startsWith("AbortError")||e.name==="AbortError"||(e==null?void 0:e.code)==="ECONNABORTED")throw e;const t=(n=(r=e==null?void 0:e.response)==null?void 0:r.status)!=null?n:e==null?void 0:e.status;if(t&&bA.includes(+t))throw e;if(((i=e==null?void 0:e.error)==null?void 0:i.code)==="insufficient_quota"){const a=new Error(e==null?void 0:e.message);throw a.name="InsufficientQuotaError",a}};class Ju{constructor(t){var n,i,a;Object.defineProperty(this,"maxConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxRetries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onFailedAttempt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxConcurrency=(n=t.maxConcurrency)!=null?n:1/0,this.maxRetries=(i=t.maxRetries)!=null?i:6,this.onFailedAttempt=(a=t.onFailedAttempt)!=null?a:wA;const r="default"in Gn?Gn.default:Gn;this.queue=new r({concurrency:this.maxConcurrency})}call(t,...r){return this.queue.add(()=>Ba.exports(()=>t(...r).catch(n=>{throw n instanceof Error?n:new Error(n)}),{onFailedAttempt:this.onFailedAttempt,retries:this.maxRetries,randomize:!0}),{throwOnTimeout:!0})}callWithOptions(t,r,...n){return t.signal?Promise.race([this.call(r,...n),new Promise((i,a)=>{var o;(o=t.signal)==null||o.addEventListener("abort",()=>{a(new Error("AbortError"))})})]):this.call(r,...n)}fetch(...t){return this.call(()=>fetch(...t).then(r=>r.ok?r:Promise.reject(r)))}}class VS extends zf{constructor({config:t,onStart:r,onEnd:n,onError:i}){super({_awaitHandler:!0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RootListenersTracer"}),Object.defineProperty(this,"rootId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"argOnStart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"argOnEnd",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"argOnError",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.config=t,this.argOnStart=r,this.argOnEnd=n,this.argOnError=i}persistRun(t){return Promise.resolve()}async onRunCreate(t){this.rootId||(this.rootId=t.id,this.argOnStart&&(this.argOnStart.length===1?await this.argOnStart(t):this.argOnStart.length===2&&await this.argOnStart(t,this.config)))}async onRunUpdate(t){t.id===this.rootId&&(t.error?this.argOnError&&(this.argOnError.length===1?await this.argOnError(t):this.argOnError.length===2&&await this.argOnError(t,this.config)):this.argOnEnd&&(this.argOnEnd.length===1?await this.argOnEnd(t):this.argOnEnd.length===2&&await this.argOnEnd(t,this.config)))}}function KS(e){return e?e.lc_runnable:!1}class OA{constructor(t){Object.defineProperty(this,"includeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.includeNames=t.includeNames,this.includeTypes=t.includeTypes,this.includeTags=t.includeTags,this.excludeNames=t.excludeNames,this.excludeTypes=t.excludeTypes,this.excludeTags=t.excludeTags}includeEvent(t,r){var a;let n=this.includeNames===void 0&&this.includeTypes===void 0&&this.includeTags===void 0;const i=(a=t.tags)!=null?a:[];return this.includeNames!==void 0&&(n=n||this.includeNames.includes(t.name)),this.includeTypes!==void 0&&(n=n||this.includeTypes.includes(r)),this.includeTags!==void 0&&(n=n||i.some(o=>{var s;return(s=this.includeTags)==null?void 0:s.includes(o)})),this.excludeNames!==void 0&&(n=n&&!this.excludeNames.includes(t.name)),this.excludeTypes!==void 0&&(n=n&&!this.excludeTypes.includes(r)),this.excludeTags!==void 0&&(n=n&&i.every(o=>{var s;return!((s=this.excludeTags)!=null&&s.includes(o))})),n}}const SA=Symbol("Let zodToJsonSchema decide on which parser to use"),Pb={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",emailStrategy:"format:email",base64Strategy:"contentEncoding:base64"},PA=e=>typeof e=="string"?{...Pb,name:e}:{...Pb,...e},jA=e=>{const t=PA(e),r=t.name!==void 0?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,currentPath:r,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map(([n,i])=>[i._def,{def:i._def,path:[...t.basePath,t.definitionPath,n],jsonSchema:void 0}]))}};function HS(e,t,r,n){!(n!=null&&n.errorMessages)||r&&(e.errorMessage={...e.errorMessage,[t]:r})}function Fe(e,t,r,n,i){e[t]=r,HS(e,t,n,i)}function CA(){return{}}function EA(e,t){var n,i;const r={type:"array"};return((i=(n=e.type)==null?void 0:n._def)==null?void 0:i.typeName)!==L.ZodAny&&(r.items=Ae(e.type._def,{...t,currentPath:[...t.currentPath,"items"]})),e.minLength&&Fe(r,"minItems",e.minLength.value,e.minLength.message,t),e.maxLength&&Fe(r,"maxItems",e.maxLength.value,e.maxLength.message,t),e.exactLength&&(Fe(r,"minItems",e.exactLength.value,e.exactLength.message,t),Fe(r,"maxItems",e.exactLength.value,e.exactLength.message,t)),r}function MA(e,t){const r={type:"integer",format:"int64"};if(!e.checks)return r;for(const n of e.checks)switch(n.kind){case"min":t.target==="jsonSchema7"?n.inclusive?Fe(r,"minimum",n.value,n.message,t):Fe(r,"exclusiveMinimum",n.value,n.message,t):(n.inclusive||(r.exclusiveMinimum=!0),Fe(r,"minimum",n.value,n.message,t));break;case"max":t.target==="jsonSchema7"?n.inclusive?Fe(r,"maximum",n.value,n.message,t):Fe(r,"exclusiveMaximum",n.value,n.message,t):(n.inclusive||(r.exclusiveMaximum=!0),Fe(r,"maximum",n.value,n.message,t));break;case"multipleOf":Fe(r,"multipleOf",n.value,n.message,t);break}return r}function TA(){return{type:"boolean"}}function RA(e,t){return Ae(e.type._def,t)}const $A=(e,t)=>Ae(e.innerType._def,t);function GS(e,t,r){const n=r!=null?r:t.dateStrategy;if(Array.isArray(n))return{anyOf:n.map((i,a)=>GS(e,t,i))};switch(n){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return xA(e,t)}}const xA=(e,t)=>{const r={type:"integer",format:"unix-time"};if(t.target==="openApi3")return r;for(const n of e.checks)switch(n.kind){case"min":Fe(r,"minimum",n.value,n.message,t);break;case"max":Fe(r,"maximum",n.value,n.message,t);break}return r};function AA(e,t){return{...Ae(e.innerType._def,t),default:e.defaultValue()}}function IA(e,t){return t.effectStrategy==="input"?Ae(e.schema._def,t):{}}function DA(e){return{type:"string",enum:e.values}}const zA=e=>"type"in e&&e.type==="string"?!1:"allOf"in e;function NA(e,t){const r=[Ae(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),Ae(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(a=>!!a);let n=t.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0;const i=[];return r.forEach(a=>{if(zA(a))i.push(...a.allOf),a.unevaluatedProperties===void 0&&(n=void 0);else{let o=a;if("additionalProperties"in a&&a.additionalProperties===!1){const{additionalProperties:s,...u}=a;o=u}else n=void 0;i.push(o)}}),i.length?{allOf:i,...n}:void 0}function BA(e,t){const r=typeof e.value;return r!=="bigint"&&r!=="number"&&r!=="boolean"&&r!=="string"?{type:Array.isArray(e.value)?"array":"object"}:t.target==="openApi3"?{type:r==="bigint"?"integer":r,enum:[e.value]}:{type:r==="bigint"?"integer":r,const:e.value}}const ea={cuid:"^[cC][^\\s-]{8,}$",cuid2:"^[a-z][a-z0-9]*$",ulid:"^[0-9A-HJKMNP-TV-Z]{26}$",email:"^(?!\\.)(?!.*\\.\\.)([a-zA-Z0-9_+-\\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\\-]*\\.)+[a-zA-Z]{2,}$",emoji:"^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",uuid:"^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$",ipv4:"^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$",ipv6:"^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$",base64:"^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$",nanoid:"^[a-zA-Z0-9_-]{21}$"};function qS(e,t){const r={type:"string"};function n(i){return t.patternStrategy==="escape"?FA(i):i}if(e.checks)for(const i of e.checks)switch(i.kind){case"min":Fe(r,"minLength",typeof r.minLength=="number"?Math.max(r.minLength,i.value):i.value,i.message,t);break;case"max":Fe(r,"maxLength",typeof r.maxLength=="number"?Math.min(r.maxLength,i.value):i.value,i.message,t);break;case"email":switch(t.emailStrategy){case"format:email":Kr(r,"email",i.message,t);break;case"format:idn-email":Kr(r,"idn-email",i.message,t);break;case"pattern:zod":Hr(r,ea.email,i.message,t);break}break;case"url":Kr(r,"uri",i.message,t);break;case"uuid":Kr(r,"uuid",i.message,t);break;case"regex":Hr(r,i.regex.source,i.message,t);break;case"cuid":Hr(r,ea.cuid,i.message,t);break;case"cuid2":Hr(r,ea.cuid2,i.message,t);break;case"startsWith":Hr(r,"^"+n(i.value),i.message,t);break;case"endsWith":Hr(r,n(i.value)+"$",i.message,t);break;case"datetime":Kr(r,"date-time",i.message,t);break;case"date":Kr(r,"date",i.message,t);break;case"time":Kr(r,"time",i.message,t);break;case"duration":Kr(r,"duration",i.message,t);break;case"length":Fe(r,"minLength",typeof r.minLength=="number"?Math.max(r.minLength,i.value):i.value,i.message,t),Fe(r,"maxLength",typeof r.maxLength=="number"?Math.min(r.maxLength,i.value):i.value,i.message,t);break;case"includes":{Hr(r,n(i.value),i.message,t);break}case"ip":{i.version!=="v6"&&Kr(r,"ipv4",i.message,t),i.version!=="v4"&&Kr(r,"ipv6",i.message,t);break}case"emoji":Hr(r,ea.emoji,i.message,t);break;case"ulid":{Hr(r,ea.ulid,i.message,t);break}case"base64":{switch(t.base64Strategy){case"format:binary":{Kr(r,"binary",i.message,t);break}case"contentEncoding:base64":{Fe(r,"contentEncoding","base64",i.message,t);break}case"pattern:zod":{Hr(r,ea.base64,i.message,t);break}}break}case"nanoid":Hr(r,ea.nanoid,i.message,t)}return r}const FA=e=>Array.from(e).map(t=>/[a-zA-Z0-9]/.test(t)?t:`\\${t}`).join(""),Kr=(e,t,r,n)=>{var i;e.format||((i=e.anyOf)==null?void 0:i.some(a=>a.format))?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format,...e.errorMessage&&n.errorMessages&&{errorMessage:{format:e.errorMessage.format}}}),delete e.format,e.errorMessage&&(delete e.errorMessage.format,Object.keys(e.errorMessage).length===0&&delete e.errorMessage)),e.anyOf.push({format:t,...r&&n.errorMessages&&{errorMessage:{format:r}}})):Fe(e,"format",t,r,n)},Hr=(e,t,r,n)=>{var i;e.pattern||((i=e.allOf)==null?void 0:i.some(a=>a.pattern))?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern,...e.errorMessage&&n.errorMessages&&{errorMessage:{pattern:e.errorMessage.pattern}}}),delete e.pattern,e.errorMessage&&(delete e.errorMessage.pattern,Object.keys(e.errorMessage).length===0&&delete e.errorMessage)),e.allOf.push({pattern:t,...r&&n.errorMessages&&{errorMessage:{pattern:r}}})):Fe(e,"pattern",t,r,n)};function kS(e,t){var n,i,a,o,s;if(t.target==="openApi3"&&((n=e.keyType)==null?void 0:n._def.typeName)===L.ZodEnum)return{type:"object",required:e.keyType._def.values,properties:e.keyType._def.values.reduce((u,c)=>{var d;return{...u,[c]:(d=Ae(e.valueType._def,{...t,currentPath:[...t.currentPath,"properties",c]}))!=null?d:{}}},{}),additionalProperties:!1};const r={type:"object",additionalProperties:(i=Ae(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]}))!=null?i:{}};if(t.target==="openApi3")return r;if(((a=e.keyType)==null?void 0:a._def.typeName)===L.ZodString&&((o=e.keyType._def.checks)==null?void 0:o.length)){const u=Object.entries(qS(e.keyType._def,t)).reduce((c,[d,f])=>d==="type"?c:{...c,[d]:f},{});return{...r,propertyNames:u}}else if(((s=e.keyType)==null?void 0:s._def.typeName)===L.ZodEnum)return{...r,propertyNames:{enum:e.keyType._def.values}};return r}function LA(e,t){if(t.mapStrategy==="record")return kS(e,t);const r=Ae(e.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||{},n=Ae(e.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||{};return{type:"array",maxItems:125,items:{type:"array",items:[r,n],minItems:2,maxItems:2}}}function UA(e){const t=e.values,n=Object.keys(e.values).filter(a=>typeof t[t[a]]!="number").map(a=>t[a]),i=Array.from(new Set(n.map(a=>typeof a)));return{type:i.length===1?i[0]==="string"?"string":"number":["string","number"],enum:n}}function VA(){return{not:{}}}function KA(e){return e.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}const nf={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function HA(e,t){if(t.target==="openApi3")return jb(e,t);const r=e.options instanceof Map?Array.from(e.options.values()):e.options;if(r.every(n=>n._def.typeName in nf&&(!n._def.checks||!n._def.checks.length))){const n=r.reduce((i,a)=>{const o=nf[a._def.typeName];return o&&!i.includes(o)?[...i,o]:i},[]);return{type:n.length>1?n:n[0]}}else if(r.every(n=>n._def.typeName==="ZodLiteral"&&!n.description)){const n=r.reduce((i,a)=>{const o=typeof a._def.value;switch(o){case"string":case"number":case"boolean":return[...i,o];case"bigint":return[...i,"integer"];case"object":if(a._def.value===null)return[...i,"null"];case"symbol":case"undefined":case"function":default:return i}},[]);if(n.length===r.length){const i=n.filter((a,o,s)=>s.indexOf(a)===o);return{type:i.length>1?i:i[0],enum:r.reduce((a,o)=>a.includes(o._def.value)?a:[...a,o._def.value],[])}}}else if(r.every(n=>n._def.typeName==="ZodEnum"))return{type:"string",enum:r.reduce((n,i)=>[...n,...i._def.values.filter(a=>!n.includes(a))],[])};return jb(e,t)}const jb=(e,t)=>{const r=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((n,i)=>Ae(n._def,{...t,currentPath:[...t.currentPath,"anyOf",`${i}`]})).filter(n=>!!n&&(!t.strictUnions||typeof n=="object"&&Object.keys(n).length>0));return r.length?{anyOf:r}:void 0};function GA(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return t.target==="openApi3"?{type:nf[e.innerType._def.typeName],nullable:!0}:{type:[nf[e.innerType._def.typeName],"null"]};if(t.target==="openApi3"){const n=Ae(e.innerType._def,{...t,currentPath:[...t.currentPath]});return n&&"$ref"in n?{allOf:[n],nullable:!0}:n&&{...n,nullable:!0}}const r=Ae(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return r&&{anyOf:[r,{type:"null"}]}}function qA(e,t){const r={type:"number"};if(!e.checks)return r;for(const n of e.checks)switch(n.kind){case"int":r.type="integer",HS(r,"type",n.message,t);break;case"min":t.target==="jsonSchema7"?n.inclusive?Fe(r,"minimum",n.value,n.message,t):Fe(r,"exclusiveMinimum",n.value,n.message,t):(n.inclusive||(r.exclusiveMinimum=!0),Fe(r,"minimum",n.value,n.message,t));break;case"max":t.target==="jsonSchema7"?n.inclusive?Fe(r,"maximum",n.value,n.message,t):Fe(r,"exclusiveMaximum",n.value,n.message,t):(n.inclusive||(r.exclusiveMaximum=!0),Fe(r,"maximum",n.value,n.message,t));break;case"multipleOf":Fe(r,"multipleOf",n.value,n.message,t);break}return r}function kA(e,t){var r,n;return t.removeAdditionalStrategy==="strict"?e.catchall._def.typeName==="ZodNever"?e.unknownKeys!=="strict":(r=Ae(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]}))!=null?r:!0:e.catchall._def.typeName==="ZodNever"?e.unknownKeys==="passthrough":(n=Ae(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]}))!=null?n:!0}function WA(e,t){const r={type:"object",...Object.entries(e.shape()).reduce((n,[i,a])=>{if(a===void 0||a._def===void 0)return n;const o=Ae(a._def,{...t,currentPath:[...t.currentPath,"properties",i],propertyPath:[...t.currentPath,"properties",i]});return o===void 0?n:{properties:{...n.properties,[i]:o},required:a.isOptional()?n.required:[...n.required,i]}},{properties:{},required:[]}),additionalProperties:kA(e,t)};return r.required.length||delete r.required,r}const XA=(e,t)=>{var n;if(t.currentPath.toString()===((n=t.propertyPath)==null?void 0:n.toString()))return Ae(e.innerType._def,t);const r=Ae(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return r?{anyOf:[{not:{}},r]}:{}},ZA=(e,t)=>{if(t.pipeStrategy==="input")return Ae(e.in._def,t);if(t.pipeStrategy==="output")return Ae(e.out._def,t);const r=Ae(e.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),n=Ae(e.out._def,{...t,currentPath:[...t.currentPath,"allOf",r?"1":"0"]});return{allOf:[r,n].filter(i=>i!==void 0)}};function JA(e,t){return Ae(e.type._def,t)}function YA(e,t){const n={type:"array",uniqueItems:!0,items:Ae(e.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return e.minSize&&Fe(n,"minItems",e.minSize.value,e.minSize.message,t),e.maxSize&&Fe(n,"maxItems",e.maxSize.value,e.maxSize.message,t),n}function QA(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((r,n)=>Ae(r._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]})).reduce((r,n)=>n===void 0?r:[...r,n],[]),additionalItems:Ae(e.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((r,n)=>Ae(r._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]})).reduce((r,n)=>n===void 0?r:[...r,n],[])}}function eI(){return{not:{}}}function tI(){return{}}const rI=(e,t)=>Ae(e.innerType._def,t);function Ae(e,t,r=!1){var o;const n=t.seen.get(e);if(t.override){const s=(o=t.override)==null?void 0:o.call(t,e,t,n,r);if(s!==SA)return s}if(n&&!r){const s=nI(n,t);if(s!==void 0)return s}const i={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,i);const a=aI(e,e.typeName,t);return a&&oI(e,t,a),i.jsonSchema=a,a}const nI=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:iI(t.currentPath,e.path)};case"none":case"seen":return e.path.length<t.currentPath.length&&e.path.every((r,n)=>t.currentPath[n]===r)?(console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),{}):t.$refStrategy==="seen"?{}:void 0}},iI=(e,t)=>{let r=0;for(;r<e.length&&r<t.length&&e[r]===t[r];r++);return[(e.length-r).toString(),...t.slice(r)].join("/")},aI=(e,t,r)=>{switch(t){case L.ZodString:return qS(e,r);case L.ZodNumber:return qA(e,r);case L.ZodObject:return WA(e,r);case L.ZodBigInt:return MA(e,r);case L.ZodBoolean:return TA();case L.ZodDate:return GS(e,r);case L.ZodUndefined:return eI();case L.ZodNull:return KA(r);case L.ZodArray:return EA(e,r);case L.ZodUnion:case L.ZodDiscriminatedUnion:return HA(e,r);case L.ZodIntersection:return NA(e,r);case L.ZodTuple:return QA(e,r);case L.ZodRecord:return kS(e,r);case L.ZodLiteral:return BA(e,r);case L.ZodEnum:return DA(e);case L.ZodNativeEnum:return UA(e);case L.ZodNullable:return GA(e,r);case L.ZodOptional:return XA(e,r);case L.ZodMap:return LA(e,r);case L.ZodSet:return YA(e,r);case L.ZodLazy:return Ae(e.getter()._def,r);case L.ZodPromise:return JA(e,r);case L.ZodNaN:case L.ZodNever:return VA();case L.ZodEffects:return IA(e,r);case L.ZodAny:return CA();case L.ZodUnknown:return tI();case L.ZodDefault:return AA(e,r);case L.ZodBranded:return RA(e,r);case L.ZodReadonly:return rI(e,r);case L.ZodCatch:return $A(e,r);case L.ZodPipeline:return ZA(e,r);case L.ZodFunction:case L.ZodVoid:case L.ZodSymbol:return;default:return(n=>{})()}},oI=(e,t,r)=>(e.description&&(r.description=e.description,t.markdownDescription&&(r.markdownDescription=e.description)),r),Qv=(e,t)=>{var s;const r=jA(t),n=typeof t=="object"&&t.definitions?Object.entries(t.definitions).reduce((u,[c,d])=>{var f;return{...u,[c]:(f=Ae(d._def,{...r,currentPath:[...r.basePath,r.definitionPath,c]},!0))!=null?f:{}}},{}):void 0,i=typeof t=="string"?t:t==null?void 0:t.name,a=(s=Ae(e._def,i===void 0?r:{...r,currentPath:[...r.basePath,r.definitionPath,i]},!1))!=null?s:{},o=i===void 0?n?{...a,[r.definitionPath]:n}:a:{$ref:[...r.$refStrategy==="relative"?[]:r.basePath,r.definitionPath,i].join("/"),[r.definitionPath]:{...n,[i]:a}};return r.target==="jsonSchema7"?o.$schema="http://json-schema.org/draft-07/schema#":r.target==="jsonSchema2019-09"&&(o.$schema="https://json-schema.org/draft/2019-09/schema#"),o};function sI(e){return KS(e.data)?{type:"runnable",data:{id:e.data.lc_id,name:e.data.getName()}}:{type:"schema",data:{...Qv(e.data.schema),title:e.data.name}}}class WS{constructor(){Object.defineProperty(this,"nodes",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"edges",{enumerable:!0,configurable:!0,writable:!0,value:[]})}toJSON(){const t={};return Object.values(this.nodes).forEach((r,n)=>{t[r.id]=gS(r.id)?n:r.id}),{nodes:Object.values(this.nodes).map(r=>({id:t[r.id],...sI(r)})),edges:this.edges.map(r=>r.data?{source:t[r.source],target:t[r.target],data:r.data}:{source:t[r.source],target:t[r.target]})}}addNode(t,r){if(r!==void 0&&this.nodes[r]!==void 0)throw new Error(`Node with id ${r} already exists`);const n=r||_n(),i={id:n,data:t};return this.nodes[n]=i,i}removeNode(t){delete this.nodes[t.id],this.edges=this.edges.filter(r=>r.source!==t.id&&r.target!==t.id)}addEdge(t,r,n){if(this.nodes[t.id]===void 0)throw new Error(`Source node ${t.id} not in graph`);if(this.nodes[r.id]===void 0)throw new Error(`Target node ${r.id} not in graph`);const i={source:t.id,target:r.id,data:n};return this.edges.push(i),i}firstNode(){const t=new Set(this.edges.map(n=>n.target)),r=[];return Object.values(this.nodes).forEach(n=>{t.has(n.id)||r.push(n)}),r[0]}lastNode(){const t=new Set(this.edges.map(n=>n.source)),r=[];return Object.values(this.nodes).forEach(n=>{t.has(n.id)||r.push(n)}),r[0]}extend(t){Object.entries(t.nodes).forEach(([r,n])=>{this.nodes[r]=n}),this.edges=[...this.edges,...t.edges]}trimFirstNode(){const t=this.firstNode();if(t){const r=this.edges.filter(n=>n.source===t.id);(Object.keys(this.nodes).length===1||r.length===1)&&this.removeNode(t)}}trimLastNode(){const t=this.lastNode();if(t){const r=this.edges.filter(n=>n.target===t.id);(Object.keys(this.nodes).length===1||r.length===1)&&this.removeNode(t)}}}function Nt(e,t){return e&&!Array.isArray(e)&&!(e instanceof Date)&&typeof e=="object"?e:{[t]:e}}class ut extends Zn{constructor(){super(...arguments),Object.defineProperty(this,"lc_runnable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}getName(t){var n,i;const r=(i=(n=this.name)!=null?n:this.constructor.lc_name())!=null?i:this.constructor.name;return t?`${r}${t}`:r}bind(t){return new Ao({bound:this,kwargs:t,config:{}})}map(){return new af({bound:this})}withRetry(t){return new uI({bound:this,kwargs:{},config:{},maxAttemptNumber:t==null?void 0:t.stopAfterAttempt,...t})}withConfig(t){return new Ao({bound:this,config:t,kwargs:{}})}withFallbacks(t){return new lI({runnable:this,fallbacks:t.fallbacks})}_getOptionsList(t,r=0){if(Array.isArray(t)&&t.length!==r)throw new Error(`Passed "options" must be an array with the same length as the inputs, but got ${t.length} options for ${r} inputs`);if(Array.isArray(t))return t.map(Ge);if(r>1&&!Array.isArray(t)&&t.runId){console.warn("Provided runId will be used only for the first element of the batch.");const n=Object.fromEntries(Object.entries(t).filter(([i])=>i!=="runId"));return Array.from({length:r},(i,a)=>Ge(a===0?t:n))}return Array.from({length:r},()=>Ge(t))}async batch(t,r,n){var u,c;const i=this._getOptionsList(r!=null?r:{},t.length),a=(c=(u=i[0])==null?void 0:u.maxConcurrency)!=null?c:n==null?void 0:n.maxConcurrency,o=new Ju({maxConcurrency:a,onFailedAttempt:d=>{throw d}}),s=t.map((d,f)=>o.call(async()=>{try{return await this.invoke(d,i[f])}catch(h){if(n!=null&&n.returnExceptions)return h;throw h}}));return Promise.all(s)}async*_streamIterator(t,r){yield this.invoke(t,r)}async stream(t,r){const n=new Jo(this._streamIterator(t,Ge(r)));return await n.setup,Jn.fromAsyncGenerator(n)}_separateRunnableConfigFromCallOptions(t){let r;t===void 0?r=Ge(t):r=Ge({callbacks:t.callbacks,tags:t.tags,metadata:t.metadata,runName:t.runName,configurable:t.configurable,recursionLimit:t.recursionLimit,maxConcurrency:t.maxConcurrency,runId:t.runId});const n={...t};return delete n.callbacks,delete n.tags,delete n.metadata,delete n.runName,delete n.configurable,delete n.recursionLimit,delete n.maxConcurrency,delete n.runId,[r,n]}async _callWithConfig(t,r,n){var u;const i=Ge(n),a=await Ra(i),o=await(a==null?void 0:a.handleChainStart(this.toJSON(),Nt(r,"input"),i.runId,i==null?void 0:i.runType,void 0,void 0,(u=i==null?void 0:i.runName)!=null?u:this.getName()));delete i.runId;let s;try{s=await t.call(this,r,i,o)}catch(c){throw await(o==null?void 0:o.handleChainError(c)),c}return await(o==null?void 0:o.handleChainEnd(Nt(s,"output"))),s}async _batchWithConfig(t,r,n,i){const a=this._getOptionsList(n!=null?n:{},r.length),o=await Promise.all(a.map(Ra)),s=await Promise.all(o.map(async(c,d)=>{var h;const f=await(c==null?void 0:c.handleChainStart(this.toJSON(),Nt(r[d],"input"),a[d].runId,a[d].runType,void 0,void 0,(h=a[d].runName)!=null?h:this.getName()));return delete a[d].runId,f}));let u;try{u=await t.call(this,r,a,s,i)}catch(c){throw await Promise.all(s.map(d=>d==null?void 0:d.handleChainError(c))),c}return await Promise.all(s.map(c=>c==null?void 0:c.handleChainEnd(Nt(u,"output")))),u}async*_transformStreamWithConfig(t,r,n){let i,a=!0,o,s=!0;const u=Ge(n),c=await Ra(u);async function*d(){for await(const h of t){if(a)if(i===void 0)i=h;else try{i=Ta(i,h)}catch{i=void 0,a=!1}yield h}}let f;try{const h=await yA(r.bind(this),d(),async()=>{var m;return c==null?void 0:c.handleChainStart(this.toJSON(),{input:""},u.runId,u.runType,void 0,void 0,(m=u.runName)!=null?m:this.getName())},u);delete u.runId,f=h.setup;const p=m=>m.name==="log_stream_tracer",y=f==null?void 0:f.handlers.find(p);let v=h.output;y!==void 0&&f!==void 0&&(v=await y.tapOutputIterable(f.runId,h.output));for await(const m of v)if(yield m,s)if(o===void 0)o=m;else try{o=Ta(o,m)}catch{o=void 0,s=!1}}catch(h){throw await(f==null?void 0:f.handleChainError(h,void 0,void 0,void 0,{inputs:Nt(i,"input")})),h}await(f==null?void 0:f.handleChainEnd(o!=null?o:{},void 0,void 0,void 0,{inputs:Nt(i,"input")}))}getGraph(t){const r=new WS,n=r.addNode({name:`${this.getName()}Input`,schema:sb.any()}),i=r.addNode(this),a=r.addNode({name:`${this.getName()}Output`,schema:sb.any()});return r.addEdge(n,i),r.addEdge(i,a),r}pipe(t){return new wa({first:this,last:Oa(t)})}pick(t){return this.pipe(new cI(t))}assign(t){return this.pipe(new XS(new Yo({steps:t})))}async*transform(t,r){let n;for await(const i of t)n===void 0?n=i:n=Ta(n,i);yield*this._streamIterator(n,Ge(r))}async*streamLog(t,r,n){const i=new Ob({...n,autoClose:!1,_schemaFormat:"original"}),a=Ge(r);yield*this._streamLog(t,i,a)}async*_streamLog(t,r,n){const{callbacks:i}=n;if(i===void 0)n.callbacks=[r];else if(Array.isArray(i))n.callbacks=i.concat([r]);else{const u=i.copy();u.inheritableHandlers.push(r),n.callbacks=u}const a=this.stream(t,n);async function o(){try{const u=await a;for await(const c of u){const d=new gi({ops:[{op:"add",path:"/streamed_output/-",value:c}]});await r.writer.write(d)}}finally{await r.writer.close()}}const s=o();try{for await(const u of r)yield u}finally{await s}}async*streamEvents(t,r,n){var y,v,m;if(r.version!=="v1")throw new Error('Only version "v1" of the events schema is currently supported.');let i,a=!1;const o=Ge(r),s=(y=o.tags)!=null?y:[],u=(v=o.metadata)!=null?v:{},c=(m=o.runName)!=null?m:this.getName(),d=new Ob({...n,autoClose:!1,_schemaFormat:"streaming_events"}),f=new OA({...n}),h=this._streamLog(t,d,o);for await(const b of h){if(i?i=i.concat(b):i=Du.fromRunLogPatch(b),i.state===void 0)throw new Error('Internal error: "streamEvents" state is missing. Please open a bug report.');if(!a){a=!0;const x={...i.state},M={run_id:x.id,event:`on_${x.type}_start`,name:c,tags:s,metadata:u,data:{input:t}};f.includeEvent(M,x.type)&&(yield M)}const O=b.ops.filter(x=>x.path.startsWith("/logs/")).map(x=>x.path.split("/")[2]),S=[...new Set(O)];for(const x of S){let M,I={};const C=i.state.logs[x];if(C.end_time===void 0?C.streamed_output.length>0?M="stream":M="start":M="end",M==="start")C.inputs!==void 0&&(I.input=C.inputs);else if(M==="end")C.inputs!==void 0&&(I.input=C.inputs),I.output=C.final_output;else if(M==="stream"){const A=C.streamed_output.length;if(A!==1)throw new Error(`Expected exactly one chunk of streamed output, got ${A} instead. Encountered in: "${C.name}"`);I={chunk:C.streamed_output[0]},C.streamed_output=[]}yield{event:`on_${C.type}_${M}`,name:C.name,run_id:C.id,tags:C.tags,metadata:C.metadata,data:I}}const{state:T}=i;if(T.streamed_output.length>0){const x=T.streamed_output.length;if(x!==1)throw new Error(`Expected exactly one chunk of streamed output, got ${x} instead. Encountered in: "${T.name}"`);const M={chunk:T.streamed_output[0]};T.streamed_output=[];const I={event:`on_${T.type}_stream`,run_id:T.id,tags:s,metadata:u,name:c,data:M};f.includeEvent(I,T.type)&&(yield I)}}const p=i==null?void 0:i.state;if(p!==void 0){const b={event:`on_${p.type}_end`,name:c,run_id:p.id,tags:s,metadata:u,data:{output:p.final_output}};f.includeEvent(b,p.type)&&(yield b)}}static isRunnable(t){return KS(t)}withListeners({onStart:t,onEnd:r,onError:n}){return new Ao({bound:this,config:{},configFactories:[i=>({callbacks:[new VS({config:i,onStart:t,onEnd:r,onError:n})]})]})}}class Ao extends ut{static lc_name(){return"RunnableBinding"}constructor(t){super(t),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"bound",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"configFactories",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.bound=t.bound,this.kwargs=t.kwargs,this.config=t.config,this.configFactories=t.configFactories}getName(t){return this.bound.getName(t)}async _mergeConfig(...t){const r=Sb(this.config,...t);return Sb(r,...this.configFactories?await Promise.all(this.configFactories.map(async n=>await n(r))):[])}bind(t){return new this.constructor({bound:this.bound,kwargs:{...this.kwargs,...t},config:this.config})}withConfig(t){return new this.constructor({bound:this.bound,kwargs:this.kwargs,config:{...this.config,...t}})}withRetry(t){return new this.constructor({bound:this.bound.withRetry(t),kwargs:this.kwargs,config:this.config})}async invoke(t,r){return this.bound.invoke(t,await this._mergeConfig(Ge(r),this.kwargs))}async batch(t,r,n){const i=Array.isArray(r)?await Promise.all(r.map(async a=>this._mergeConfig(Ge(a),this.kwargs))):await this._mergeConfig(Ge(r),this.kwargs);return this.bound.batch(t,i,n)}async*_streamIterator(t,r){yield*this.bound._streamIterator(t,await this._mergeConfig(Ge(r),this.kwargs))}async stream(t,r){return this.bound.stream(t,await this._mergeConfig(Ge(r),this.kwargs))}async*transform(t,r){yield*this.bound.transform(t,await this._mergeConfig(Ge(r),this.kwargs))}async*streamEvents(t,r,n){yield*this.bound.streamEvents(t,{...await this._mergeConfig(Ge(r),this.kwargs),version:r.version},n)}static isRunnableBinding(t){return t.bound&&ut.isRunnable(t.bound)}withListeners({onStart:t,onEnd:r,onError:n}){return new Ao({bound:this.bound,kwargs:this.kwargs,config:this.config,configFactories:[i=>({callbacks:[new VS({config:i,onStart:t,onEnd:r,onError:n})]})]})}}class af extends ut{static lc_name(){return"RunnableEach"}constructor(t){super(t),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"bound",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.bound=t.bound}bind(t){return new af({bound:this.bound.bind(t)})}async invoke(t,r){return this._callWithConfig(this._invoke,t,r)}async _invoke(t,r,n){return this.bound.batch(t,lr(r,{callbacks:n==null?void 0:n.getChild()}))}withListeners({onStart:t,onEnd:r,onError:n}){return new af({bound:this.bound.withListeners({onStart:t,onEnd:r,onError:n})})}}class uI extends Ao{static lc_name(){return"RunnableRetry"}constructor(t){var r,n;super(t),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"maxAttemptNumber",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"onFailedAttempt",{enumerable:!0,configurable:!0,writable:!0,value:()=>{}}),this.maxAttemptNumber=(r=t.maxAttemptNumber)!=null?r:this.maxAttemptNumber,this.onFailedAttempt=(n=t.onFailedAttempt)!=null?n:this.onFailedAttempt}_patchConfigForRetry(t,r,n){const i=t>1?`retry:attempt:${t}`:void 0;return lr(r,{callbacks:n==null?void 0:n.getChild(i)})}async _invoke(t,r,n){return Ba.exports(i=>super.invoke(t,this._patchConfigForRetry(i,r,n)),{onFailedAttempt:i=>this.onFailedAttempt(i,t),retries:Math.max(this.maxAttemptNumber-1,0),randomize:!0})}async invoke(t,r){return this._callWithConfig(this._invoke,t,r)}async _batch(t,r,n,i){const a={};try{await Ba.exports(async o=>{const s=t.map((h,p)=>p).filter(h=>a[h.toString()]===void 0||a[h.toString()]instanceof Error),u=s.map(h=>t[h]),c=s.map(h=>this._patchConfigForRetry(o,r==null?void 0:r[h],n==null?void 0:n[h])),d=await super.batch(u,c,{...i,returnExceptions:!0});let f;for(let h=0;h<d.length;h+=1){const p=d[h],y=s[h];p instanceof Error&&f===void 0&&(f=p,f.input=u[h]),a[y.toString()]=p}if(f)throw f;return d},{onFailedAttempt:o=>this.onFailedAttempt(o,o.input),retries:Math.max(this.maxAttemptNumber-1,0),randomize:!0})}catch(o){if((i==null?void 0:i.returnExceptions)!==!0)throw o}return Object.keys(a).sort((o,s)=>parseInt(o,10)-parseInt(s,10)).map(o=>a[parseInt(o,10)])}async batch(t,r,n){return this._batchWithConfig(this._batch.bind(this),t,r,n)}}class wa extends ut{static lc_name(){return"RunnableSequence"}constructor(t){var r;super(t),Object.defineProperty(this,"first",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"middle",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"last",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),this.first=t.first,this.middle=(r=t.middle)!=null?r:this.middle,this.last=t.last,this.name=t.name}get steps(){return[this.first,...this.middle,this.last]}async invoke(t,r){const n=Ge(r),i=await Ra(n),a=await(i==null?void 0:i.handleChainStart(this.toJSON(),Nt(t,"input"),n.runId,void 0,void 0,void 0,n==null?void 0:n.runName));delete n.runId;let o=t,s;try{const u=[this.first,...this.middle];for(let c=0;c<u.length;c+=1)o=await u[c].invoke(o,lr(n,{callbacks:a==null?void 0:a.getChild(`seq:step:${c+1}`)}));s=await this.last.invoke(o,lr(n,{callbacks:a==null?void 0:a.getChild(`seq:step:${this.steps.length}`)}))}catch(u){throw await(a==null?void 0:a.handleChainError(u)),u}return await(a==null?void 0:a.handleChainEnd(Nt(s,"output"))),s}async batch(t,r,n){const i=this._getOptionsList(r!=null?r:{},t.length),a=await Promise.all(i.map(Ra)),o=await Promise.all(a.map(async(u,c)=>{const d=await(u==null?void 0:u.handleChainStart(this.toJSON(),Nt(t[c],"input"),i[c].runId,void 0,void 0,void 0,i[c].runName));return delete i[c].runId,d}));let s=t;try{for(let u=0;u<this.steps.length;u+=1)s=await this.steps[u].batch(s,o.map((d,f)=>{const h=d==null?void 0:d.getChild(`seq:step:${u+1}`);return lr(i[f],{callbacks:h})}),n)}catch(u){throw await Promise.all(o.map(c=>c==null?void 0:c.handleChainError(u))),u}return await Promise.all(o.map(u=>u==null?void 0:u.handleChainEnd(Nt(s,"output")))),s}async*_streamIterator(t,r){const n=await Ra(r),{runId:i,...a}=r!=null?r:{},o=await(n==null?void 0:n.handleChainStart(this.toJSON(),Nt(t,"input"),i,void 0,void 0,void 0,a==null?void 0:a.runName)),s=[this.first,...this.middle,this.last];let u=!0,c;async function*d(){yield t}try{let f=s[0].transform(d(),lr(a,{callbacks:o==null?void 0:o.getChild("seq:step:1")}));for(let h=1;h<s.length;h+=1)f=await s[h].transform(f,lr(a,{callbacks:o==null?void 0:o.getChild(`seq:step:${h+1}`)}));for await(const h of f)if(yield h,u)if(c===void 0)c=h;else try{c=Ta(c,h)}catch{c=void 0,u=!1}}catch(f){throw await(o==null?void 0:o.handleChainError(f)),f}await(o==null?void 0:o.handleChainEnd(Nt(c,"output")))}getGraph(t){const r=new WS;let n=null;return this.steps.forEach((i,a)=>{const o=i.getGraph(t);a!==0&&o.trimFirstNode(),a!==this.steps.length-1&&o.trimLastNode(),r.extend(o);const s=o.firstNode();if(!s)throw new Error(`Runnable ${i} has no first node`);n&&r.addEdge(n,s),n=o.lastNode()}),r}pipe(t){var r;return wa.isRunnableSequence(t)?new wa({first:this.first,middle:this.middle.concat([this.last,t.first,...t.middle]),last:t.last,name:(r=this.name)!=null?r:t.name}):new wa({first:this.first,middle:[...this.middle,this.last],last:Oa(t),name:this.name})}static isRunnableSequence(t){return Array.isArray(t.middle)&&ut.isRunnable(t)}static from([t,...r],n){return new wa({first:Oa(t),middle:r.slice(0,-1).map(Oa),last:Oa(r[r.length-1]),name:n})}}class Yo extends ut{static lc_name(){return"RunnableMap"}getStepsKeys(){return Object.keys(this.steps)}constructor(t){super(t),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"steps",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.steps={};for(const[r,n]of Object.entries(t.steps))this.steps[r]=Oa(n)}static from(t){return new Yo({steps:t})}async invoke(t,r){const n=Ge(r),i=await Ra(n),a=await(i==null?void 0:i.handleChainStart(this.toJSON(),{input:t},n.runId,void 0,void 0,void 0,n==null?void 0:n.runName));delete n.runId;const o={};try{await Promise.all(Object.entries(this.steps).map(async([s,u])=>{o[s]=await u.invoke(t,lr(n,{callbacks:a==null?void 0:a.getChild(`map:key:${s}`)}))}))}catch(s){throw await(a==null?void 0:a.handleChainError(s)),s}return await(a==null?void 0:a.handleChainEnd(o)),o}async*_transform(t,r,n){const i={...this.steps},a=US(t,Object.keys(i).length),o=new Map(Object.entries(i).map(([s,u],c)=>{const d=u.transform(a[c],lr(n,{callbacks:r==null?void 0:r.getChild(`map:key:${s}`)}));return[s,d.next().then(f=>({key:s,gen:d,result:f}))]}));for(;o.size;){const{key:s,result:u,gen:c}=await Promise.race(o.values());o.delete(s),u.done||(yield{[s]:u.value},o.set(s,c.next().then(d=>({key:s,gen:c,result:d}))))}}transform(t,r){return this._transformStreamWithConfig(t,this._transform.bind(this),r)}async stream(t,r){async function*n(){yield t}const i=new Jo(this.transform(n(),r));return await i.setup,Jn.fromAsyncGenerator(i)}}class s_ extends ut{static lc_name(){return"RunnableLambda"}constructor(t){super(t),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"func",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.func=t.func}static from(t){return new s_({func:t})}async _invoke(t,r,n){return new Promise((i,a)=>{var s;const o=lr(r,{callbacks:n==null?void 0:n.getChild(),recursionLimit:((s=r==null?void 0:r.recursionLimit)!=null?s:Ay)-1});Yv.getInstance().run(o,async()=>{var u;try{let c=await this.func(t,{...o,config:o});if(c&&ut.isRunnable(c)){if((r==null?void 0:r.recursionLimit)===0)throw new Error("Recursion limit reached.");c=await c.invoke(t,{...o,recursionLimit:((u=o.recursionLimit)!=null?u:Ay)-1})}i(c)}catch(c){a(c)}})})}async invoke(t,r){return this._callWithConfig(this._invoke,t,r)}async*_transform(t,r,n){var o;let i;for await(const s of t)if(i===void 0)i=s;else try{i=Ta(i,s)}catch{i=s}const a=await new Promise((s,u)=>{Yv.getInstance().run(n,async()=>{try{const c=await this.func(i,{...n,config:n});s(c)}catch(c){u(c)}})});if(a&&ut.isRunnable(a)){if((n==null?void 0:n.recursionLimit)===0)throw new Error("Recursion limit reached.");const s=await a.stream(i,lr(n,{callbacks:r==null?void 0:r.getChild(),recursionLimit:((o=n==null?void 0:n.recursionLimit)!=null?o:Ay)-1}));for await(const u of s)yield u}else yield a}transform(t,r){return this._transformStreamWithConfig(t,this._transform.bind(this),r)}async stream(t,r){async function*n(){yield t}const i=new Jo(this.transform(n(),r));return await i.setup,Jn.fromAsyncGenerator(i)}}class lI extends ut{static lc_name(){return"RunnableWithFallbacks"}constructor(t){super(t),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"runnable",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fallbacks",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.runnable=t.runnable,this.fallbacks=t.fallbacks}*runnables(){yield this.runnable;for(const t of this.fallbacks)yield t}async invoke(t,r){const n=await Ft.configure(r==null?void 0:r.callbacks,void 0,r==null?void 0:r.tags,void 0,r==null?void 0:r.metadata),{runId:i,...a}=r!=null?r:{},o=await(n==null?void 0:n.handleChainStart(this.toJSON(),Nt(t,"input"),i,void 0,void 0,void 0,a==null?void 0:a.runName));let s;for(const u of this.runnables())try{const c=await u.invoke(t,lr(a,{callbacks:o==null?void 0:o.getChild()}));return await(o==null?void 0:o.handleChainEnd(Nt(c,"output"))),c}catch(c){s===void 0&&(s=c)}throw s===void 0?new Error("No error stored at end of fallback."):(await(o==null?void 0:o.handleChainError(s)),s)}async batch(t,r,n){if(n!=null&&n.returnExceptions)throw new Error("Not implemented.");const i=this._getOptionsList(r!=null?r:{},t.length),a=await Promise.all(i.map(u=>Ft.configure(u==null?void 0:u.callbacks,void 0,u==null?void 0:u.tags,void 0,u==null?void 0:u.metadata))),o=await Promise.all(a.map(async(u,c)=>{const d=await(u==null?void 0:u.handleChainStart(this.toJSON(),Nt(t[c],"input"),i[c].runId,void 0,void 0,void 0,i[c].runName));return delete i[c].runId,d}));let s;for(const u of this.runnables())try{const c=await u.batch(t,o.map((d,f)=>lr(i[f],{callbacks:d==null?void 0:d.getChild()})),n);return await Promise.all(o.map((d,f)=>d==null?void 0:d.handleChainEnd(Nt(c[f],"output")))),c}catch(c){s===void 0&&(s=c)}throw s?(await Promise.all(o.map(u=>u==null?void 0:u.handleChainError(s))),s):new Error("No error stored at end of fallbacks.")}}function Oa(e){if(typeof e=="function")return new s_({func:e});if(ut.isRunnable(e))return e;if(!Array.isArray(e)&&typeof e=="object"){const t={};for(const[r,n]of Object.entries(e))t[r]=Oa(n);return new Yo({steps:t})}else throw new Error(`Expected a Runnable, function or object.
Instead got an unsupported type.`)}class XS extends ut{static lc_name(){return"RunnableAssign"}constructor(t){t instanceof Yo&&(t={mapper:t}),super(t),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"mapper",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.mapper=t.mapper}async invoke(t,r){const n=await this.mapper.invoke(t,r);return{...t,...n}}async*_transform(t,r,n){const i=this.mapper.getStepsKeys(),[a,o]=US(t),s=this.mapper.transform(o,lr(n,{callbacks:r==null?void 0:r.getChild()})),u=s.next();for await(const c of a){if(typeof c!="object"||Array.isArray(c))throw new Error(`RunnableAssign can only be used with objects as input, got ${typeof c}`);const d=Object.fromEntries(Object.entries(c).filter(([f])=>!i.includes(f)));Object.keys(d).length>0&&(yield d)}yield(await u).value;for await(const c of s)yield c}transform(t,r){return this._transformStreamWithConfig(t,this._transform.bind(this),r)}async stream(t,r){async function*n(){yield t}const i=new Jo(this.transform(n(),r));return await i.setup,Jn.fromAsyncGenerator(i)}}class cI extends ut{static lc_name(){return"RunnablePick"}constructor(t){(typeof t=="string"||Array.isArray(t))&&(t={keys:t}),super(t),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"keys",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.keys=t.keys}async _pick(t){if(typeof this.keys=="string")return t[this.keys];{const r=this.keys.map(n=>[n,t[n]]).filter(n=>n[1]!==void 0);return r.length===0?void 0:Object.fromEntries(r)}}async invoke(t,r){return this._callWithConfig(this._pick.bind(this),t,r)}async*_transform(t){for await(const r of t){const n=await this._pick(r);n!==void 0&&(yield n)}}transform(t,r){return this._transformStreamWithConfig(t,this._transform.bind(this),r)}async stream(t,r){async function*n(){yield t}const i=new Jo(this.transform(n(),r));return await i.setup,Jn.fromAsyncGenerator(i)}}class dI extends ut{constructor(){super(...arguments),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","documents","transformers"]})}invoke(t,r){return this.transformDocuments(t)}}var Lf={};Lf.byteLength=pI;Lf.toByteArray=vI;Lf.fromByteArray=gI;var wn=[],zr=[],fI=typeof Uint8Array<"u"?Uint8Array:Array,Iy="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var to=0,hI=Iy.length;to<hI;++to)wn[to]=Iy[to],zr[Iy.charCodeAt(to)]=to;zr["-".charCodeAt(0)]=62;zr["_".charCodeAt(0)]=63;function ZS(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function pI(e){var t=ZS(e),r=t[0],n=t[1];return(r+n)*3/4-n}function yI(e,t,r){return(t+r)*3/4-r}function vI(e){var t,r=ZS(e),n=r[0],i=r[1],a=new fI(yI(e,n,i)),o=0,s=i>0?n-4:n,u;for(u=0;u<s;u+=4)t=zr[e.charCodeAt(u)]<<18|zr[e.charCodeAt(u+1)]<<12|zr[e.charCodeAt(u+2)]<<6|zr[e.charCodeAt(u+3)],a[o++]=t>>16&255,a[o++]=t>>8&255,a[o++]=t&255;return i===2&&(t=zr[e.charCodeAt(u)]<<2|zr[e.charCodeAt(u+1)]>>4,a[o++]=t&255),i===1&&(t=zr[e.charCodeAt(u)]<<10|zr[e.charCodeAt(u+1)]<<4|zr[e.charCodeAt(u+2)]>>2,a[o++]=t>>8&255,a[o++]=t&255),a}function mI(e){return wn[e>>18&63]+wn[e>>12&63]+wn[e>>6&63]+wn[e&63]}function _I(e,t,r){for(var n,i=[],a=t;a<r;a+=3)n=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(e[a+2]&255),i.push(mI(n));return i.join("")}function gI(e){for(var t,r=e.length,n=r%3,i=[],a=16383,o=0,s=r-n;o<s;o+=a)i.push(_I(e,o,o+a>s?s:o+a));return n===1?(t=e[r-1],i.push(wn[t>>2]+wn[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],i.push(wn[t>>10]+wn[t>>4&63]+wn[t<<2&63]+"=")),i.join("")}var bI=Object.defineProperty,wI=(e,t,r)=>t in e?bI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,OI=(e,t,r)=>(wI(e,typeof t!="symbol"?t+"":t,r),r);function SI(e,t){let r=Array.from({length:e.length},(n,i)=>({start:i,end:i+1}));for(;r.length>1;){let n=null;for(let i=0;i<r.length-1;i++){const a=e.slice(r[i].start,r[i+1].end),o=t.get(a.join(","));o!=null&&(n==null||o<n[0])&&(n=[o,i])}if(n!=null){const i=n[1];r[i]={start:r[i].start,end:r[i+1].end},r.splice(i+1,1)}else break}return r}function PI(e,t){return e.length===1?[t.get(e.join(","))]:SI(e,t).map(r=>t.get(e.slice(r.start,r.end).join(","))).filter(r=>r!=null)}function jI(e){return e.replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")}var em=class{constructor(e,t){ei(this,"specialTokens");ei(this,"inverseSpecialTokens");ei(this,"patStr");ei(this,"textEncoder",new TextEncoder);ei(this,"textDecoder",new TextDecoder("utf-8"));ei(this,"rankMap",new Map);ei(this,"textMap",new Map);this.patStr=e.pat_str;const r=e.bpe_ranks.split(`
`).filter(Boolean).reduce((n,i)=>{const[a,o,...s]=i.split(" "),u=Number.parseInt(o,10);return s.forEach((c,d)=>n[c]=u+d),n},{});for(const[n,i]of Object.entries(r)){const a=Lf.toByteArray(n);this.rankMap.set(a.join(","),i),this.textMap.set(i,a)}this.specialTokens={...e.special_tokens,...t},this.inverseSpecialTokens=Object.entries(this.specialTokens).reduce((n,[i,a])=>(n[a]=this.textEncoder.encode(i),n),{})}encode(e,t=[],r="all"){var c;const n=new RegExp(this.patStr,"ug"),i=em.specialTokenRegex(Object.keys(this.specialTokens)),a=[],o=new Set(t==="all"?Object.keys(this.specialTokens):t),s=new Set(r==="all"?Object.keys(this.specialTokens).filter(d=>!o.has(d)):r);if(s.size>0){const d=em.specialTokenRegex([...s]),f=e.match(d);if(f!=null)throw new Error(`The text contains a special token that is not allowed: ${f[0]}`)}let u=0;for(;;){let d=null,f=u;for(;i.lastIndex=f,d=i.exec(e),!(d==null||o.has(d[0]));)f=d.index+1;const h=(c=d==null?void 0:d.index)!=null?c:e.length;for(const y of e.substring(u,h).matchAll(n)){const v=this.textEncoder.encode(y[0]),m=this.rankMap.get(v.join(","));if(m!=null){a.push(m);continue}a.push(...PI(v,this.rankMap))}if(d==null)break;let p=this.specialTokens[d[0]];a.push(p),u=d.index+d[0].length}return a}decode(e){var a;const t=[];let r=0;for(let o=0;o<e.length;++o){const s=e[o],u=(a=this.textMap.get(s))!=null?a:this.inverseSpecialTokens[s];u!=null&&(t.push(u),r+=u.length)}const n=new Uint8Array(r);let i=0;for(const o of t)n.set(o,i),i+=o.length;return this.textDecoder.decode(n)}},JS=em;OI(JS,"specialTokenRegex",e=>new RegExp(e.map(t=>jI(t)).join("|"),"g"));function CI(e){switch(e){case"gpt2":return"gpt2";case"code-cushman-001":case"code-cushman-002":case"code-davinci-001":case"code-davinci-002":case"cushman-codex":case"davinci-codex":case"davinci-002":case"text-davinci-002":case"text-davinci-003":return"p50k_base";case"code-davinci-edit-001":case"text-davinci-edit-001":return"p50k_edit";case"ada":case"babbage":case"babbage-002":case"code-search-ada-code-001":case"code-search-babbage-code-001":case"curie":case"davinci":case"text-ada-001":case"text-babbage-001":case"text-curie-001":case"text-davinci-001":case"text-search-ada-doc-001":case"text-search-babbage-doc-001":case"text-search-curie-doc-001":case"text-search-davinci-doc-001":case"text-similarity-ada-001":case"text-similarity-babbage-001":case"text-similarity-curie-001":case"text-similarity-davinci-001":return"r50k_base";case"gpt-3.5-turbo-instruct-0914":case"gpt-3.5-turbo-instruct":case"gpt-3.5-turbo-16k-0613":case"gpt-3.5-turbo-16k":case"gpt-3.5-turbo-0613":case"gpt-3.5-turbo-0301":case"gpt-3.5-turbo":case"gpt-4-32k-0613":case"gpt-4-32k-0314":case"gpt-4-32k":case"gpt-4-0613":case"gpt-4-0314":case"gpt-4":case"gpt-3.5-turbo-1106":case"gpt-35-turbo":case"gpt-4-1106-preview":case"gpt-4-vision-preview":case"gpt-3.5-turbo-0125":case"gpt-4-turbo":case"gpt-4-turbo-2024-04-09":case"gpt-4-turbo-preview":case"gpt-4-0125-preview":case"text-embedding-ada-002":return"cl100k_base";default:throw new Error("Unknown model")}}const Xc={},EI=new Ju({});async function MI(e){return e in Xc||(Xc[e]=EI.fetch(`https://tiktoken.pages.dev/js/${e}.json`).then(t=>t.json()).then(t=>new JS(t)).catch(t=>{throw delete Xc[e],t})),await Xc[e]}async function TI(e){return MI(CI(e))}class RI extends dI{constructor(t){var r,n,i,a;if(super(t),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","document_transformers","text_splitters"]}),Object.defineProperty(this,"chunkSize",{enumerable:!0,configurable:!0,writable:!0,value:1e3}),Object.defineProperty(this,"chunkOverlap",{enumerable:!0,configurable:!0,writable:!0,value:200}),Object.defineProperty(this,"keepSeparator",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lengthFunction",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.chunkSize=(r=t==null?void 0:t.chunkSize)!=null?r:this.chunkSize,this.chunkOverlap=(n=t==null?void 0:t.chunkOverlap)!=null?n:this.chunkOverlap,this.keepSeparator=(i=t==null?void 0:t.keepSeparator)!=null?i:this.keepSeparator,this.lengthFunction=(a=t==null?void 0:t.lengthFunction)!=null?a:o=>o.length,this.chunkOverlap>=this.chunkSize)throw new Error("Cannot have chunkOverlap >= chunkSize")}async transformDocuments(t,r={}){return this.splitDocuments(t,r)}splitOnSeparator(t,r){let n;if(r)if(this.keepSeparator){const i=r.replace(/[/\-\\^$*+?.()|[\]{}]/g,"\\$&");n=t.split(new RegExp(`(?=${i})`))}else n=t.split(r);else n=t.split("");return n.filter(i=>i!=="")}async createDocuments(t,r=[],n={}){const i=r.length>0?r:[...Array(t.length)].map(()=>({})),{chunkHeader:a="",chunkOverlapHeader:o="(cont'd) ",appendChunkOverlapHeader:s=!1}=n,u=new Array;for(let c=0;c<t.length;c+=1){const d=t[c];let f=1,h=null,p=-1;for(const y of await this.splitText(d)){let v=a;const m=d.indexOf(y,p+1);if(h===null){const T=this.numberOfNewLines(d,0,m);f+=T}else{const T=p+await this.lengthFunction(h);if(T<m){const x=this.numberOfNewLines(d,T,m);f+=x}else if(T>m){const x=this.numberOfNewLines(d,m,T);f-=x}s&&(v+=o)}const b=this.numberOfNewLines(y),O=i[c].loc&&typeof i[c].loc=="object"?{...i[c].loc}:{};O.lines={from:f,to:f+b};const S={...i[c],loc:O};v+=y,u.push(new Qs({pageContent:v,metadata:S})),f+=b,h=y,p=m}}return u}numberOfNewLines(t,r,n){return(t.slice(r,n).match(/\n/g)||[]).length}async splitDocuments(t,r={}){const n=t.filter(o=>o.pageContent!==void 0),i=n.map(o=>o.pageContent),a=n.map(o=>o.metadata);return this.createDocuments(i,a,r)}joinDocs(t,r){const n=t.join(r).trim();return n===""?null:n}async mergeSplits(t,r){const n=[],i=[];let a=0;for(const s of t){const u=await this.lengthFunction(s);if(a+u+i.length*r.length>this.chunkSize&&(a>this.chunkSize&&console.warn(`Created a chunk of size ${a}, +
which is longer than the specified ${this.chunkSize}`),i.length>0)){const c=this.joinDocs(i,r);for(c!==null&&n.push(c);a>this.chunkOverlap||a+u+i.length*r.length>this.chunkSize&&a>0;)a-=await this.lengthFunction(i[0]),i.shift()}i.push(s),a+=u}const o=this.joinDocs(i,r);return o!==null&&n.push(o),n}}class zu extends RI{static lc_name(){return"RecursiveCharacterTextSplitter"}constructor(t){var r,n;super(t),Object.defineProperty(this,"separators",{enumerable:!0,configurable:!0,writable:!0,value:[`

`,`
`," ",""]}),this.separators=(r=t==null?void 0:t.separators)!=null?r:this.separators,this.keepSeparator=(n=t==null?void 0:t.keepSeparator)!=null?n:!0}async _splitText(t,r){const n=[];let i=r[r.length-1],a;for(let c=0;c<r.length;c+=1){const d=r[c];if(d===""){i=d;break}if(t.includes(d)){i=d,a=r.slice(c+1);break}}const o=this.splitOnSeparator(t,i);let s=[];const u=this.keepSeparator?"":i;for(const c of o)if(await this.lengthFunction(c)<this.chunkSize)s.push(c);else{if(s.length){const d=await this.mergeSplits(s,u);n.push(...d),s=[]}if(!a)n.push(c);else{const d=await this._splitText(c,a);n.push(...d)}}if(s.length){const c=await this.mergeSplits(s,u);n.push(...c)}return n}async splitText(t){return this._splitText(t,this.separators)}static fromLanguage(t,r){return new zu({...r,separators:zu.getSeparatorsForLanguage(t)})}static getSeparatorsForLanguage(t){if(t==="cpp")return[`
class `,`
void `,`
int `,`
float `,`
double `,`
if `,`
for `,`
while `,`
switch `,`
case `,`

`,`
`," ",""];if(t==="go")return[`
func `,`
var `,`
const `,`
type `,`
if `,`
for `,`
switch `,`
case `,`

`,`
`," ",""];if(t==="java")return[`
class `,`
public `,`
protected `,`
private `,`
static `,`
if `,`
for `,`
while `,`
switch `,`
case `,`

`,`
`," ",""];if(t==="js")return[`
function `,`
const `,`
let `,`
var `,`
class `,`
if `,`
for `,`
while `,`
switch `,`
case `,`
default `,`

`,`
`," ",""];if(t==="php")return[`
function `,`
class `,`
if `,`
foreach `,`
while `,`
do `,`
switch `,`
case `,`

`,`
`," ",""];if(t==="proto")return[`
message `,`
service `,`
enum `,`
option `,`
import `,`
syntax `,`

`,`
`," ",""];if(t==="python")return[`
class `,`
def `,`
	def `,`

`,`
`," ",""];if(t==="rst")return[`
===
`,`
---
`,`
***
`,`
.. `,`

`,`
`," ",""];if(t==="ruby")return[`
def `,`
class `,`
if `,`
unless `,`
while `,`
for `,`
do `,`
begin `,`
rescue `,`

`,`
`," ",""];if(t==="rust")return[`
fn `,`
const `,`
let `,`
if `,`
while `,`
for `,`
loop `,`
match `,`
const `,`

`,`
`," ",""];if(t==="scala")return[`
class `,`
object `,`
def `,`
val `,`
var `,`
if `,`
for `,`
while `,`
match `,`
case `,`

`,`
`," ",""];if(t==="swift")return[`
func `,`
class `,`
struct `,`
enum `,`
if `,`
for `,`
while `,`
do `,`
switch `,`
case `,`

`,`
`," ",""];if(t==="markdown")return[`
## `,`
### `,`
#### `,`
##### `,`
###### `,"```\n\n",`

***

`,`

---

`,`

___

`,`

`,`
`," ",""];if(t==="latex")return[`
\\chapter{`,`
\\section{`,`
\\subsection{`,`
\\subsubsection{`,`
\\begin{enumerate}`,`
\\begin{itemize}`,`
\\begin{description}`,`
\\begin{list}`,`
\\begin{quote}`,`
\\begin{quotation}`,`
\\begin{verse}`,`
\\begin{verbatim}`,`
\\begin{align}`,"$$","$",`

`,`
`," ",""];if(t==="html")return["<body>","<div>","<p>","<br>","<li>","<h1>","<h2>","<h3>","<h4>","<h5>","<h6>","<span>","<table>","<tr>","<td>","<th>","<ul>","<ol>","<header>","<footer>","<nav>","<head>","<style>","<script>","<meta>","<title>"," ",""];if(t==="sol")return[`
pragma `,`
using `,`
contract `,`
interface `,`
library `,`
constructor `,`
type `,`
function `,`
event `,`
modifier `,`
error `,`
struct `,`
enum `,`
if `,`
for `,`
while `,`
do while `,`
assembly `,`

`,`
`," ",""];throw new Error(`Language ${t} is not supported.`)}}class $I{async loadAndSplit(t=new zu){const r=await this.load();return t.splitDocuments(r)}}class eu extends $I{constructor(t,r){super(),Object.defineProperty(this,"webPath",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"caller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"selector",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"textDecoder",{enumerable:!0,configurable:!0,writable:!0,value:void 0});const{timeout:n,selector:i,textDecoder:a,...o}=r!=null?r:{};this.timeout=n!=null?n:1e4,this.caller=new Ju(o),this.selector=i!=null?i:"body",this.textDecoder=a}static async scrapeAll(t,r,n,i,a){return Promise.all(t.map(o=>eu._scrape(o,r,n,i,a)))}static async _scrape(t,r,n,i,a){var c;const{load:o}=await eu.imports(),s=await r.call(fetch,t,{signal:n?AbortSignal.timeout(n):void 0}),u=(c=i==null?void 0:i.decode(await s.arrayBuffer()))!=null?c:await s.text();return o(u,a)}async scrape(){return eu._scrape(this.webPath,this.caller,this.timeout,this.textDecoder)}async load(){const r=(await this.scrape())(this.selector).text(),n={source:this.webPath};return[new Qs({pageContent:r,metadata:n})]}static async imports(){try{const{load:t}=await gr(()=>import("./index.d16b1181.js"),[]);return{load:t}}catch(t){throw console.error(t),new Error("Please install cheerio as a dependency with, e.g. `yarn add cheerio`")}}}const So="0.20.8";let Cb=!1,tu,YS,tm,QS,eP,tP;function xI(e,t={auto:!1}){if(Cb)throw new Error(`you must \`import '@anthropic-ai/sdk/shims/${e.kind}'\` before importing anything else from @anthropic-ai/sdk`);if(tu)throw new Error(`can't \`import '@anthropic-ai/sdk/shims/${e.kind}'\` after \`import '@anthropic-ai/sdk/shims/${tu}'\``);Cb=t.auto,tu=e.kind,YS=e.fetch,e.Request,e.Response,e.Headers,e.FormData,e.Blob,tm=e.File,QS=e.ReadableStream,e.getMultipartRequestOptions,eP=e.getDefaultAgent,tP=e.fileFromPath,e.isFsReadStream}class AI{constructor(t){this.body=t}get[Symbol.toStringTag](){return"MultipartBody"}}function II({manuallyImported:e}={}){const t=e?"You may need to use polyfills":"Add one of these imports before your first `import \u2026 from '@anthropic-ai/sdk'`:\n- `import '@anthropic-ai/sdk/shims/node'` (if you're running on Node)\n- `import '@anthropic-ai/sdk/shims/web'` (otherwise)\n";let r,n,i,a;try{r=fetch,n=Request,i=Response,a=Headers}catch(o){throw new Error(`this environment is missing the following Web Fetch API type: ${o.message}. ${t}`)}return{kind:"web",fetch:r,Request:n,Response:i,Headers:a,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${t}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${t}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${t}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${t}`)}},getMultipartRequestOptions:async(o,s)=>({...s,body:new AI(o)}),getDefaultAgent:o=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/anthropics/anthropic-sdk-typescript#file-uploads")},isFsReadStream:o=>!1}}tu||xI(II(),{auto:!0});class bt extends Error{}class Vt extends bt{constructor(t,r,n,i){super(`${Vt.makeMessage(t,r,n)}`),this.status=t,this.headers=i,this.error=r}static makeMessage(t,r,n){const i=r!=null&&r.message?typeof r.message=="string"?r.message:JSON.stringify(r.message):r?JSON.stringify(r):n;return t&&i?`${t} ${i}`:t?`${t} status code (no body)`:i||"(no status code or body)"}static generate(t,r,n,i){if(!t)return new Uf({cause:rm(r)});const a=r;return t===400?new nP(t,a,n,i):t===401?new iP(t,a,n,i):t===403?new aP(t,a,n,i):t===404?new oP(t,a,n,i):t===409?new sP(t,a,n,i):t===422?new uP(t,a,n,i):t===429?new lP(t,a,n,i):t>=500?new cP(t,a,n,i):new Vt(t,a,n,i)}}class Sa extends Vt{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0),this.status=void 0}}class Uf extends Vt{constructor({message:t,cause:r}){super(void 0,void 0,t||"Connection error.",void 0),this.status=void 0,r&&(this.cause=r)}}class rP extends Uf{constructor({message:t}={}){super({message:t!=null?t:"Request timed out."})}}class nP extends Vt{constructor(){super(...arguments),this.status=400}}class iP extends Vt{constructor(){super(...arguments),this.status=401}}class aP extends Vt{constructor(){super(...arguments),this.status=403}}class oP extends Vt{constructor(){super(...arguments),this.status=404}}class sP extends Vt{constructor(){super(...arguments),this.status=409}}class uP extends Vt{constructor(){super(...arguments),this.status=422}}class lP extends Vt{constructor(){super(...arguments),this.status=429}}class cP extends Vt{}class Si{constructor(t,r){this.iterator=t,this.controller=r}static fromSSEResponse(t,r){let n=!1;async function*i(){if(n)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let a=!1;try{for await(const o of DI(t,r)){if(o.event==="completion")try{yield JSON.parse(o.data)}catch(s){throw console.error("Could not parse message into JSON:",o.data),console.error("From chunk:",o.raw),s}if(o.event==="message_start"||o.event==="message_delta"||o.event==="message_stop"||o.event==="content_block_start"||o.event==="content_block_delta"||o.event==="content_block_stop")try{yield JSON.parse(o.data)}catch(s){throw console.error("Could not parse message into JSON:",o.data),console.error("From chunk:",o.raw),s}if(o.event!=="ping"&&o.event==="error"){const s=o.data,u=yP(s),c=u?void 0:s;throw Vt.generate(void 0,u,c,pP(t.headers))}}a=!0}catch(o){if(o instanceof Error&&o.name==="AbortError")return;throw o}finally{a||r.abort()}}return new Si(i,r)}static fromReadableStream(t,r){let n=!1;async function*i(){const o=new La,s=dP(t);for await(const u of s)for(const c of o.decode(u))yield c;for(const u of o.flush())yield u}async function*a(){if(n)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let o=!1;try{for await(const s of i())o||s&&(yield JSON.parse(s));o=!0}catch(s){if(s instanceof Error&&s.name==="AbortError")return;throw s}finally{o||r.abort()}}return new Si(a,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],r=[],n=this.iterator(),i=a=>({next:()=>{if(a.length===0){const o=n.next();t.push(o),r.push(o)}return a.shift()}});return[new Si(()=>i(t),this.controller),new Si(()=>i(r),this.controller)]}toReadableStream(){const t=this;let r;const n=new TextEncoder;return new QS({async start(){r=t[Symbol.asyncIterator]()},async pull(i){try{const{value:a,done:o}=await r.next();if(o)return i.close();const s=n.encode(JSON.stringify(a)+`
`);i.enqueue(s)}catch(a){i.error(a)}},async cancel(){var i;await((i=r.return)==null?void 0:i.call(r))}})}}async function*DI(e,t){if(!e.body)throw t.abort(),new bt("Attempted to iterate over a response with no body");const r=new BI,n=new La,i=dP(e.body);for await(const a of zI(i))for(const o of n.decode(a)){const s=r.decode(o);s&&(yield s)}for(const a of n.flush()){const o=r.decode(a);o&&(yield o)}}async function*zI(e){let t=new Uint8Array;for await(const r of e){if(r==null)continue;const n=r instanceof ArrayBuffer?new Uint8Array(r):typeof r=="string"?new TextEncoder().encode(r):r;let i=new Uint8Array(t.length+n.length);i.set(t),i.set(n,t.length),t=i;let a;for(;(a=NI(t))!==-1;)yield t.slice(0,a),t=t.slice(a)}t.length>0&&(yield t)}function NI(e){for(let n=0;n<e.length-2;n++){if(e[n]===10&&e[n+1]===10||e[n]===13&&e[n+1]===13)return n+2;if(e[n]===13&&e[n+1]===10&&n+3<e.length&&e[n+2]===13&&e[n+3]===10)return n+4}return-1}class BI{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(t),t.startsWith(":"))return null;let[r,n,i]=FI(t,":");return i.startsWith(" ")&&(i=i.substring(1)),r==="event"?this.event=i:r==="data"&&this.data.push(i),null}}class La{constructor(){this.buffer=[],this.trailingCR=!1}decode(t){let r=this.decodeText(t);if(this.trailingCR&&(r="\r"+r,this.trailingCR=!1),r.endsWith("\r")&&(this.trailingCR=!0,r=r.slice(0,-1)),!r)return[];const n=La.NEWLINE_CHARS.has(r[r.length-1]||"");let i=r.split(La.NEWLINE_REGEXP);return n&&i.pop(),i.length===1&&!n?(this.buffer.push(i[0]),[]):(this.buffer.length>0&&(i=[this.buffer.join("")+i[0],...i.slice(1)],this.buffer=[]),n||(this.buffer=[i.pop()||""]),i)}decodeText(t){var r;if(t==null)return"";if(typeof t=="string")return t;if(typeof Buffer<"u"){if(t instanceof Buffer)return t.toString();if(t instanceof Uint8Array)return Buffer.from(t).toString();throw new bt(`Unexpected: received non-Uint8Array (${t.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(t instanceof Uint8Array||t instanceof ArrayBuffer)return(r=this.textDecoder)!=null||(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(t);throw new bt(`Unexpected: received non-Uint8Array/ArrayBuffer (${t.constructor.name}) in a web platform. Please report this error.`)}throw new bt("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];const t=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,t}}La.NEWLINE_CHARS=new Set([`
`,"\r"]);La.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function FI(e,t){const r=e.indexOf(t);return r!==-1?[e.substring(0,r),t,e.substring(r+t.length)]:[e,"",""]}function dP(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const r=await t.read();return r!=null&&r.done&&t.releaseLock(),r}catch(r){throw t.releaseLock(),r}},async return(){const r=t.cancel();return t.releaseLock(),await r,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}const LI=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function",UI=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&fP(e),fP=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function";async function VI(e,t,r){var i,a,o;if(e=await e,r!=null||(r=UI(e)?{lastModified:e.lastModified,type:e.type}:{}),LI(e)){const s=await e.blob();return t||(t=(i=new URL(e.url).pathname.split(/[\\/]/).pop())!=null?i:"unknown_file"),new tm([s],t,r)}const n=await KI(e);if(t||(t=(a=GI(e))!=null?a:"unknown_file"),!r.type){const s=(o=n[0])==null?void 0:o.type;typeof s=="string"&&(r={...r,type:s})}return new tm(n,t,r)}async function KI(e){var r;let t=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(fP(e))t.push(await e.arrayBuffer());else if(qI(e))for await(const n of e)t.push(n);else throw new Error(`Unexpected data type: ${typeof e}; constructor: ${(r=e==null?void 0:e.constructor)==null?void 0:r.name}; props: ${HI(e)}`);return t}function HI(e){return`[${Object.getOwnPropertyNames(e).map(r=>`"${r}"`).join(", ")}]`}function GI(e){var t;return Dy(e.name)||Dy(e.filename)||((t=Dy(e.path))==null?void 0:t.split(/[\\/]/).pop())}const Dy=e=>{if(typeof e=="string")return e;if(typeof Buffer<"u"&&e instanceof Buffer)return String(e)},qI=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function",Eb=e=>e&&typeof e=="object"&&e.body&&e[Symbol.toStringTag]==="MultipartBody";globalThis&&globalThis.__classPrivateFieldSet;globalThis&&globalThis.__classPrivateFieldGet;async function hP(e){const{response:t}=e;if(e.options.stream)return Io("response",t.status,t.url,t.headers,t.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(t,e.controller):Si.fromSSEResponse(t,e.controller);if(t.status===204)return null;if(e.options.__binaryResponse)return t;const r=t.headers.get("content-type");if((r==null?void 0:r.includes("application/json"))||(r==null?void 0:r.includes("application/vnd.api+json"))){const a=await t.json();return Io("response",t.status,t.url,t.headers,a),a}const i=await t.text();return Io("response",t.status,t.url,t.headers,i),i}class Vf extends Promise{constructor(t,r=hP){super(n=>{n(null)}),this.responsePromise=t,this.parseResponse=r}_thenUnwrap(t){return new Vf(this.responsePromise,async r=>t(await this.parseResponse(r)))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,r]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:r}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(t,r){return this.parse().then(t,r)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}class kI{constructor({baseURL:t,maxRetries:r=2,timeout:n=6e5,httpAgent:i,fetch:a}){this.baseURL=t,this.maxRetries=zy("maxRetries",r),this.timeout=zy("timeout",n),this.httpAgent=i,this.fetch=a!=null?a:YS}authHeaders(t){return{}}defaultHeaders(t){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...JI(),...this.authHeaders(t)}}validateHeaders(t,r){}defaultIdempotencyKey(){return`stainless-node-retry-${rD()}`}get(t,r){return this.methodRequest("get",t,r)}post(t,r){return this.methodRequest("post",t,r)}patch(t,r){return this.methodRequest("patch",t,r)}put(t,r){return this.methodRequest("put",t,r)}delete(t,r){return this.methodRequest("delete",t,r)}methodRequest(t,r,n){return this.request(Promise.resolve(n).then(i=>({method:t,path:r,...i})))}getAPIList(t,r,n){return this.requestAPIList(r,{method:"get",path:t,...n})}calculateContentLength(t){if(typeof t=="string"){if(typeof Buffer<"u")return Buffer.byteLength(t,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(t).length.toString()}return null}buildRequest(t){var y,v,m,b,O,S;const{method:r,path:n,query:i,headers:a={}}=t,o=Eb(t.body)?t.body.body:t.body?JSON.stringify(t.body,null,2):null,s=this.calculateContentLength(o),u=this.buildURL(n,i);"timeout"in t&&zy("timeout",t.timeout);const c=(y=t.timeout)!=null?y:this.timeout,d=(m=(v=t.httpAgent)!=null?v:this.httpAgent)!=null?m:eP(u),f=c+1e3;typeof((b=d==null?void 0:d.options)==null?void 0:b.timeout)=="number"&&f>((O=d.options.timeout)!=null?O:0)&&(d.options.timeout=f),this.idempotencyHeader&&r!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=t.idempotencyKey);const h=this.buildHeaders({options:t,headers:a,contentLength:s});return{req:{method:r,...o&&{body:o},headers:h,...d&&{agent:d},signal:(S=t.signal)!=null?S:null},url:u,timeout:c}}buildHeaders({options:t,headers:r,contentLength:n}){const i={};n&&(i["content-length"]=n);const a=this.defaultHeaders(t);return Rb(i,a),Rb(i,r),Eb(t.body)&&tu!=="node"&&delete i["content-type"],this.validateHeaders(i,r),i}async prepareOptions(t){}async prepareRequest(t,{url:r,options:n}){}parseHeaders(t){return t?Symbol.iterator in t?Object.fromEntries(Array.from(t).map(r=>[...r])):{...t}:{}}makeStatusError(t,r,n,i){return Vt.generate(t,r,n,i)}request(t,r=null){return new Vf(this.makeRequest(t,r))}async makeRequest(t,r){var d,f,h;const n=await t;r==null&&(r=(d=n.maxRetries)!=null?d:this.maxRetries),await this.prepareOptions(n);const{req:i,url:a,timeout:o}=this.buildRequest(n);if(await this.prepareRequest(i,{url:a,options:n}),Io("request",a,n,i.headers),(f=n.signal)!=null&&f.aborted)throw new Sa;const s=new AbortController,u=await this.fetchWithTimeout(a,i,o,s).catch(rm);if(u instanceof Error){if((h=n.signal)!=null&&h.aborted)throw new Sa;if(r)return this.retryRequest(n,r);throw u.name==="AbortError"?new rP:new Uf({cause:u})}const c=pP(u.headers);if(!u.ok){if(r&&this.shouldRetry(u)){const O=`retrying, ${r} attempts remaining`;return Io(`response (error; ${O})`,u.status,a,c),this.retryRequest(n,r,c)}const p=await u.text().catch(O=>rm(O).message),y=yP(p),v=y?void 0:p;throw Io(`response (error; ${r?"(error; no more retries left)":"(error; not retryable)"})`,u.status,a,c,v),this.makeStatusError(u.status,y,v,c)}return{response:u,options:n,controller:s}}requestAPIList(t,r){const n=this.makeRequest(r,null);return new WI(this,n,t)}buildURL(t,r){const n=QI(t)?new URL(t):new URL(this.baseURL+(this.baseURL.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),i=this.defaultQuery();return nm(i)||(r={...i,...r}),typeof r=="object"&&r&&!Array.isArray(r)&&(n.search=this.stringifyQuery(r)),n.toString()}stringifyQuery(t){return Object.entries(t).filter(([r,n])=>typeof n<"u").map(([r,n])=>{if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")return`${encodeURIComponent(r)}=${encodeURIComponent(n)}`;if(n===null)return`${encodeURIComponent(r)}=`;throw new bt(`Cannot stringify type ${typeof n}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(t,r,n,i){const{signal:a,...o}=r||{};a&&a.addEventListener("abort",()=>i.abort());const s=setTimeout(()=>i.abort(),n);return this.getRequestClient().fetch.call(void 0,t,{signal:i.signal,...o}).finally(()=>{clearTimeout(s)})}getRequestClient(){return{fetch:this.fetch}}shouldRetry(t){const r=t.headers.get("x-should-retry");return r==="true"?!0:r==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,r,n){var s;let i;const a=n==null?void 0:n["retry-after-ms"];if(a){const u=parseFloat(a);Number.isNaN(u)||(i=u)}const o=n==null?void 0:n["retry-after"];if(o&&!i){const u=parseFloat(o);Number.isNaN(u)?i=Date.parse(o)-Date.now():i=u*1e3}if(!(i&&0<=i&&i<60*1e3)){const u=(s=t.maxRetries)!=null?s:this.maxRetries;i=this.calculateDefaultRetryTimeoutMillis(r,u)}return await eD(i),this.makeRequest(t,r-1)}calculateDefaultRetryTimeoutMillis(t,r){const a=r-t,o=Math.min(.5*Math.pow(2,a),8),s=1-Math.random()*.25;return o*s*1e3}getUserAgent(){return`${this.constructor.name}/JS ${So}`}}class WI extends Vf{constructor(t,r,n){super(r,async i=>new n(t,i.response,await hP(i),i.options))}async*[Symbol.asyncIterator](){const t=await this;for await(const r of t)yield r}}const pP=e=>new Proxy(Object.fromEntries(e.entries()),{get(t,r){const n=r.toString();return t[n.toLowerCase()]||t[n]}}),XI=()=>{var t,r;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":So,"X-Stainless-OS":Tb(Deno.build.os),"X-Stainless-Arch":Mb(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(r=(t=Deno.version)==null?void 0:t.deno)!=null?r:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":So,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":So,"X-Stainless-OS":Tb(process.platform),"X-Stainless-Arch":Mb(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const e=ZI();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":So,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":So,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function ZI(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:r}of e){const n=r.exec(navigator.userAgent);if(n){const i=n[1]||0,a=n[2]||0,o=n[3]||0;return{browser:t,version:`${i}.${a}.${o}`}}}return null}const Mb=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",Tb=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let Zc;const JI=()=>Zc!=null?Zc:Zc=XI(),yP=e=>{try{return JSON.parse(e)}catch{return}},YI=new RegExp("^(?:[a-z]+:)?//","i"),QI=e=>YI.test(e),eD=e=>new Promise(t=>setTimeout(t,e)),zy=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new bt(`${e} must be an integer`);if(t<0)throw new bt(`${e} must be a positive integer`);return t},rm=e=>e instanceof Error?e:new Error(e),Ny=e=>{var t,r,n,i,a,o;if(typeof process<"u")return(n=(r=(t=process.env)==null?void 0:t[e])==null?void 0:r.trim())!=null?n:void 0;if(typeof Deno<"u")return(o=(a=(i=Deno.env)==null?void 0:i.get)==null?void 0:a.call(i,e))==null?void 0:o.trim()};function nm(e){if(!e)return!0;for(const t in e)return!1;return!0}function tD(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Rb(e,t){for(const r in t){if(!tD(t,r))continue;const n=r.toLowerCase();if(!n)continue;const i=t[r];i===null?delete e[n]:i!==void 0&&(e[n]=i)}}function Io(e,...t){var r;typeof process<"u"&&((r=process==null?void 0:process.env)==null?void 0:r.DEBUG)==="true"&&console.log(`Anthropic:DEBUG:${e}`,...t)}const rD=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)});class Yu{constructor(t){this._client=t}}class of extends Yu{create(t,r){var n;return this._client.post("/v1/messages?beta=tools",{body:t,timeout:6e5,...r,headers:{"anthropic-beta":"tools-2024-04-04",...r==null?void 0:r.headers},stream:(n=t.stream)!=null?n:!1})}}(function(e){})(of||(of={}));class sf extends Yu{constructor(){super(...arguments),this.messages=new of(this._client)}}(function(e){e.Messages=of})(sf||(sf={}));class uf extends Yu{constructor(){super(...arguments),this.tools=new sf(this._client)}}(function(e){e.Tools=sf})(uf||(uf={}));class lf extends Yu{create(t,r){var n;return this._client.post("/v1/complete",{body:t,timeout:6e5,...r,stream:(n=t.stream)!=null?n:!1})}}(function(e){})(lf||(lf={}));var ar=globalThis&&globalThis.__classPrivateFieldSet||function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},Se=globalThis&&globalThis.__classPrivateFieldGet||function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},Ir,ai,Jc,Yc,Ss,Ps,Qc,js,zn,Cs,ed,td,ro,By,$b,Fy,Ly,Uy,Vy,xb;class cf{constructor(){Ir.add(this),this.messages=[],this.receivedMessages=[],ai.set(this,void 0),this.controller=new AbortController,Jc.set(this,void 0),Yc.set(this,()=>{}),Ss.set(this,()=>{}),Ps.set(this,void 0),Qc.set(this,()=>{}),js.set(this,()=>{}),zn.set(this,{}),Cs.set(this,!1),ed.set(this,!1),td.set(this,!1),ro.set(this,!1),Fy.set(this,t=>{if(ar(this,ed,!0,"f"),t instanceof Error&&t.name==="AbortError"&&(t=new Sa),t instanceof Sa)return ar(this,td,!0,"f"),this._emit("abort",t);if(t instanceof bt)return this._emit("error",t);if(t instanceof Error){const r=new bt(t.message);return r.cause=t,this._emit("error",r)}return this._emit("error",new bt(String(t)))}),ar(this,Jc,new Promise((t,r)=>{ar(this,Yc,t,"f"),ar(this,Ss,r,"f")}),"f"),ar(this,Ps,new Promise((t,r)=>{ar(this,Qc,t,"f"),ar(this,js,r,"f")}),"f"),Se(this,Jc,"f").catch(()=>{}),Se(this,Ps,"f").catch(()=>{})}static fromReadableStream(t){const r=new cf;return r._run(()=>r._fromReadableStream(t)),r}static createMessage(t,r,n){const i=new cf;for(const a of r.messages)i._addMessageParam(a);return i._run(()=>i._createMessage(t,{...r,stream:!0},{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"stream"}})),i}_run(t){t().then(()=>{this._emitFinal(),this._emit("end")},Se(this,Fy,"f"))}_addMessageParam(t){this.messages.push(t)}_addMessage(t,r=!0){this.receivedMessages.push(t),r&&this._emit("message",t)}async _createMessage(t,r,n){var o;const i=n==null?void 0:n.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),Se(this,Ir,"m",Ly).call(this);const a=await t.create({...r,stream:!0},{...n,signal:this.controller.signal});this._connected();for await(const s of a)Se(this,Ir,"m",Uy).call(this,s);if((o=a.controller.signal)!=null&&o.aborted)throw new Sa;Se(this,Ir,"m",Vy).call(this)}_connected(){this.ended||(Se(this,Yc,"f").call(this),this._emit("connect"))}get ended(){return Se(this,Cs,"f")}get errored(){return Se(this,ed,"f")}get aborted(){return Se(this,td,"f")}abort(){this.controller.abort()}on(t,r){return(Se(this,zn,"f")[t]||(Se(this,zn,"f")[t]=[])).push({listener:r}),this}off(t,r){const n=Se(this,zn,"f")[t];if(!n)return this;const i=n.findIndex(a=>a.listener===r);return i>=0&&n.splice(i,1),this}once(t,r){return(Se(this,zn,"f")[t]||(Se(this,zn,"f")[t]=[])).push({listener:r,once:!0}),this}emitted(t){return new Promise((r,n)=>{ar(this,ro,!0,"f"),t!=="error"&&this.once("error",n),this.once(t,r)})}async done(){ar(this,ro,!0,"f"),await Se(this,Ps,"f")}get currentMessage(){return Se(this,ai,"f")}async finalMessage(){return await this.done(),Se(this,Ir,"m",By).call(this)}async finalText(){return await this.done(),Se(this,Ir,"m",$b).call(this)}_emit(t,...r){if(Se(this,Cs,"f"))return;t==="end"&&(ar(this,Cs,!0,"f"),Se(this,Qc,"f").call(this));const n=Se(this,zn,"f")[t];if(n&&(Se(this,zn,"f")[t]=n.filter(i=>!i.once),n.forEach(({listener:i})=>i(...r))),t==="abort"){const i=r[0];!Se(this,ro,"f")&&!(n!=null&&n.length)&&Promise.reject(i),Se(this,Ss,"f").call(this,i),Se(this,js,"f").call(this,i),this._emit("end");return}if(t==="error"){const i=r[0];!Se(this,ro,"f")&&!(n!=null&&n.length)&&Promise.reject(i),Se(this,Ss,"f").call(this,i),Se(this,js,"f").call(this,i),this._emit("end")}}_emitFinal(){this.receivedMessages.at(-1)&&this._emit("finalMessage",Se(this,Ir,"m",By).call(this))}async _fromReadableStream(t,r){var a;const n=r==null?void 0:r.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort())),Se(this,Ir,"m",Ly).call(this),this._connected();const i=Si.fromReadableStream(t,this.controller);for await(const o of i)Se(this,Ir,"m",Uy).call(this,o);if((a=i.controller.signal)!=null&&a.aborted)throw new Sa;Se(this,Ir,"m",Vy).call(this)}[(ai=new WeakMap,Jc=new WeakMap,Yc=new WeakMap,Ss=new WeakMap,Ps=new WeakMap,Qc=new WeakMap,js=new WeakMap,zn=new WeakMap,Cs=new WeakMap,ed=new WeakMap,td=new WeakMap,ro=new WeakMap,Fy=new WeakMap,Ir=new WeakSet,By=function(){if(this.receivedMessages.length===0)throw new bt("stream ended without producing a Message with role=assistant");return this.receivedMessages.at(-1)},$b=function(){if(this.receivedMessages.length===0)throw new bt("stream ended without producing a Message with role=assistant");const r=this.receivedMessages.at(-1).content.filter(n=>n.type==="text").map(n=>n.text);if(r.length===0)throw new bt("stream ended without producing a content block with type=text");return r.join(" ")},Ly=function(){this.ended||ar(this,ai,void 0,"f")},Uy=function(r){if(this.ended)return;const n=Se(this,Ir,"m",xb).call(this,r);switch(this._emit("streamEvent",r,n),r.type){case"content_block_delta":{r.delta.type==="text_delta"&&this._emit("text",r.delta.text,n.content.at(-1).text||"");break}case"message_stop":{this._addMessageParam(n),this._addMessage(n,!0);break}case"content_block_stop":{this._emit("contentBlock",n.content.at(-1));break}case"message_start":{ar(this,ai,n,"f");break}}},Vy=function(){if(this.ended)throw new bt("stream has ended, this shouldn't happen");const r=Se(this,ai,"f");if(!r)throw new bt("request ended without sending any chunks");return ar(this,ai,void 0,"f"),r},xb=function(r){let n=Se(this,ai,"f");if(r.type==="message_start"){if(n)throw new bt(`Unexpected event order, got ${r.type} before receiving "message_stop"`);return r.message}if(!n)throw new bt(`Unexpected event order, got ${r.type} before "message_start"`);switch(r.type){case"message_stop":return n;case"message_delta":return n.stop_reason=r.delta.stop_reason,n.stop_sequence=r.delta.stop_sequence,n.usage.output_tokens=r.usage.output_tokens,n;case"content_block_start":return n.content.push(r.content_block),n;case"content_block_delta":{const i=n.content.at(r.index);return(i==null?void 0:i.type)==="text"&&r.delta.type==="text_delta"&&(i.text+=r.delta.text),n}case"content_block_stop":return n}},Symbol.asyncIterator)](){const t=[],r=[];let n=!1;return this.on("streamEvent",i=>{const a=r.shift();a?a.resolve(i):t.push(i)}),this.on("end",()=>{n=!0;for(const i of r)i.resolve(void 0);r.length=0}),this.on("abort",i=>{n=!0;for(const a of r)a.reject(i);r.length=0}),this.on("error",i=>{n=!0;for(const a of r)a.reject(i);r.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((a,o)=>r.push({resolve:a,reject:o})).then(a=>a?{value:a,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Si(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}class df extends Yu{create(t,r){var n;return this._client.post("/v1/messages",{body:t,timeout:6e5,...r,stream:(n=t.stream)!=null?n:!1})}stream(t,r){return cf.createMessage(this,t,r)}}(function(e){})(df||(df={}));var vP;class lt extends kI{constructor({baseURL:t=Ny("ANTHROPIC_BASE_URL"),apiKey:r=(a=>(a=Ny("ANTHROPIC_API_KEY"))!=null?a:null)(),authToken:n=(o=>(o=Ny("ANTHROPIC_AUTH_TOKEN"))!=null?o:null)(),...i}={}){var u;const s={apiKey:r,authToken:n,...i,baseURL:t||"https://api.anthropic.com"};super({baseURL:s.baseURL,timeout:(u=s.timeout)!=null?u:6e5,httpAgent:s.httpAgent,maxRetries:s.maxRetries,fetch:s.fetch}),this.completions=new lf(this),this.messages=new df(this),this.beta=new uf(this),this._options=s,this.apiKey=r,this.authToken=n}defaultQuery(){return this._options.defaultQuery}defaultHeaders(t){return{...super.defaultHeaders(t),"anthropic-version":"2023-06-01",...this._options.defaultHeaders}}validateHeaders(t,r){if(!(this.apiKey&&t["x-api-key"])&&r["x-api-key"]!==null&&!(this.authToken&&t.authorization)&&r.authorization!==null)throw new Error('Could not resolve authentication method. Expected either apiKey or authToken to be set. Or for one of the "X-Api-Key" or "Authorization" headers to be explicitly omitted')}authHeaders(t){const r=this.apiKeyAuth(t),n=this.bearerAuth(t);return r!=null&&!nm(r)?r:n!=null&&!nm(n)?n:{}}apiKeyAuth(t){return this.apiKey==null?{}:{"X-Api-Key":this.apiKey}}bearerAuth(t){return this.authToken==null?{}:{Authorization:`Bearer ${this.authToken}`}}}vP=lt;lt.Anthropic=vP;lt.HUMAN_PROMPT=`

Human:`;lt.AI_PROMPT=`

Assistant:`;lt.AnthropicError=bt;lt.APIError=Vt;lt.APIConnectionError=Uf;lt.APIConnectionTimeoutError=rP;lt.APIUserAbortError=Sa;lt.NotFoundError=oP;lt.ConflictError=sP;lt.RateLimitError=lP;lt.BadRequestError=nP;lt.AuthenticationError=iP;lt.InternalServerError=cP;lt.PermissionDeniedError=aP;lt.UnprocessableEntityError=uP;lt.toFile=VI;lt.fileFromPath=tP;(function(e){e.Completions=lf,e.Messages=df,e.Beta=uf})(lt||(lt={}));const im="__run";class u_{constructor(t){Object.defineProperty(this,"text",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"generationInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.text=t.text,this.generationInfo=t.generationInfo}concat(t){return new u_({text:this.text+t.text,generationInfo:{...this.generationInfo,...t.generationInfo}})}}class va extends u_{constructor(t){super(t),Object.defineProperty(this,"message",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.message=t.message}concat(t){return new va({text:this.text+t.text,generationInfo:{...this.generationInfo,...t.generationInfo},message:this.message.concat(t.message)})}}var nD=typeof window=="object"?window:{},ge="0123456789abcdef".split(""),iD=[-2147483648,8388608,32768,128],Gr=[24,16,8,0],Pt=[];function tn(e){e?(Pt[0]=Pt[16]=Pt[1]=Pt[2]=Pt[3]=Pt[4]=Pt[5]=Pt[6]=Pt[7]=Pt[8]=Pt[9]=Pt[10]=Pt[11]=Pt[12]=Pt[13]=Pt[14]=Pt[15]=0,this.blocks=Pt):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.h0=1732584193,this.h1=4023233417,this.h2=2562383102,this.h3=271733878,this.h4=3285377520,this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}tn.prototype.update=function(e){if(!this.finalized){var t=typeof e!="string";t&&e.constructor===nD.ArrayBuffer&&(e=new Uint8Array(e));for(var r,n=0,i,a=e.length||0,o=this.blocks;n<a;){if(this.hashed&&(this.hashed=!1,o[0]=this.block,o[16]=o[1]=o[2]=o[3]=o[4]=o[5]=o[6]=o[7]=o[8]=o[9]=o[10]=o[11]=o[12]=o[13]=o[14]=o[15]=0),t)for(i=this.start;n<a&&i<64;++n)o[i>>2]|=e[n]<<Gr[i++&3];else for(i=this.start;n<a&&i<64;++n)r=e.charCodeAt(n),r<128?o[i>>2]|=r<<Gr[i++&3]:r<2048?(o[i>>2]|=(192|r>>6)<<Gr[i++&3],o[i>>2]|=(128|r&63)<<Gr[i++&3]):r<55296||r>=57344?(o[i>>2]|=(224|r>>12)<<Gr[i++&3],o[i>>2]|=(128|r>>6&63)<<Gr[i++&3],o[i>>2]|=(128|r&63)<<Gr[i++&3]):(r=65536+((r&1023)<<10|e.charCodeAt(++n)&1023),o[i>>2]|=(240|r>>18)<<Gr[i++&3],o[i>>2]|=(128|r>>12&63)<<Gr[i++&3],o[i>>2]|=(128|r>>6&63)<<Gr[i++&3],o[i>>2]|=(128|r&63)<<Gr[i++&3]);this.lastByteIndex=i,this.bytes+=i-this.start,i>=64?(this.block=o[16],this.start=i-64,this.hash(),this.hashed=!0):this.start=i}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}};tn.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[16]=this.block,e[t>>2]|=iD[t&3],this.block=e[16],t>=56&&(this.hashed||this.hash(),e[0]=this.block,e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.hBytes<<3|this.bytes>>>29,e[15]=this.bytes<<3,this.hash()}};tn.prototype.hash=function(){var e=this.h0,t=this.h1,r=this.h2,n=this.h3,i=this.h4,a,o,s,u=this.blocks;for(o=16;o<80;++o)s=u[o-3]^u[o-8]^u[o-14]^u[o-16],u[o]=s<<1|s>>>31;for(o=0;o<20;o+=5)a=t&r|~t&n,s=e<<5|e>>>27,i=s+a+i+1518500249+u[o]<<0,t=t<<30|t>>>2,a=e&t|~e&r,s=i<<5|i>>>27,n=s+a+n+1518500249+u[o+1]<<0,e=e<<30|e>>>2,a=i&e|~i&t,s=n<<5|n>>>27,r=s+a+r+1518500249+u[o+2]<<0,i=i<<30|i>>>2,a=n&i|~n&e,s=r<<5|r>>>27,t=s+a+t+1518500249+u[o+3]<<0,n=n<<30|n>>>2,a=r&n|~r&i,s=t<<5|t>>>27,e=s+a+e+1518500249+u[o+4]<<0,r=r<<30|r>>>2;for(;o<40;o+=5)a=t^r^n,s=e<<5|e>>>27,i=s+a+i+1859775393+u[o]<<0,t=t<<30|t>>>2,a=e^t^r,s=i<<5|i>>>27,n=s+a+n+1859775393+u[o+1]<<0,e=e<<30|e>>>2,a=i^e^t,s=n<<5|n>>>27,r=s+a+r+1859775393+u[o+2]<<0,i=i<<30|i>>>2,a=n^i^e,s=r<<5|r>>>27,t=s+a+t+1859775393+u[o+3]<<0,n=n<<30|n>>>2,a=r^n^i,s=t<<5|t>>>27,e=s+a+e+1859775393+u[o+4]<<0,r=r<<30|r>>>2;for(;o<60;o+=5)a=t&r|t&n|r&n,s=e<<5|e>>>27,i=s+a+i-1894007588+u[o]<<0,t=t<<30|t>>>2,a=e&t|e&r|t&r,s=i<<5|i>>>27,n=s+a+n-1894007588+u[o+1]<<0,e=e<<30|e>>>2,a=i&e|i&t|e&t,s=n<<5|n>>>27,r=s+a+r-1894007588+u[o+2]<<0,i=i<<30|i>>>2,a=n&i|n&e|i&e,s=r<<5|r>>>27,t=s+a+t-1894007588+u[o+3]<<0,n=n<<30|n>>>2,a=r&n|r&i|n&i,s=t<<5|t>>>27,e=s+a+e-1894007588+u[o+4]<<0,r=r<<30|r>>>2;for(;o<80;o+=5)a=t^r^n,s=e<<5|e>>>27,i=s+a+i-899497514+u[o]<<0,t=t<<30|t>>>2,a=e^t^r,s=i<<5|i>>>27,n=s+a+n-899497514+u[o+1]<<0,e=e<<30|e>>>2,a=i^e^t,s=n<<5|n>>>27,r=s+a+r-899497514+u[o+2]<<0,i=i<<30|i>>>2,a=n^i^e,s=r<<5|r>>>27,t=s+a+t-899497514+u[o+3]<<0,n=n<<30|n>>>2,a=r^n^i,s=t<<5|t>>>27,e=s+a+e-899497514+u[o+4]<<0,r=r<<30|r>>>2;this.h0=this.h0+e<<0,this.h1=this.h1+t<<0,this.h2=this.h2+r<<0,this.h3=this.h3+n<<0,this.h4=this.h4+i<<0};tn.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,r=this.h2,n=this.h3,i=this.h4;return ge[e>>28&15]+ge[e>>24&15]+ge[e>>20&15]+ge[e>>16&15]+ge[e>>12&15]+ge[e>>8&15]+ge[e>>4&15]+ge[e&15]+ge[t>>28&15]+ge[t>>24&15]+ge[t>>20&15]+ge[t>>16&15]+ge[t>>12&15]+ge[t>>8&15]+ge[t>>4&15]+ge[t&15]+ge[r>>28&15]+ge[r>>24&15]+ge[r>>20&15]+ge[r>>16&15]+ge[r>>12&15]+ge[r>>8&15]+ge[r>>4&15]+ge[r&15]+ge[n>>28&15]+ge[n>>24&15]+ge[n>>20&15]+ge[n>>16&15]+ge[n>>12&15]+ge[n>>8&15]+ge[n>>4&15]+ge[n&15]+ge[i>>28&15]+ge[i>>24&15]+ge[i>>20&15]+ge[i>>16&15]+ge[i>>12&15]+ge[i>>8&15]+ge[i>>4&15]+ge[i&15]};tn.prototype.toString=tn.prototype.hex;tn.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,r=this.h2,n=this.h3,i=this.h4;return[e>>24&255,e>>16&255,e>>8&255,e&255,t>>24&255,t>>16&255,t>>8&255,t&255,r>>24&255,r>>16&255,r>>8&255,r&255,n>>24&255,n>>16&255,n>>8&255,n&255,i>>24&255,i>>16&255,i>>8&255,i&255]};tn.prototype.array=tn.prototype.digest;tn.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(20),t=new DataView(e);return t.setUint32(0,this.h0),t.setUint32(4,this.h1),t.setUint32(8,this.h2),t.setUint32(12,this.h3),t.setUint32(16,this.h4),e};const aD=e=>new tn(!0).update(e).hex(),Ab=(...e)=>aD(e.join("_"));class oD{}const sD=new Map;class l_ extends oD{constructor(t){super(),Object.defineProperty(this,"cache",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cache=t!=null?t:new Map}lookup(t,r){var n;return Promise.resolve((n=this.cache.get(Ab(t,r)))!=null?n:null)}async update(t,r,n){this.cache.set(Ab(t,r),n)}static global(){return new l_(sD)}}class c_ extends Zn{}class mP extends c_{static lc_name(){return"StringPromptValue"}constructor(t){super({value:t}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","prompt_values"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.value=t}toString(){return this.value}toChatMessages(){return[new Tn(this.value)]}}class _P extends c_{static lc_name(){return"ChatPromptValue"}constructor(t){Array.isArray(t)&&(t={messages:t}),super(t),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","prompt_values"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"messages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.messages=t.messages}toString(){return o_(this.messages)}toChatMessages(){return this.messages}}class uD extends c_{static lc_name(){return"ImagePromptValue"}constructor(t){"imageUrl"in t||(t={imageUrl:t}),super(t),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","prompt_values"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"imageUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.imageUrl=t.imageUrl}toString(){return this.imageUrl.url}toChatMessages(){return[new Tn({content:[{type:"image_url",image_url:{detail:this.imageUrl.detail,url:this.imageUrl.url}}]})]}}const lD=e=>e.startsWith("gpt-3.5-turbo-16k")?"gpt-3.5-turbo-16k":e.startsWith("gpt-3.5-turbo-")?"gpt-3.5-turbo":e.startsWith("gpt-4-32k")?"gpt-4-32k":e.startsWith("gpt-4-")?"gpt-4":e,cD=()=>!1;class gP extends ut{get lc_attributes(){return{callbacks:void 0,verbose:void 0}}constructor(t){var r,n,i;super(t),Object.defineProperty(this,"verbose",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"callbacks",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.verbose=(r=t.verbose)!=null?r:cD(),this.callbacks=t.callbacks,this.tags=(n=t.tags)!=null?n:[],this.metadata=(i=t.metadata)!=null?i:{}}}class bP extends gP{get callKeys(){return["stop","timeout","signal","tags","metadata","callbacks"]}constructor({callbacks:t,callbackManager:r,...n}){super({callbacks:t!=null?t:r,...n}),Object.defineProperty(this,"caller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cache",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_encoding",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),typeof n.cache=="object"?this.cache=n.cache:n.cache?this.cache=l_.global():this.cache=void 0,this.caller=new Ju(n!=null?n:{})}async getNumTokens(t){if(typeof t!="string")return 0;let r=Math.ceil(t.length/4);if(!this._encoding)try{this._encoding=await TI("modelName"in this?lD(this.modelName):"gpt2")}catch(n){console.warn("Failed to calculate number of tokens, falling back to approximate count",n)}if(this._encoding)try{r=this._encoding.encode(t).length}catch(n){console.warn("Failed to calculate number of tokens, falling back to approximate count",n)}return r}static _convertInputToPromptValue(t){return typeof t=="string"?new mP(t):Array.isArray(t)?new _P(t.map(Co)):t}_identifyingParams(){return{}}_getSerializedCacheKeyParametersForCall({config:t,...r}){const n={...this._identifyingParams(),...r,_type:this._llmType(),_model:this._modelType()};return Object.entries(n).filter(([o,s])=>s!==void 0).map(([o,s])=>`${o}:${JSON.stringify(s)}`).sort().join(",")}serialize(){return{...this._identifyingParams(),_type:this._llmType(),_model:this._modelType()}}static async deserialize(t){throw new Error("Use .toJSON() instead")}}class ma extends bP{constructor(t){super(t),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","chat_models",this._llmType()]})}_separateRunnableConfigFromCallOptions(t){const[r,n]=super._separateRunnableConfigFromCallOptions(t);return(n==null?void 0:n.timeout)&&!n.signal&&(n.signal=AbortSignal.timeout(n.timeout)),[r,n]}async invoke(t,r){const n=ma._convertInputToPromptValue(t);return(await this.generatePrompt([n],r,r==null?void 0:r.callbacks)).generations[0][0].message}async*_streamResponseChunks(t,r,n){throw new Error("Not implemented.")}async*_streamIterator(t,r){if(this._streamResponseChunks===ma.prototype._streamResponseChunks)yield this.invoke(t,r);else{const i=ma._convertInputToPromptValue(t).toChatMessages(),[a,o]=this._separateRunnableConfigFromCallOptions(r),s=await Ft.configure(a.callbacks,this.callbacks,a.tags,this.tags,a.metadata,this.metadata,{verbose:this.verbose}),u={options:o,invocation_params:this==null?void 0:this.invocationParams(o),batch_size:1},c=await(s==null?void 0:s.handleChatModelStart(this.toJSON(),[i],a.runId,void 0,u,void 0,void 0,a.runName));let d;try{for await(const f of this._streamResponseChunks(i,o,c==null?void 0:c[0]))f.message.response_metadata={...f.generationInfo,...f.message.response_metadata},yield f.message,d?d=d.concat(f):d=f}catch(f){throw await Promise.all((c!=null?c:[]).map(h=>h==null?void 0:h.handleLLMError(f))),f}await Promise.all((c!=null?c:[]).map(f=>f==null?void 0:f.handleLLMEnd({generations:[[d]]})))}}async _generateUncached(t,r,n){var h;const i=t.map(p=>p.map(Co)),a=await Ft.configure(n.callbacks,this.callbacks,n.tags,this.tags,n.metadata,this.metadata,{verbose:this.verbose}),o={options:r,invocation_params:this==null?void 0:this.invocationParams(r),batch_size:1},s=await(a==null?void 0:a.handleChatModelStart(this.toJSON(),i,n.runId,void 0,o,void 0,void 0,n.runName)),u=await Promise.allSettled(i.map((p,y)=>this._generate(p,{...r,promptIndex:y},s==null?void 0:s[y]))),c=[],d=[];await Promise.all(u.map(async(p,y)=>{var v,m;if(p.status==="fulfilled"){const b=p.value;for(const O of b.generations)O.message.response_metadata={...O.generationInfo,...O.message.response_metadata};return b.generations.length===1&&(b.generations[0].message.response_metadata={...b.llmOutput,...b.generations[0].message.response_metadata}),c[y]=b.generations,d[y]=b.llmOutput,(v=s==null?void 0:s[y])==null?void 0:v.handleLLMEnd({generations:[b.generations],llmOutput:b.llmOutput})}else return await((m=s==null?void 0:s[y])==null?void 0:m.handleLLMError(p.reason)),Promise.reject(p.reason)}));const f={generations:c,llmOutput:d.length?(h=this._combineLLMOutput)==null?void 0:h.call(this,...d):void 0};return Object.defineProperty(f,im,{value:s?{runIds:s==null?void 0:s.map(p=>p.runId)}:void 0,configurable:!0}),f}async _generateCached({messages:t,cache:r,llmStringKey:n,parsedOptions:i,handledOptions:a}){const o=t.map(v=>v.map(Co)),s=await Ft.configure(a.callbacks,this.callbacks,a.tags,this.tags,a.metadata,this.metadata,{verbose:this.verbose}),u={options:i,invocation_params:this==null?void 0:this.invocationParams(i),batch_size:1,cached:!0},c=await(s==null?void 0:s.handleChatModelStart(this.toJSON(),o,a.runId,void 0,u,void 0,void 0,a.runName)),d=[],h=(await Promise.allSettled(o.map(async(v,m)=>{const b=ma._convertInputToPromptValue(v).toString(),O=await r.lookup(b,n);return O==null&&d.push(m),O}))).map((v,m)=>({result:v,runManager:c==null?void 0:c[m]})).filter(({result:v})=>v.status==="fulfilled"&&v.value!=null||v.status==="rejected"),p=[];await Promise.all(h.map(async({result:v,runManager:m},b)=>{if(v.status==="fulfilled"){const O=v.value;return p[b]=O,O.length&&await(m==null?void 0:m.handleLLMNewToken(O[0].text)),m==null?void 0:m.handleLLMEnd({generations:[O]})}else return await(m==null?void 0:m.handleLLMError(v.reason)),Promise.reject(v.reason)}));const y={generations:p,missingPromptIndices:d};return Object.defineProperty(y,im,{value:c?{runIds:c==null?void 0:c.map(v=>v.runId)}:void 0,configurable:!0}),y}async generate(t,r,n){var p,y;let i;Array.isArray(r)?i={stop:r}:i=r;const a=t.map(v=>v.map(Co)),[o,s]=this._separateRunnableConfigFromCallOptions(i);if(o.callbacks=(p=o.callbacks)!=null?p:n,!this.cache)return this._generateUncached(a,s,o);const{cache:u}=this,c=this._getSerializedCacheKeyParametersForCall(s),{generations:d,missingPromptIndices:f}=await this._generateCached({messages:a,cache:u,llmStringKey:c,parsedOptions:s,handledOptions:o});let h={};if(f.length>0){const v=await this._generateUncached(f.map(m=>a[m]),s,o);await Promise.all(v.generations.map(async(m,b)=>{const O=f[b];d[O]=m;const S=ma._convertInputToPromptValue(a[O]).toString();return u.update(S,c,m)})),h=(y=v.llmOutput)!=null?y:{}}return{generations:d,llmOutput:h}}invocationParams(t){return{}}_modelType(){return"base_chat_model"}serialize(){return{...this.invocationParams(),_type:this._llmType(),_model:this._modelType()}}async generatePrompt(t,r,n){const i=t.map(a=>a.toChatMessages());return this.generate(i,r,n)}async call(t,r,n){return(await this.generate([t.map(Co)],r,n)).generations[0][0].message}async callPrompt(t,r,n){const i=t.toChatMessages();return this.call(i,r,n)}async predictMessages(t,r,n){return this.call(t,r,n)}async predict(t,r,n){const i=new Tn(t),a=await this.call([i],r,n);if(typeof a.content!="string")throw new Error("Cannot use predict when output is not a string.");return a.content}}class Ib extends ut{static lc_name(){return"RunnablePassthrough"}constructor(t){super(t),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"func",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),t&&(this.func=t.func)}async invoke(t,r){const n=Ge(r);return this.func&&await this.func(t,n),this._callWithConfig(i=>Promise.resolve(i),t,n)}async*transform(t,r){const n=Ge(r);let i,a=!0;for await(const o of this._transformStreamWithConfig(t,s=>s,n))if(yield o,a)if(i===void 0)i=o;else try{i=Ta(i,o)}catch{i=void 0,a=!1}this.func&&i!==void 0&&await this.func(i,n)}static assign(t){return new XS(new Yo({steps:t}))}}function dD(e){return typeof(e==null?void 0:e.parse)=="function"}class wP extends ut{parseResultWithPrompt(t,r,n){return this.parseResult(t,n)}_baseMessageToString(t){return typeof t.content=="string"?t.content:this._baseMessageContentToString(t.content)}_baseMessageContentToString(t){return JSON.stringify(t)}async invoke(t,r){return typeof t=="string"?this._callWithConfig(async(n,i)=>this.parseResult([{text:n}],i==null?void 0:i.callbacks),t,{...r,runType:"parser"}):this._callWithConfig(async(n,i)=>this.parseResult([{message:n,text:this._baseMessageToString(n)}],i==null?void 0:i.callbacks),t,{...r,runType:"parser"})}}class fD extends wP{parseResult(t,r){return this.parse(t[0].text,r)}async parseWithPrompt(t,r,n){return this.parse(t,n)}_type(){throw new Error("_type not implemented")}}class hD extends Error{constructor(t,r,n,i=!1){if(super(t),Object.defineProperty(this,"llmOutput",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"observation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sendToLLM",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.llmOutput=r,this.observation=n,this.sendToLLM=i,i&&(n===void 0||r===void 0))throw new Error("Arguments 'observation' & 'llmOutput' are required if 'sendToLlm' is true")}}class Db extends wP{static lc_name(){return"AnthropicToolsOutputParser"}constructor(t){var r;super(t),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","anthropic","output_parsers"]}),Object.defineProperty(this,"returnId",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"keyName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"returnSingle",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"zodSchema",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.keyName=t.keyName,this.returnSingle=(r=t.returnSingle)!=null?r:this.returnSingle,this.zodSchema=t.zodSchema}async _validateResult(t){if(this.zodSchema===void 0)return t;const r=await this.zodSchema.safeParseAsync(t);if(r.success)return r.data;throw new hD(`Failed to parse. Text: "${JSON.stringify(t,null,2)}". Error: ${JSON.stringify(r.error.errors)}`,JSON.stringify(t,null,2))}async parseResult(t){const r=t.flatMap(a=>{const{message:o}=a;return Array.isArray(o.content)?OP(o.content)[0]:[]});if(r[0]===void 0)throw new Error("No parseable tool calls provided to AnthropicToolsOutputParser.");const[n]=r;return await this._validateResult(n.args)}}function OP(e){const t=[];for(const r of e)r.type==="tool_use"&&t.push({name:r.name,args:r.input,id:r.id});return t}function zb(e){var n,i;const t=/^data:(image\/.+);base64,(.+)$/,r=e.match(t);if(r===null)throw new Error(["Anthropic only supports base64-encoded images currently.","Example: data:image/png;base64,/9j/4AAQSk..."].join(`

`));return{type:"base64",media_type:(n=r[1])!=null?n:"",data:(i=r[2])!=null?i:""}}function pD(e,t){if(e.length===1&&e[0].type==="text")return[{text:e[0].text,message:new Fa(e[0].text,t)}];{const r=OP(e);return[{text:"",message:new Fa({content:e,additional_kwargs:t,tool_calls:r})}]}}function Nb(e){return"input_schema"in e}function yD(e){const t=[];for(const r of e)if(r._getType()==="tool")typeof r.content=="string"?t.push(new Tn({content:[{type:"tool_result",content:r.content,tool_use_id:r.tool_call_id}]})):t.push(new Tn({content:r.content}));else{const n=t[t.length-1];if((n==null?void 0:n._getType())==="human"&&r._getType()==="human"){let i;typeof n.content=="string"?i=[{type:"text",text:n.content}]:i=n.content,typeof r.content=="string"?i.push({type:"text",text:r.content}):i=i.concat(r.content),n.content=i}else t.push(r)}return t}function Bb(e){if(e.id===void 0)throw new Error('Anthropic requires all tool calls to have an "id".');return{type:"tool_use",id:e.id,name:e.name,input:e.args}}function Fb(e){return typeof e=="string"?e:e.map(r=>{if(r.type==="image_url"){let n;return typeof r.image_url=="string"?n=zb(r.image_url):n=zb(r.image_url.url),{type:"image",source:n}}else{if(r.type==="text")return{type:"text",text:r.text};if(r.type==="tool_use"||r.type==="tool_result")return{...r};throw new Error("Unsupported message content format")}})}function Lb(e){const t=yD(e);let r;if(t.length>0&&t[0]._getType()==="system"){if(typeof e[0].content!="string")throw new Error("System message content must be a string.");r=e[0].content}return{messages:(r!==void 0?t.slice(1):t).map(a=>{var s;let o;if(a._getType()==="human")o="user";else if(a._getType()==="ai")o="assistant";else if(a._getType()==="tool")o="user";else throw a._getType()==="system"?new Error("System messages are only permitted as the first passed message."):new Error(`Message type "${a._getType()}" is not supported.`);if(eA(a)&&!!((s=a.tool_calls)!=null&&s.length)){if(typeof a.content=="string")return a.content===""?{role:o,content:a.tool_calls.map(Bb)}:{role:o,content:[{type:"text",text:a.content},...a.tool_calls.map(Bb)]};{const{content:u}=a;return!a.tool_calls.every(d=>u.find(f=>f.type==="tool_use"&&f.id===d.id))&&console.warn('The "tool_calls" field on a message is only respected if content is a string.'),{role:o,content:Fb(a.content)}}}else return{role:o,content:Fb(a.content)}}),system:r}}class vD extends ma{static lc_name(){return"ChatAnthropic"}get lc_secrets(){return{anthropicApiKey:"ANTHROPIC_API_KEY",apiKey:"ANTHROPIC_API_KEY"}}get lc_aliases(){return{modelName:"model"}}constructor(t){var r,n,i,a,o,s,u,c,d,f,h,p,y;if(super(t!=null?t:{}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"anthropicApiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"apiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"apiUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"temperature",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"topK",{enumerable:!0,configurable:!0,writable:!0,value:-1}),Object.defineProperty(this,"topP",{enumerable:!0,configurable:!0,writable:!0,value:-1}),Object.defineProperty(this,"maxTokens",{enumerable:!0,configurable:!0,writable:!0,value:2048}),Object.defineProperty(this,"modelName",{enumerable:!0,configurable:!0,writable:!0,value:"claude-2.1"}),Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:"claude-2.1"}),Object.defineProperty(this,"invocationKwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stopSequences",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"streaming",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"clientOptions",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"batchClient",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"streamingClient",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.anthropicApiKey=(n=(r=t==null?void 0:t.apiKey)!=null?r:t==null?void 0:t.anthropicApiKey)!=null?n:Mi("ANTHROPIC_API_KEY"),!this.anthropicApiKey)throw new Error("Anthropic API key not found");this.apiKey=this.anthropicApiKey,this.apiUrl=t==null?void 0:t.anthropicApiUrl,this.modelName=(a=(i=t==null?void 0:t.model)!=null?i:t==null?void 0:t.modelName)!=null?a:this.model,this.model=this.modelName,this.invocationKwargs=(o=t==null?void 0:t.invocationKwargs)!=null?o:{},this.temperature=(s=t==null?void 0:t.temperature)!=null?s:this.temperature,this.topK=(u=t==null?void 0:t.topK)!=null?u:this.topK,this.topP=(c=t==null?void 0:t.topP)!=null?c:this.topP,this.maxTokens=(f=(d=t==null?void 0:t.maxTokensToSample)!=null?d:t==null?void 0:t.maxTokens)!=null?f:this.maxTokens,this.stopSequences=(h=t==null?void 0:t.stopSequences)!=null?h:this.stopSequences,this.streaming=(p=t==null?void 0:t.streaming)!=null?p:!1,this.clientOptions=(y=t==null?void 0:t.clientOptions)!=null?y:{}}formatStructuredToolToAnthropic(t){if(!(!t||!t.length)){if(t.every(r=>Nb(r)))return t;if(t.some(r=>Nb(r)))throw new Error("Can not pass in a mix of AnthropicTools and StructuredTools");return t.map(r=>({name:r.name,description:r.description,input_schema:Qv(r.schema)}))}}bindTools(t,r){return this.bind({tools:this.formatStructuredToolToAnthropic(t),...r})}invocationParams(t){var r;return{model:this.model,temperature:this.temperature,top_k:this.topK,top_p:this.topP,stop_sequences:(r=t==null?void 0:t.stop)!=null?r:this.stopSequences,stream:this.streaming,max_tokens:this.maxTokens,tools:this.formatStructuredToolToAnthropic(t==null?void 0:t.tools),...this.invocationKwargs}}_identifyingParams(){return{model_name:this.model,...this.invocationParams()}}identifyingParams(){return{model_name:this.model,...this.invocationParams()}}async*_streamResponseChunks(t,r,n){var o,s,u;const i=this.invocationParams(r),a=Lb(t);if(r.tools!==void 0&&r.tools.length>0){const{generations:c}=await this._generateNonStreaming(t,i,{signal:r.signal}),d=c[0].message,f=(o=d.tool_calls)==null?void 0:o.map((h,p)=>({name:h.name,args:JSON.stringify(h.args),id:h.id,index:p}));yield new va({message:new Oi({content:d.content,additional_kwargs:d.additional_kwargs,tool_call_chunks:f}),text:c[0].text})}else{const c=await this.createStreamWithRetry({...i,...a,stream:!0});let d={input_tokens:0,output_tokens:0};for await(const f of c){if((s=r.signal)!=null&&s.aborted)throw c.controller.abort(),new Error("AbortError: User aborted the request.");if(f.type==="message_start"){const{content:h,usage:p,...y}=f.message,v={};for(const[m,b]of Object.entries(y))b!=null&&(v[m]=b);d=p,yield new va({message:new Oi({content:"",additional_kwargs:v}),text:""})}else if(f.type==="message_delta")yield new va({message:new Oi({content:"",additional_kwargs:{...f.delta}}),text:""}),(f==null?void 0:f.usage)!==void 0&&(d.output_tokens+=f.usage.output_tokens);else if(f.type==="content_block_delta"){const h=(u=f.delta)==null?void 0:u.text;h!==void 0&&(yield new va({message:new Oi({content:h,additional_kwargs:{}}),text:h}),await(n==null?void 0:n.handleLLMNewToken(h)))}}yield new va({message:new Oi({content:"",additional_kwargs:{usage:d}}),text:""})}}async _generateNonStreaming(t,r,n){const i=r.tools!==void 0?{...n,headers:{...n.headers,"anthropic-beta":"tools-2024-04-04"}}:n,a=await this.completionWithRetry({...r,stream:!1,...Lb(t)},i),{content:o,...s}=a,u=pD(o,s),{role:c,type:d,...f}=s;return{generations:u,llmOutput:f}}async _generate(t,r,n){if(this.stopSequences&&r.stop)throw new Error('"stopSequence" parameter found in input and default params');const i=this.invocationParams(r);if(i.stream){let a;const o=this._streamResponseChunks(t,r,n);for await(const s of o)a===void 0?a=s:a=a.concat(s);if(a===void 0)throw new Error("No chunks returned from Anthropic API.");return{generations:[{text:a.text,message:a.message}]}}else return this._generateNonStreaming(t,i,{signal:r.signal})}async createStreamWithRetry(t,r){if(!this.streamingClient){const i=this.apiUrl?{baseURL:this.apiUrl}:void 0;this.streamingClient=new lt({...this.clientOptions,...i,apiKey:this.apiKey,maxRetries:0})}const n=async()=>this.streamingClient.messages.create({...t,...this.invocationKwargs,stream:!0},r);return this.caller.call(n)}async completionWithRetry(t,r){var i;if(!this.apiKey)throw new Error("Missing Anthropic API key.");if(!this.batchClient){const a=this.apiUrl?{baseURL:this.apiUrl}:void 0;this.batchClient=new lt({...this.clientOptions,...a,apiKey:this.apiKey,maxRetries:0})}const n=async()=>this.batchClient.messages.create({...t,...this.invocationKwargs},r);return this.caller.callWithOptions({signal:(i=r.signal)!=null?i:void 0},n)}_llmType(){return"anthropic"}withStructuredOutput(t,r){var y,v;const n=t,i=r==null?void 0:r.name,a=r==null?void 0:r.method,o=r==null?void 0:r.includeRaw;if(a==="jsonMode")throw new Error('Anthropic only supports "functionCalling" as a method.');let s=i!=null?i:"extract",u,c;if(dD(n)){const m=Qv(n);c=[{name:s,description:(y=m.description)!=null?y:"A function available to call.",input_schema:m}],u=new Db({returnSingle:!0,keyName:s,zodSchema:n})}else{let m;typeof n.name=="string"&&typeof n.description=="string"&&typeof n.input_schema=="object"&&n.input_schema!=null?(m=n,s=n.name):m={name:s,description:(v=n.description)!=null?v:"",input_schema:n},c=[m],u=new Db({returnSingle:!0,keyName:s})}const d=this.bind({tools:c});if(!o)return d.pipe(u).withConfig({runName:"ChatAnthropicStructuredOutput"});const f=Ib.assign({parsed:(m,b)=>u.invoke(m.raw,b)}),h=Ib.assign({parsed:()=>null}),p=f.withFallbacks({fallbacks:[h]});return wa.from([{raw:d},p]).withConfig({runName:"StructuredOutputRunnable"})}}class mD extends vD{}class Qu extends gP{get lc_namespace(){return["langchain","chains",this._chainType()]}constructor(t,r,n){if(arguments.length===1&&typeof t=="object"&&!("saveContext"in t)){const{memory:i,callbackManager:a,...o}=t;super({...o,callbacks:a!=null?a:o.callbacks}),this.memory=i}else super({verbose:r,callbacks:n}),this.memory=t}_selectMemoryInputs(t){const r={...t};return"signal"in r&&delete r.signal,"timeout"in r&&delete r.timeout,r}async invoke(t,r){const n=Ge(r),i=await this._formatValues(t),a=await Ft.configure(n==null?void 0:n.callbacks,this.callbacks,n==null?void 0:n.tags,this.tags,n==null?void 0:n.metadata,this.metadata,{verbose:this.verbose}),o=await(a==null?void 0:a.handleChainStart(this.toJSON(),i,void 0,void 0,void 0,void 0,n==null?void 0:n.runName));let s;try{s=await(i.signal?Promise.race([this._call(i,o,n),new Promise((u,c)=>{var d;(d=i.signal)==null||d.addEventListener("abort",()=>{c(new Error("AbortError"))})})]):this._call(i,o,n))}catch(u){throw await(o==null?void 0:o.handleChainError(u)),u}return this.memory!=null&&await this.memory.saveContext(this._selectMemoryInputs(t),s),await(o==null?void 0:o.handleChainEnd(s)),Object.defineProperty(s,im,{value:o?{runId:o==null?void 0:o.runId}:void 0,configurable:!0}),s}_validateOutputs(t){const r=this.outputKeys.filter(n=>!(n in t));if(r.length)throw new Error(`Missing output keys: ${r.join(", ")} from chain ${this._chainType()}`)}async prepOutputs(t,r,n=!1){return this._validateOutputs(r),this.memory&&await this.memory.saveContext(t,r),n?r:{...t,...r}}serialize(){throw new Error("Method not implemented.")}async run(t,r){const n=this.inputKeys.filter(u=>{var c;return!((c=this.memory)!=null&&c.memoryKeys.includes(u))});if(!(n.length<=1))throw new Error(`Chain ${this._chainType()} expects multiple inputs, cannot use 'run' `);const a=n.length?{[n[0]]:t}:{},o=await this.call(a,r),s=Object.keys(o);if(s.length===1)return o[s[0]];throw new Error("return values have multiple keys, `run` only supported when one key currently")}async _formatValues(t){const r={...t};if(r.timeout&&!r.signal&&(r.signal=AbortSignal.timeout(r.timeout),delete r.timeout),this.memory!=null){const n=await this.memory.loadMemoryVariables(this._selectMemoryInputs(t));for(const[i,a]of Object.entries(n))r[i]=a}return r}async call(t,r,n){const i={tags:n,...NS(r)};return this.invoke(t,i)}async apply(t,r){return Promise.all(t.map(async(n,i)=>this.call(n,r==null?void 0:r[i])))}static async deserialize(t,r={}){switch(t._type){case"llm_chain":{const{LLMChain:n}=await gr(()=>Promise.resolve().then(()=>XD),void 0);return n.deserialize(t)}case"sequential_chain":{const{SequentialChain:n}=await gr(()=>import("./sequential_chain.e462e4d3.js"),[]);return n.deserialize(t)}case"simple_sequential_chain":{const{SimpleSequentialChain:n}=await gr(()=>import("./sequential_chain.e462e4d3.js"),[]);return n.deserialize(t)}case"stuff_documents_chain":{const{StuffDocumentsChain:n}=await gr(()=>Promise.resolve().then(()=>Hy),void 0);return n.deserialize(t)}case"map_reduce_documents_chain":{const{MapReduceDocumentsChain:n}=await gr(()=>Promise.resolve().then(()=>Hy),void 0);return n.deserialize(t)}case"refine_documents_chain":{const{RefineDocumentsChain:n}=await gr(()=>Promise.resolve().then(()=>Hy),void 0);return n.deserialize(t)}case"vector_db_qa":{const{VectorDBQAChain:n}=await gr(()=>import("./vector_db_qa.aa787cf9.js"),[]);return n.deserialize(t,r)}case"api_chain":{const{APIChain:n}=await gr(()=>import("./api_chain.5cc904c3.js"),[]);return n.deserialize(t)}default:throw new Error(`Invalid prompt type in config: ${t._type}`)}}}class Kf extends ut{get lc_attributes(){return{partialVariables:void 0}}constructor(t){super(t),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","prompts",this._getPromptType()]}),Object.defineProperty(this,"inputVariables",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"outputParser",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"partialVariables",{enumerable:!0,configurable:!0,writable:!0,value:void 0});const{inputVariables:r}=t;if(r.includes("stop"))throw new Error("Cannot have an input variable named 'stop', as it is used internally, please rename.");Object.assign(this,t)}async mergePartialAndUserVariables(t){var a;const r=(a=this.partialVariables)!=null?a:{},n={};for(const[o,s]of Object.entries(r))typeof s=="string"?n[o]=s:n[o]=await s();return{...n,...t}}async invoke(t,r){return this._callWithConfig(n=>this.formatPromptValue(n),t,{...r,runType:"prompt"})}serialize(){throw new Error("Use .toJSON() instead")}static async deserialize(t){switch(t._type){case"prompt":{const{PromptTemplate:r}=await gr(()=>Promise.resolve().then(()=>Kb),void 0);return r.deserialize(t)}case void 0:{const{PromptTemplate:r}=await gr(()=>Promise.resolve().then(()=>Kb),void 0);return r.deserialize({...t,_type:"prompt"})}case"few_shot":{const{FewShotPromptTemplate:r}=await gr(()=>import("./few_shot.9598c0e7.js"),[]);return r.deserialize(t)}default:throw new Error(`Invalid prompt type in config: ${t._type}`)}}}class am extends Kf{async formatPromptValue(t){const r=await this.format(t);return new mP(r)}}/*!
 * mustache.js - Logic-less {{mustache}} templates with JavaScript
 * http://github.com/janl/mustache.js
 */var _D=Object.prototype.toString,Qo=Array.isArray||function(t){return _D.call(t)==="[object Array]"};function d_(e){return typeof e=="function"}function gD(e){return Qo(e)?"array":typeof e}function Ky(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function Ub(e,t){return e!=null&&typeof e=="object"&&t in e}function bD(e,t){return e!=null&&typeof e!="object"&&e.hasOwnProperty&&e.hasOwnProperty(t)}var wD=RegExp.prototype.test;function OD(e,t){return wD.call(e,t)}var SD=/\S/;function PD(e){return!OD(SD,e)}var jD={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function CD(e){return String(e).replace(/[&<>"'`=\/]/g,function(r){return jD[r]})}var ED=/\s*/,MD=/\s+/,Vb=/\s*=/,TD=/\s*\}/,RD=/#|\^|\/|>|\{|&|=|!/;function $D(e,t){if(!e)return[];var r=!1,n=[],i=[],a=[],o=!1,s=!1,u="",c=0;function d(){if(o&&!s)for(;a.length;)delete i[a.pop()];else a=[];o=!1,s=!1}var f,h,p;function y(C){if(typeof C=="string"&&(C=C.split(MD,2)),!Qo(C)||C.length!==2)throw new Error("Invalid tags: "+C);f=new RegExp(Ky(C[0])+"\\s*"),h=new RegExp("\\s*"+Ky(C[1])),p=new RegExp("\\s*"+Ky("}"+C[1]))}y(t||Mr.tags);for(var v=new el(e),m,b,O,S,T,x;!v.eos();){if(m=v.pos,O=v.scanUntil(f),O)for(var M=0,I=O.length;M<I;++M)S=O.charAt(M),PD(S)?(a.push(i.length),u+=S):(s=!0,r=!0,u+=" "),i.push(["text",S,m,m+1]),m+=1,S===`
`&&(d(),u="",c=0,r=!1);if(!v.scan(f))break;if(o=!0,b=v.scan(RD)||"name",v.scan(ED),b==="="?(O=v.scanUntil(Vb),v.scan(Vb),v.scanUntil(h)):b==="{"?(O=v.scanUntil(p),v.scan(TD),v.scanUntil(h),b="&"):O=v.scanUntil(h),!v.scan(h))throw new Error("Unclosed tag at "+v.pos);if(b==">"?T=[b,O,m,v.pos,u,c,r]:T=[b,O,m,v.pos],c++,i.push(T),b==="#"||b==="^")n.push(T);else if(b==="/"){if(x=n.pop(),!x)throw new Error('Unopened section "'+O+'" at '+m);if(x[1]!==O)throw new Error('Unclosed section "'+x[1]+'" at '+m)}else b==="name"||b==="{"||b==="&"?s=!0:b==="="&&y(O)}if(d(),x=n.pop(),x)throw new Error('Unclosed section "'+x[1]+'" at '+v.pos);return AD(xD(i))}function xD(e){for(var t=[],r,n,i=0,a=e.length;i<a;++i)r=e[i],r&&(r[0]==="text"&&n&&n[0]==="text"?(n[1]+=r[1],n[3]=r[3]):(t.push(r),n=r));return t}function AD(e){for(var t=[],r=t,n=[],i,a,o=0,s=e.length;o<s;++o)switch(i=e[o],i[0]){case"#":case"^":r.push(i),n.push(i),r=i[4]=[];break;case"/":a=n.pop(),a[5]=i[2],r=n.length>0?n[n.length-1][4]:t;break;default:r.push(i)}return t}function el(e){this.string=e,this.tail=e,this.pos=0}el.prototype.eos=function(){return this.tail===""};el.prototype.scan=function(t){var r=this.tail.match(t);if(!r||r.index!==0)return"";var n=r[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n};el.prototype.scanUntil=function(t){var r=this.tail.search(t),n;switch(r){case-1:n=this.tail,this.tail="";break;case 0:n="";break;default:n=this.tail.substring(0,r),this.tail=this.tail.substring(r)}return this.pos+=n.length,n};function Uo(e,t){this.view=e,this.cache={".":this.view},this.parent=t}Uo.prototype.push=function(t){return new Uo(t,this)};Uo.prototype.lookup=function(t){var r=this.cache,n;if(r.hasOwnProperty(t))n=r[t];else{for(var i=this,a,o,s,u=!1;i;){if(t.indexOf(".")>0)for(a=i.view,o=t.split("."),s=0;a!=null&&s<o.length;)s===o.length-1&&(u=Ub(a,o[s])||bD(a,o[s])),a=a[o[s++]];else a=i.view[t],u=Ub(i.view,t);if(u){n=a;break}i=i.parent}r[t]=n}return d_(n)&&(n=n.call(this.view)),n};function er(){this.templateCache={_cache:{},set:function(t,r){this._cache[t]=r},get:function(t){return this._cache[t]},clear:function(){this._cache={}}}}er.prototype.clearCache=function(){typeof this.templateCache<"u"&&this.templateCache.clear()};er.prototype.parse=function(t,r){var n=this.templateCache,i=t+":"+(r||Mr.tags).join(":"),a=typeof n<"u",o=a?n.get(i):void 0;return o==null&&(o=$D(t,r),a&&n.set(i,o)),o};er.prototype.render=function(t,r,n,i){var a=this.getConfigTags(i),o=this.parse(t,a),s=r instanceof Uo?r:new Uo(r,void 0);return this.renderTokens(o,s,n,t,i)};er.prototype.renderTokens=function(t,r,n,i,a){for(var o="",s,u,c,d=0,f=t.length;d<f;++d)c=void 0,s=t[d],u=s[0],u==="#"?c=this.renderSection(s,r,n,i,a):u==="^"?c=this.renderInverted(s,r,n,i,a):u===">"?c=this.renderPartial(s,r,n,a):u==="&"?c=this.unescapedValue(s,r):u==="name"?c=this.escapedValue(s,r,a):u==="text"&&(c=this.rawValue(s)),c!==void 0&&(o+=c);return o};er.prototype.renderSection=function(t,r,n,i,a){var o=this,s="",u=r.lookup(t[1]);function c(h){return o.render(h,r,n,a)}if(!!u){if(Qo(u))for(var d=0,f=u.length;d<f;++d)s+=this.renderTokens(t[4],r.push(u[d]),n,i,a);else if(typeof u=="object"||typeof u=="string"||typeof u=="number")s+=this.renderTokens(t[4],r.push(u),n,i,a);else if(d_(u)){if(typeof i!="string")throw new Error("Cannot use higher-order sections without the original template");u=u.call(r.view,i.slice(t[3],t[5]),c),u!=null&&(s+=u)}else s+=this.renderTokens(t[4],r,n,i,a);return s}};er.prototype.renderInverted=function(t,r,n,i,a){var o=r.lookup(t[1]);if(!o||Qo(o)&&o.length===0)return this.renderTokens(t[4],r,n,i,a)};er.prototype.indentPartial=function(t,r,n){for(var i=r.replace(/[^ \t]/g,""),a=t.split(`
`),o=0;o<a.length;o++)a[o].length&&(o>0||!n)&&(a[o]=i+a[o]);return a.join(`
`)};er.prototype.renderPartial=function(t,r,n,i){if(!!n){var a=this.getConfigTags(i),o=d_(n)?n(t[1]):n[t[1]];if(o!=null){var s=t[6],u=t[5],c=t[4],d=o;u==0&&c&&(d=this.indentPartial(o,c,s));var f=this.parse(d,a);return this.renderTokens(f,r,n,d,i)}}};er.prototype.unescapedValue=function(t,r){var n=r.lookup(t[1]);if(n!=null)return n};er.prototype.escapedValue=function(t,r,n){var i=this.getConfigEscape(n)||Mr.escape,a=r.lookup(t[1]);if(a!=null)return typeof a=="number"&&i===Mr.escape?String(a):i(a)};er.prototype.rawValue=function(t){return t[1]};er.prototype.getConfigTags=function(t){return Qo(t)?t:t&&typeof t=="object"?t.tags:void 0};er.prototype.getConfigEscape=function(t){if(t&&typeof t=="object"&&!Qo(t))return t.escape};var Mr={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(e){Nu.templateCache=e},get templateCache(){return Nu.templateCache}},Nu=new er;Mr.clearCache=function(){return Nu.clearCache()};Mr.parse=function(t,r){return Nu.parse(t,r)};Mr.render=function(t,r,n,i){if(typeof t!="string")throw new TypeError('Invalid template! Template should be a "string" but "'+gD(t)+'" was given as the first argument for mustache#render(template, view, partials)');return Nu.render(t,r,n,i)};Mr.escape=CD;Mr.Scanner=el;Mr.Context=Uo;Mr.Writer=er;const ff=e=>{const t=e.split(""),r=[],n=(a,o)=>{for(let s=o;s<t.length;s+=1)if(a.includes(t[s]))return s;return-1};let i=0;for(;i<t.length;)if(t[i]==="{"&&i+1<t.length&&t[i+1]==="{")r.push({type:"literal",text:"{"}),i+=2;else if(t[i]==="}"&&i+1<t.length&&t[i+1]==="}")r.push({type:"literal",text:"}"}),i+=2;else if(t[i]==="{"){const a=n("}",i);if(a<0)throw new Error("Unclosed '{' in template.");r.push({type:"variable",name:t.slice(i+1,a).join("")}),i=a+1}else{if(t[i]==="}")throw new Error("Single '}' in template.");{const a=n("{}",i),o=(a<0?t.slice(i):t.slice(i,a)).join("");r.push({type:"literal",text:o}),i=a<0?t.length:a}}return r},ID=e=>e.map(t=>t[0]==="name"?{type:"variable",name:t[1].includes(".")?t[1].split(".")[0]:t[1]}:t[0]==="#"?{type:"variable",name:t[1]}:{type:"literal",text:t[1]}),DD=e=>{const t=Mr.parse(e);return ID(t)},zD=(e,t)=>ff(e).reduce((r,n)=>{if(n.type==="variable"){if(n.name in t)return r+t[n.name];throw new Error(`(f-string) Missing value for input ${n.name}`)}return r+n.text},""),ND=(e,t)=>Mr.render(e,t),om={"f-string":zD,mustache:ND},BD={"f-string":ff,mustache:DD},ks=(e,t,r)=>om[t](e,r),FD=(e,t)=>BD[t](e),SP=(e,t,r)=>{if(!(t in om)){const n=Object.keys(om);throw new Error(`Invalid template format. Got \`${t}\`;
                         should be one of ${n}`)}try{const n=r.reduce((i,a)=>(i[a]="foo",i),{});Array.isArray(e)?e.forEach(i=>{if(i.type==="text")ks(i.text,t,n);else if(i.type==="image_url")if(typeof i.image_url=="string")ks(i.image_url,t,n);else{const a=i.image_url.url;ks(a,t,n)}else throw new Error(`Invalid message template received. ${JSON.stringify(i,null,2)}`)}):ks(e,t,n)}catch(n){throw new Error(`Invalid prompt schema: ${n.message}`)}};class wt extends am{static lc_name(){return"PromptTemplate"}constructor(t){if(super(t),Object.defineProperty(this,"template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"templateFormat",{enumerable:!0,configurable:!0,writable:!0,value:"f-string"}),Object.defineProperty(this,"validateTemplate",{enumerable:!0,configurable:!0,writable:!0,value:!0}),t.templateFormat==="mustache"&&t.validateTemplate===void 0&&(this.validateTemplate=!1),Object.assign(this,t),this.validateTemplate){if(this.templateFormat==="mustache")throw new Error("Mustache templates cannot be validated.");let r=this.inputVariables;this.partialVariables&&(r=r.concat(Object.keys(this.partialVariables))),SP(this.template,this.templateFormat,r)}}_getPromptType(){return"prompt"}async format(t){const r=await this.mergePartialAndUserVariables(t);return ks(this.template,this.templateFormat,r)}static fromExamples(t,r,n,i=`

`,a=""){const o=[a,...t,r].join(i);return new wt({inputVariables:n,template:o})}static fromTemplate(t,r){const{templateFormat:n="f-string",...i}=r!=null?r:{},a=new Set;return FD(t,n).forEach(o=>{o.type==="variable"&&a.add(o.name)}),new wt({inputVariables:[...a],templateFormat:n,template:t,...i})}async partial(t){var a;const r=this.inputVariables.filter(o=>!(o in t)),n={...(a=this.partialVariables)!=null?a:{},...t},i={...this,inputVariables:r,partialVariables:n};return new wt(i)}serialize(){if(this.outputParser!==void 0)throw new Error("Cannot serialize a prompt template with an output parser");return{_type:this._getPromptType(),input_variables:this.inputVariables,template:this.template,template_format:this.templateFormat}}static async deserialize(t){if(!t.template)throw new Error("Prompt template must have a template");return new wt({inputVariables:t.input_variables,template:t.template,templateFormat:t.template_format})}}const Kb=Object.freeze(Object.defineProperty({__proto__:null,PromptTemplate:wt},Symbol.toStringTag,{value:"Module"}));class ru extends Kf{static lc_name(){return"ImagePromptTemplate"}constructor(t){var r,n;if(super(t),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","prompts","image"]}),Object.defineProperty(this,"template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"templateFormat",{enumerable:!0,configurable:!0,writable:!0,value:"f-string"}),Object.defineProperty(this,"validateTemplate",{enumerable:!0,configurable:!0,writable:!0,value:!0}),this.template=t.template,this.templateFormat=(r=t.templateFormat)!=null?r:this.templateFormat,this.validateTemplate=(n=t.validateTemplate)!=null?n:this.validateTemplate,this.validateTemplate){let i=this.inputVariables;this.partialVariables&&(i=i.concat(Object.keys(this.partialVariables))),SP([{type:"image_url",image_url:this.template}],this.templateFormat,i)}}_getPromptType(){return"prompt"}async partial(t){var a;const r=this.inputVariables.filter(o=>!(o in t)),n={...(a=this.partialVariables)!=null?a:{},...t},i={...this,inputVariables:r,partialVariables:n};return new ru(i)}async format(t){const r={};for(const[o,s]of Object.entries(this.template))typeof s=="string"?r[o]=s.replace(/{([^{}]*)}/g,(u,c)=>{const d=t[c];return typeof d=="string"||typeof d=="number"?String(d):u}):r[o]=s;const n=t.url||r.url,i=t.detail||r.detail;if(!n)throw new Error("Must provide either an image URL.");if(typeof n!="string")throw new Error("url must be a string.");const a={url:n};return i&&(a.detail=i),a}async formatPromptValue(t){const r=await this.format(t);return new uD(r)}}class f_ extends ut{constructor(){super(...arguments),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","prompts","chat"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0})}async invoke(t,r){return this._callWithConfig(n=>this.formatMessages(n),t,{...r,runType:"prompt"})}}class LD extends f_{static lc_name(){return"MessagesPlaceholder"}constructor(t){var r;typeof t=="string"&&(t={variableName:t}),super(t),Object.defineProperty(this,"variableName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"optional",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.variableName=t.variableName,this.optional=(r=t.optional)!=null?r:!1}get inputVariables(){return[this.variableName]}validateInputOrThrow(t,r){if(this.optional&&!t)return!1;if(!t){const i=new Error(`Error: Field "${r}" in prompt uses a MessagesPlaceholder, which expects an array of BaseMessages as an input value. Received: undefined`);throw i.name="InputFormatError",i}let n=!1;if(Array.isArray(t)?n=t.every(i=>Qd(i)):n=Qd(t),!n){const i=typeof t=="string"?t:JSON.stringify(t,null,2),a=new Error(`Error: Field "${r}" in prompt uses a MessagesPlaceholder, which expects an array of BaseMessages as an input value. Received: ${i}`);throw a.name="InputFormatError",a}return!0}async formatMessages(t){var r;return this.validateInputOrThrow(t[this.variableName],this.variableName),(r=t[this.variableName])!=null?r:[]}}class UD extends f_{constructor(t){"prompt"in t||(t={prompt:t}),super(t),Object.defineProperty(this,"prompt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.prompt=t.prompt}get inputVariables(){return this.prompt.inputVariables}async formatMessages(t){return[await this.format(t)]}}class VD extends Kf{constructor(t){super(t)}async format(t){return(await this.formatPromptValue(t)).toString()}async formatPromptValue(t){const r=await this.formatMessages(t);return new _P(r)}}class KD extends UD{static lc_name(){return"ChatMessagePromptTemplate"}constructor(t,r){"prompt"in t||(t={prompt:t,role:r}),super(t),Object.defineProperty(this,"role",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.role=t.role}async format(t){return new Bf(await this.prompt.format(t),this.role)}static fromTemplate(t,r,n){return new this(wt.fromTemplate(t,{templateFormat:n==null?void 0:n.templateFormat}),r)}}class h_ extends f_{static _messageClass(){throw new Error("Can not invoke _messageClass from inside _StringImageMessagePromptTemplate")}constructor(t,r){if("prompt"in t||(t={prompt:t}),super(t),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","prompts","chat"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"inputVariables",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"additionalOptions",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"prompt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"messageClass",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"chatMessageClass",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.prompt=t.prompt,Array.isArray(this.prompt)){let n=[];this.prompt.forEach(i=>{"inputVariables"in i&&(n=n.concat(i.inputVariables))}),this.inputVariables=n}else this.inputVariables=this.prompt.inputVariables;this.additionalOptions=r!=null?r:this.additionalOptions}createMessage(t){const r=this.constructor;if(r._messageClass()){const n=r._messageClass();return new n({content:t})}else if(r.chatMessageClass){const n=r.chatMessageClass();return new n({content:t,role:this.getRoleFromMessageClass(n.lc_name())})}else throw new Error("No message class defined")}getRoleFromMessageClass(t){switch(t){case"HumanMessage":return"human";case"AIMessage":return"ai";case"SystemMessage":return"system";case"ChatMessage":return"chat";default:throw new Error("Invalid message class name")}}static fromTemplate(t,r){var i,a,o;if(typeof t=="string")return new this(wt.fromTemplate(t,r));const n=[];for(const s of t)if(typeof s=="string"||typeof s=="object"&&"text"in s){let u="";typeof s=="string"?u=s:typeof s.text=="string"&&(u=(i=s.text)!=null?i:""),n.push(wt.fromTemplate(u))}else if(typeof s=="object"&&"image_url"in s){let u=(a=s.image_url)!=null?a:"",c,d=[];if(typeof u=="string"){const h=ff(u).flatMap(p=>p.type==="variable"?[p.name]:[]);if(((o=h==null?void 0:h.length)!=null?o:0)>0){if(h.length>1)throw new Error(`Only one format variable allowed per image template.
Got: ${h}
From: ${u}`);d=[h[0]]}else d=[];u={url:u},c=new ru({template:u,inputVariables:d})}else if(typeof u=="object")"url"in u?d=ff(u.url).flatMap(h=>h.type==="variable"?[h.name]:[]):d=[],c=new ru({template:u,inputVariables:d});else throw new Error("Invalid image template");n.push(c)}return new this({prompt:n,additionalOptions:r})}async format(t){if(this.prompt instanceof am){const r=await this.prompt.format(t);return this.createMessage(r)}else{const r=[];for(const n of this.prompt){let i={};if(!("inputVariables"in n))throw new Error(`Prompt ${n} does not have inputVariables defined.`);for(const a of n.inputVariables)i||(i={[a]:t[a]}),i={...i,[a]:t[a]};if(n instanceof am){const a=await n.format(i);r.push({type:"text",text:a})}else if(n instanceof ru){const a=await n.format(i);r.push({type:"image_url",image_url:a})}}return this.createMessage(r)}}async formatMessages(t){return[await this.format(t)]}}class Ni extends h_{static _messageClass(){return Tn}static lc_name(){return"HumanMessagePromptTemplate"}}class PP extends h_{static _messageClass(){return Fa}static lc_name(){return"AIMessagePromptTemplate"}}class tl extends h_{static _messageClass(){return zS}static lc_name(){return"SystemMessagePromptTemplate"}}function HD(e){return typeof e.formatMessages=="function"}function GD(e,t){if(HD(e)||Qd(e))return e;if(Array.isArray(e)&&e[0]==="placeholder"){const i=e[1];if(typeof i!="string"||i[0]!=="{"||i[i.length-1]!=="}")throw new Error(`Invalid placeholder template: "${e[1]}". Expected a variable name surrounded by curly braces.`);const a=i.slice(1,-1);return new LD({variableName:a,optional:!0})}const r=Co(e);let n;if(typeof r.content=="string"?n=r.content:n=r.content.map(i=>"text"in i?{text:i.text}:"image_url"in i?{image_url:i.image_url}:i),r._getType()==="human")return Ni.fromTemplate(n,t);if(r._getType()==="ai")return PP.fromTemplate(n,t);if(r._getType()==="system")return tl.fromTemplate(n,t);if(Bf.isInstance(r))return KD.fromTemplate(r.content,r.role,t);throw new Error(`Could not coerce message prompt template from input. Received message type: "${r._getType()}".`)}function qD(e){return e.constructor.lc_name()==="MessagesPlaceholder"}class qn extends VD{static lc_name(){return"ChatPromptTemplate"}get lc_aliases(){return{promptMessages:"messages"}}constructor(t){if(super(t),Object.defineProperty(this,"promptMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"validateTemplate",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"templateFormat",{enumerable:!0,configurable:!0,writable:!0,value:"f-string"}),t.templateFormat==="mustache"&&t.validateTemplate===void 0&&(this.validateTemplate=!1),Object.assign(this,t),this.validateTemplate){const r=new Set;for(const s of this.promptMessages)if(!(s instanceof Ti))for(const u of s.inputVariables)r.add(u);const n=this.inputVariables,i=new Set(this.partialVariables?n.concat(Object.keys(this.partialVariables)):n),a=new Set([...i].filter(s=>!r.has(s)));if(a.size>0)throw new Error(`Input variables \`${[...a]}\` are not used in any of the prompt messages.`);const o=new Set([...r].filter(s=>!i.has(s)));if(o.size>0)throw new Error(`Input variables \`${[...o]}\` are used in prompt messages but not in the prompt template.`)}}_getPromptType(){return"chat"}async _parseImagePrompts(t,r){if(typeof t.content=="string")return t;const n=await Promise.all(t.content.map(async i=>{if(i.type!=="image_url")return i;let a="";typeof i.image_url=="string"?a=i.image_url:a=i.image_url.url;const s=await wt.fromTemplate(a).format(r);return typeof i.image_url!="string"&&"url"in i.image_url?i.image_url.url=s:i.image_url=s,i}));return t.content=n,t}async formatMessages(t){const r=await this.mergePartialAndUserVariables(t);let n=[];for(const i of this.promptMessages)if(i instanceof Ti)n.push(await this._parseImagePrompts(i,r));else{const a=i.inputVariables.reduce((s,u)=>{if(!(u in r)&&!(qD(i)&&i.optional))throw new Error(`Missing value for input variable \`${u.toString()}\``);return s[u]=r[u],s},{}),o=await i.formatMessages(a);n=n.concat(o)}return n}async partial(t){var a;const r=this.inputVariables.filter(o=>!(o in t)),n={...(a=this.partialVariables)!=null?a:{},...t},i={...this,inputVariables:r,partialVariables:n};return new qn(i)}static fromTemplate(t,r){const n=wt.fromTemplate(t,r),i=new Ni({prompt:n});return this.fromMessages([i])}static fromMessages(t,r){const n=t.reduce((o,s)=>o.concat(s instanceof qn?s.promptMessages:[GD(s,r)]),[]),i=t.reduce((o,s)=>s instanceof qn?Object.assign(o,s.partialVariables):o,Object.create(null)),a=new Set;for(const o of n)if(!(o instanceof Ti))for(const s of o.inputVariables)s in i||a.add(s);return new this({...r,inputVariables:[...a],promptMessages:n,partialVariables:i,templateFormat:r==null?void 0:r.templateFormat})}static fromPromptMessages(t){return this.fromMessages(t)}}class kD extends fD{constructor(){super(...arguments),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","output_parsers","default"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0})}static lc_name(){return"NoOpOutputParser"}parse(t){return Promise.resolve(t)}getFormatInstructions(){return""}}function WD(e){return typeof e._llmType=="function"}function Rd(e){if(WD(e))return e;if("bound"in e&&ut.isRunnable(e.bound))return Rd(e.bound);if("runnable"in e&&"fallbacks"in e&&ut.isRunnable(e.runnable))return Rd(e.runnable);if("default"in e&&ut.isRunnable(e.default))return Rd(e.default);throw new Error("Unable to extract BaseLanguageModel from llmLike object.")}class Tr extends Qu{static lc_name(){return"LLMChain"}get inputKeys(){return this.prompt.inputVariables}get outputKeys(){return[this.outputKey]}constructor(t){var r,n;if(super(t),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"prompt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"llm",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"llmKwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"outputKey",{enumerable:!0,configurable:!0,writable:!0,value:"text"}),Object.defineProperty(this,"outputParser",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.prompt=t.prompt,this.llm=t.llm,this.llmKwargs=t.llmKwargs,this.outputKey=(r=t.outputKey)!=null?r:this.outputKey,this.outputParser=(n=t.outputParser)!=null?n:new kD,this.prompt.outputParser){if(t.outputParser)throw new Error("Cannot set both outputParser and prompt.outputParser");this.outputParser=this.prompt.outputParser}}getCallKeys(){return"callKeys"in this.llm?this.llm.callKeys:[]}_selectMemoryInputs(t){const r=super._selectMemoryInputs(t),n=this.getCallKeys();for(const i of n)i in t&&delete r[i];return r}async _getFinalOutput(t,r,n){let i;return this.outputParser?i=await this.outputParser.parseResultWithPrompt(t,r,n==null?void 0:n.getChild()):i=t[0].text,i}call(t,r){return super.call(t,r)}async _call(t,r){const n={...t},i={...this.llmKwargs},a=this.getCallKeys();for(const c of a)c in t&&i&&(i[c]=t[c],delete n[c]);const o=await this.prompt.formatPromptValue(n);if("generatePrompt"in this.llm){const{generations:c}=await this.llm.generatePrompt([o],i,r==null?void 0:r.getChild());return{[this.outputKey]:await this._getFinalOutput(c[0],o,r)}}const u=await(this.outputParser?this.llm.pipe(this.outputParser):this.llm).invoke(o,r==null?void 0:r.getChild());return{[this.outputKey]:u}}async predict(t,r){return(await this.call(t,r))[this.outputKey]}_chainType(){return"llm"}static async deserialize(t){const{llm:r,prompt:n}=t;if(!r)throw new Error("LLMChain must have llm");if(!n)throw new Error("LLMChain must have prompt");return new Tr({llm:await bP.deserialize(r),prompt:await Kf.deserialize(n)})}serialize(){const t="serialize"in this.llm?this.llm.serialize():void 0;return{_type:`${this._chainType()}_chain`,llm:t,prompt:this.prompt.serialize()}}_getNumTokens(t){return Rd(this.llm).getNumTokens(t)}}const XD=Object.freeze(Object.defineProperty({__proto__:null,LLMChain:Tr},Symbol.toStringTag,{value:"Module"}));class ZD{}const jP=(e,t)=>{if(t!==void 0)return e[t];const r=Object.keys(e);if(r.length===1)return e[r[0]]},JD=(e,t)=>{const r=jP(e,t);if(!r){const n=Object.keys(e);throw new Error(`input values have ${n.length} keys, you must specify an input key or pass only 1 key as input`)}return r},YD=(e,t)=>{const r=jP(e,t);if(!r){const n=Object.keys(e);throw new Error(`output values have ${n.length} keys, you must specify an output key or pass only 1 key as output`)}return r};class QD extends Zn{addUserMessage(t){return this.addMessage(new Tn(t))}addAIChatMessage(t){return this.addMessage(new Fa(t))}addAIMessage(t){return this.addMessage(new Fa(t))}async addMessages(t){for(const r of t)await this.addMessage(r)}clear(){throw new Error("Not implemented.")}}class ez extends QD{constructor(t){super(...arguments),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","stores","message","in_memory"]}),Object.defineProperty(this,"messages",{enumerable:!0,configurable:!0,writable:!0,value:[]}),this.messages=t!=null?t:[]}async getMessages(){return this.messages}async addMessage(t){this.messages.push(t)}async clear(){this.messages=[]}}class tz extends ZD{constructor(t){var r,n,i,a;super(),Object.defineProperty(this,"chatHistory",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"returnMessages",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"inputKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"outputKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.chatHistory=(r=t==null?void 0:t.chatHistory)!=null?r:new ez,this.returnMessages=(n=t==null?void 0:t.returnMessages)!=null?n:this.returnMessages,this.inputKey=(i=t==null?void 0:t.inputKey)!=null?i:this.inputKey,this.outputKey=(a=t==null?void 0:t.outputKey)!=null?a:this.outputKey}async saveContext(t,r){await this.chatHistory.addUserMessage(JD(t,this.inputKey)),await this.chatHistory.addAIChatMessage(YD(r,this.outputKey))}async clear(){await this.chatHistory.clear()}}class rz extends tz{constructor(t){var r,n,i,a;super({chatHistory:t==null?void 0:t.chatHistory,returnMessages:(r=t==null?void 0:t.returnMessages)!=null?r:!1,inputKey:t==null?void 0:t.inputKey,outputKey:t==null?void 0:t.outputKey}),Object.defineProperty(this,"humanPrefix",{enumerable:!0,configurable:!0,writable:!0,value:"Human"}),Object.defineProperty(this,"aiPrefix",{enumerable:!0,configurable:!0,writable:!0,value:"AI"}),Object.defineProperty(this,"memoryKey",{enumerable:!0,configurable:!0,writable:!0,value:"history"}),this.humanPrefix=(n=t==null?void 0:t.humanPrefix)!=null?n:this.humanPrefix,this.aiPrefix=(i=t==null?void 0:t.aiPrefix)!=null?i:this.aiPrefix,this.memoryKey=(a=t==null?void 0:t.memoryKey)!=null?a:this.memoryKey}get memoryKeys(){return[this.memoryKey]}async loadMemoryVariables(t){const r=await this.chatHistory.getMessages();return this.returnMessages?{[this.memoryKey]:r}:{[this.memoryKey]:o_(r,this.humanPrefix,this.aiPrefix)}}}class es extends Qu{static lc_name(){return"StuffDocumentsChain"}get inputKeys(){return[this.inputKey,...this.llmChain.inputKeys].filter(t=>t!==this.documentVariableName)}get outputKeys(){return this.llmChain.outputKeys}constructor(t){var r,n;super(t),Object.defineProperty(this,"llmChain",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inputKey",{enumerable:!0,configurable:!0,writable:!0,value:"input_documents"}),Object.defineProperty(this,"documentVariableName",{enumerable:!0,configurable:!0,writable:!0,value:"context"}),this.llmChain=t.llmChain,this.documentVariableName=(r=t.documentVariableName)!=null?r:this.documentVariableName,this.inputKey=(n=t.inputKey)!=null?n:this.inputKey}_prepInputs(t){if(!(this.inputKey in t))throw new Error(`Document key ${this.inputKey} not found.`);const{[this.inputKey]:r,...n}=t,a=r.map(({pageContent:o})=>o).join(`

`);return{...n,[this.documentVariableName]:a}}async _call(t,r){return await this.llmChain.call(this._prepInputs(t),r==null?void 0:r.getChild("combine_documents"))}_chainType(){return"stuff_documents_chain"}static async deserialize(t){if(!t.llm_chain)throw new Error("Missing llm_chain");return new es({llmChain:await Tr.deserialize(t.llm_chain)})}serialize(){return{_type:this._chainType(),llm_chain:this.llmChain.serialize()}}}class Hf extends Qu{static lc_name(){return"MapReduceDocumentsChain"}get inputKeys(){return[this.inputKey,...this.combineDocumentChain.inputKeys]}get outputKeys(){return this.combineDocumentChain.outputKeys}constructor(t){var r,n,i,a,o,s;super(t),Object.defineProperty(this,"llmChain",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inputKey",{enumerable:!0,configurable:!0,writable:!0,value:"input_documents"}),Object.defineProperty(this,"documentVariableName",{enumerable:!0,configurable:!0,writable:!0,value:"context"}),Object.defineProperty(this,"returnIntermediateSteps",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"maxTokens",{enumerable:!0,configurable:!0,writable:!0,value:3e3}),Object.defineProperty(this,"maxIterations",{enumerable:!0,configurable:!0,writable:!0,value:10}),Object.defineProperty(this,"ensureMapStep",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"combineDocumentChain",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.llmChain=t.llmChain,this.combineDocumentChain=t.combineDocumentChain,this.documentVariableName=(r=t.documentVariableName)!=null?r:this.documentVariableName,this.ensureMapStep=(n=t.ensureMapStep)!=null?n:this.ensureMapStep,this.inputKey=(i=t.inputKey)!=null?i:this.inputKey,this.maxTokens=(a=t.maxTokens)!=null?a:this.maxTokens,this.maxIterations=(o=t.maxIterations)!=null?o:this.maxIterations,this.returnIntermediateSteps=(s=t.returnIntermediateSteps)!=null?s:!1}async _call(t,r){if(!(this.inputKey in t))throw new Error(`Document key ${this.inputKey} not found.`);const{[this.inputKey]:n,...i}=t;let a=n,o=[];for(let c=0;c<this.maxIterations;c+=1){const d=a.map(y=>({[this.documentVariableName]:y.pageContent,...i}));if(c!==0||!this.ensureMapStep){const y=await this.combineDocumentChain.llmChain.prompt.format(this.combineDocumentChain._prepInputs({[this.combineDocumentChain.inputKey]:a,...i}));if(await this.combineDocumentChain.llmChain._getNumTokens(y)<this.maxTokens)break}const h=await this.llmChain.apply(d,r?Array.from({length:d.length},(y,v)=>r.getChild(`map_${v+1}`)):void 0),{outputKey:p}=this.llmChain;this.returnIntermediateSteps&&(o=o.concat(h.map(y=>y[p]))),a=h.map(y=>({pageContent:y[p],metadata:{}}))}const s={[this.combineDocumentChain.inputKey]:a,...i},u=await this.combineDocumentChain.call(s,r==null?void 0:r.getChild("combine_documents"));return this.returnIntermediateSteps?{...u,intermediateSteps:o}:u}_chainType(){return"map_reduce_documents_chain"}static async deserialize(t){if(!t.llm_chain)throw new Error("Missing llm_chain");if(!t.combine_document_chain)throw new Error("Missing combine_document_chain");return new Hf({llmChain:await Tr.deserialize(t.llm_chain),combineDocumentChain:await es.deserialize(t.combine_document_chain)})}serialize(){return{_type:this._chainType(),llm_chain:this.llmChain.serialize(),combine_document_chain:this.combineDocumentChain.serialize()}}}class Gf extends Qu{static lc_name(){return"RefineDocumentsChain"}get defaultDocumentPrompt(){return new wt({inputVariables:["page_content"],template:"{page_content}"})}get inputKeys(){return[...new Set([this.inputKey,...this.llmChain.inputKeys,...this.refineLLMChain.inputKeys])].filter(t=>t!==this.documentVariableName&&t!==this.initialResponseName)}get outputKeys(){return[this.outputKey]}constructor(t){var r,n,i,a,o;super(t),Object.defineProperty(this,"llmChain",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inputKey",{enumerable:!0,configurable:!0,writable:!0,value:"input_documents"}),Object.defineProperty(this,"outputKey",{enumerable:!0,configurable:!0,writable:!0,value:"output_text"}),Object.defineProperty(this,"documentVariableName",{enumerable:!0,configurable:!0,writable:!0,value:"context"}),Object.defineProperty(this,"initialResponseName",{enumerable:!0,configurable:!0,writable:!0,value:"existing_answer"}),Object.defineProperty(this,"refineLLMChain",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"documentPrompt",{enumerable:!0,configurable:!0,writable:!0,value:this.defaultDocumentPrompt}),this.llmChain=t.llmChain,this.refineLLMChain=t.refineLLMChain,this.documentVariableName=(r=t.documentVariableName)!=null?r:this.documentVariableName,this.inputKey=(n=t.inputKey)!=null?n:this.inputKey,this.outputKey=(i=t.outputKey)!=null?i:this.outputKey,this.documentPrompt=(a=t.documentPrompt)!=null?a:this.documentPrompt,this.initialResponseName=(o=t.initialResponseName)!=null?o:this.initialResponseName}async _constructInitialInputs(t,r){const n={page_content:t.pageContent,...t.metadata},i={};return this.documentPrompt.inputVariables.forEach(s=>{i[s]=n[s]}),{...{[this.documentVariableName]:await this.documentPrompt.format({...i})},...r}}async _constructRefineInputs(t,r){const n={page_content:t.pageContent,...t.metadata},i={};this.documentPrompt.inputVariables.forEach(s=>{i[s]=n[s]});const a={[this.documentVariableName]:await this.documentPrompt.format({...i})};return{[this.initialResponseName]:r,...a}}async _call(t,r){if(!(this.inputKey in t))throw new Error(`Document key ${this.inputKey} not found.`);const{[this.inputKey]:n,...i}=t,a=n,o=await this._constructInitialInputs(a[0],i);let s=await this.llmChain.predict({...o},r==null?void 0:r.getChild("answer"));for(let u=1;u<a.length;u+=1){const d={...await this._constructRefineInputs(a[u],s),...i};s=await this.refineLLMChain.predict({...d},r==null?void 0:r.getChild("refine"))}return{[this.outputKey]:s}}_chainType(){return"refine_documents_chain"}static async deserialize(t){const r=t.llm_chain;if(!r)throw new Error("Missing llm_chain");const n=t.refine_llm_chain;if(!n)throw new Error("Missing refine_llm_chain");return new Gf({llmChain:await Tr.deserialize(r),refineLLMChain:await Tr.deserialize(n)})}serialize(){return{_type:this._chainType(),llm_chain:this.llmChain.serialize(),refine_llm_chain:this.refineLLMChain.serialize()}}}const Hy=Object.freeze(Object.defineProperty({__proto__:null,StuffDocumentsChain:es,MapReduceDocumentsChain:Hf,RefineDocumentsChain:Gf},Symbol.toStringTag,{value:"Module"}));class nz{async getPromptAsync(t,r){var i;return this.getPrompt(t).partial((i=r==null?void 0:r.partialVariables)!=null?i:{})}}class rl extends nz{constructor(t,r=[]){super(),Object.defineProperty(this,"defaultPrompt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"conditionals",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.defaultPrompt=t,this.conditionals=r}getPrompt(t){for(const[r,n]of this.conditionals)if(r(t))return n;return this.defaultPrompt}}function nl(e){return e._modelType()==="base_chat_model"}const iz=new wt({template:`Use the following pieces of context to answer the question at the end. If you don't know the answer, just say that you don't know, don't try to make up an answer.

{context}

Question: {question}
Helpful Answer:`,inputVariables:["context","question"]}),az=`Use the following pieces of context to answer the users question. 
If you don't know the answer, just say that you don't know, don't try to make up an answer.
----------------
{context}`,oz=[tl.fromTemplate(az),Ni.fromTemplate("{question}")],sz=qn.fromMessages(oz),uz=new rl(iz,[[nl,sz]]),lz=`Use the following portion of a long document to see if any of the text is relevant to answer the question. 
Return any relevant text verbatim.
{context}
Question: {question}
Relevant text, if any:`,cz=wt.fromTemplate(lz),dz=`Use the following portion of a long document to see if any of the text is relevant to answer the question. 
Return any relevant text verbatim.
----------------
{context}`,fz=[tl.fromTemplate(dz),Ni.fromTemplate("{question}")],hz=qn.fromMessages(fz),pz=new rl(cz,[[nl,hz]]),yz=`Given the following extracted parts of a long document and a question, create a final answer. 
If you don't know the answer, just say that you don't know. Don't try to make up an answer.

QUESTION: Which state/country's law governs the interpretation of the contract?
=========
Content: This Agreement is governed by English law and the parties submit to the exclusive jurisdiction of the English courts in  relation to any dispute (contractual or non-contractual) concerning this Agreement save that either party may apply to any court for an  injunction or other relief to protect its Intellectual Property Rights.

Content: No Waiver. Failure or delay in exercising any right or remedy under this Agreement shall not constitute a waiver of such (or any other)  right or remedy.

11.7 Severability. The invalidity, illegality or unenforceability of any term (or part of a term) of this Agreement shall not affect the continuation  in force of the remainder of the term (if any) and this Agreement.

11.8 No Agency. Except as expressly stated otherwise, nothing in this Agreement shall create an agency, partnership or joint venture of any  kind between the parties.

11.9 No Third-Party Beneficiaries.

Content: (b) if Google believes, in good faith, that the Distributor has violated or caused Google to violate any Anti-Bribery Laws (as  defined in Clause 8.5) or that such a violation is reasonably likely to occur,
=========
FINAL ANSWER: This Agreement is governed by English law.

QUESTION: What did the president say about Michael Jackson?
=========
Content: Madam Speaker, Madam Vice President, our First Lady and Second Gentleman. Members of Congress and the Cabinet. Justices of the Supreme Court. My fellow Americans.  

Last year COVID-19 kept us apart. This year we are finally together again. 

Tonight, we meet as Democrats Republicans and Independents. But most importantly as Americans. 

With a duty to one another to the American people to the Constitution. 

And with an unwavering resolve that freedom will always triumph over tyranny. 

Six days ago, Russia\u2019s Vladimir Putin sought to shake the foundations of the free world thinking he could make it bend to his menacing ways. But he badly miscalculated. 

He thought he could roll into Ukraine and the world would roll over. Instead he met a wall of strength he never imagined. 

He met the Ukrainian people. 

From President Zelenskyy to every Ukrainian, their fearlessness, their courage, their determination, inspires the world. 

Groups of citizens blocking tanks with their bodies. Everyone from students to retirees teachers turned soldiers defending their homeland.

Content: And we won\u2019t stop. 

We have lost so much to COVID-19. Time with one another. And worst of all, so much loss of life. 

Let\u2019s use this moment to reset. Let\u2019s stop looking at COVID-19 as a partisan dividing line and see it for what it is: A God-awful disease.  

Let\u2019s stop seeing each other as enemies, and start seeing each other for who we really are: Fellow Americans.  

We can\u2019t change how divided we\u2019ve been. But we can change how we move forward\u2014on COVID-19 and other issues we must face together. 

I recently visited the New York City Police Department days after the funerals of Officer Wilbert Mora and his partner, Officer Jason Rivera. 

They were responding to a 9-1-1 call when a man shot and killed them with a stolen gun. 

Officer Mora was 27 years old. 

Officer Rivera was 22. 

Both Dominican Americans who\u2019d grown up on the same streets they later chose to patrol as police officers. 

I spoke with their families and told them that we are forever in debt for their sacrifice, and we will carry on their mission to restore the trust and safety every community deserves.

Content: And a proud Ukrainian people, who have known 30 years  of independence, have repeatedly shown that they will not tolerate anyone who tries to take their country backwards.  

To all Americans, I will be honest with you, as I\u2019ve always promised. A Russian dictator, invading a foreign country, has costs around the world. 

And I\u2019m taking robust action to make sure the pain of our sanctions  is targeted at Russia\u2019s economy. And I will use every tool at our disposal to protect American businesses and consumers. 

Tonight, I can announce that the United States has worked with 30 other countries to release 60 Million barrels of oil from reserves around the world.  

America will lead that effort, releasing 30 Million barrels from our own Strategic Petroleum Reserve. And we stand ready to do more if necessary, unified with our allies.  

These steps will help blunt gas prices here at home. And I know the news about what\u2019s happening can seem alarming. 

But I want you to know that we are going to be okay.

Content: More support for patients and families. 

To get there, I call on Congress to fund ARPA-H, the Advanced Research Projects Agency for Health. 

It\u2019s based on DARPA\u2014the Defense Department project that led to the Internet, GPS, and so much more.  

ARPA-H will have a singular purpose\u2014to drive breakthroughs in cancer, Alzheimer\u2019s, diabetes, and more. 

A unity agenda for the nation. 

We can do this. 

My fellow Americans\u2014tonight , we have gathered in a sacred space\u2014the citadel of our democracy. 

In this Capitol, generation after generation, Americans have debated great questions amid great strife, and have done great things. 

We have fought for freedom, expanded liberty, defeated totalitarianism and terror. 

And built the strongest, freest, and most prosperous nation the world has ever known. 

Now is the hour. 

Our moment of responsibility. 

Our test of resolve and conscience, of history itself. 

It is in this moment that our character is formed. Our purpose is found. Our future is forged. 

Well I know this nation.
=========
FINAL ANSWER: The president did not mention Michael Jackson.

QUESTION: {question}
=========
{summaries}
=========
FINAL ANSWER:`,vz=wt.fromTemplate(yz),mz=`Given the following extracted parts of a long document and a question, create a final answer. 
If you don't know the answer, just say that you don't know. Don't try to make up an answer.
----------------
{summaries}`,_z=[tl.fromTemplate(mz),Ni.fromTemplate("{question}")],gz=qn.fromMessages(_z),bz=new rl(vz,[[nl,gz]]),wz=`The original question is as follows: {question}
We have provided an existing answer: {existing_answer}
We have the opportunity to refine the existing answer
(only if needed) with some more context below.
------------
{context}
------------
Given the new context, refine the original answer to better answer the question. 
If the context isn't useful, return the original answer.`,Oz=new wt({inputVariables:["question","existing_answer","context"],template:wz}),Sz=`The original question is as follows: {question}
We have provided an existing answer: {existing_answer}
We have the opportunity to refine the existing answer
(only if needed) with some more context below.
------------
{context}
------------
Given the new context, refine the original answer to better answer the question. 
If the context isn't useful, return the original answer.`,Pz=[Ni.fromTemplate("{question}"),PP.fromTemplate("{existing_answer}"),Ni.fromTemplate(Sz)],jz=qn.fromMessages(Pz),Cz=new rl(Oz,[[nl,jz]]),Ez=`Context information is below. 
---------------------
{context}
---------------------
Given the context information and no prior knowledge, answer the question: {question}`,Mz=new wt({inputVariables:["context","question"],template:Ez}),Tz=`Context information is below. 
---------------------
{context}
---------------------
Given the context information and no prior knowledge, answer any questions`,Rz=[tl.fromTemplate(Tz),Ni.fromTemplate("{question}")],$z=qn.fromMessages(Rz),xz=new rl(Mz,[[nl,$z]]),Az=(e,t={type:"stuff"})=>{const{type:r}=t;if(r==="stuff")return Iz(e,t);if(r==="map_reduce")return Dz(e,t);if(r==="refine")return zz(e,t);throw new Error(`Invalid _type: ${r}`)};function Iz(e,t={}){const{prompt:r=uz.getPrompt(e),verbose:n}=t,i=new Tr({prompt:r,llm:e,verbose:n});return new es({llmChain:i,verbose:n})}function Dz(e,t={}){const{combineMapPrompt:r=pz.getPrompt(e),combinePrompt:n=bz.getPrompt(e),verbose:i,combineLLM:a,returnIntermediateSteps:o}=t,s=new Tr({prompt:r,llm:e,verbose:i}),u=new Tr({prompt:n,llm:a!=null?a:e,verbose:i}),c=new es({llmChain:u,documentVariableName:"summaries",verbose:i});return new Hf({llmChain:s,combineDocumentChain:c,returnIntermediateSteps:o,verbose:i})}function zz(e,t={}){const{questionPrompt:r=xz.getPrompt(e),refinePrompt:n=Cz.getPrompt(e),refineLLM:i,verbose:a}=t,o=new Tr({prompt:r,llm:e,verbose:a}),s=new Tr({prompt:n,llm:i!=null?i:e,verbose:a});return new Gf({llmChain:o,refineLLMChain:s,verbose:a})}const Nz=`Given the following conversation and a follow up question, rephrase the follow up question to be a standalone question.

Chat History:
{chat_history}
Follow Up Input: {question}
Standalone question:`;class p_ extends Qu{static lc_name(){return"ConversationalRetrievalQAChain"}get inputKeys(){return[this.inputKey,this.chatHistoryKey]}get outputKeys(){return this.combineDocumentsChain.outputKeys.concat(this.returnSourceDocuments?["sourceDocuments"]:[])}constructor(t){var r,n,i;super(t),Object.defineProperty(this,"inputKey",{enumerable:!0,configurable:!0,writable:!0,value:"question"}),Object.defineProperty(this,"chatHistoryKey",{enumerable:!0,configurable:!0,writable:!0,value:"chat_history"}),Object.defineProperty(this,"retriever",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"combineDocumentsChain",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"questionGeneratorChain",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"returnSourceDocuments",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"returnGeneratedQuestion",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this.retriever=t.retriever,this.combineDocumentsChain=t.combineDocumentsChain,this.questionGeneratorChain=t.questionGeneratorChain,this.inputKey=(r=t.inputKey)!=null?r:this.inputKey,this.returnSourceDocuments=(n=t.returnSourceDocuments)!=null?n:this.returnSourceDocuments,this.returnGeneratedQuestion=(i=t.returnGeneratedQuestion)!=null?i:this.returnGeneratedQuestion}static getChatHistoryString(t){let r;return Array.isArray(t)?(Array.isArray(t[0])&&typeof t[0][0]=="string"?(console.warn(`Passing chat history as an array of strings is deprecated.
Please see https://js.langchain.com/docs/modules/chains/popular/chat_vector_db#externally-managed-memory for more information.`),r=t.flat().map((n,i)=>i%2===0?new Tn(n):new Fa(n))):r=t,r.map(n=>n._getType()==="human"?`Human: ${n.content}`:n._getType()==="ai"?`Assistant: ${n.content}`:`${n.content}`).join(`
`)):t}async _call(t,r){if(!(this.inputKey in t))throw new Error(`Question key ${this.inputKey} not found.`);if(!(this.chatHistoryKey in t))throw new Error(`Chat history key ${this.chatHistoryKey} not found.`);const n=t[this.inputKey],i=p_.getChatHistoryString(t[this.chatHistoryKey]);let a=n;if(i.length>0){const c=await this.questionGeneratorChain.call({question:n,chat_history:i},r==null?void 0:r.getChild("question_generator")),d=Object.keys(c);if(d.length===1)a=c[d[0]];else throw new Error("Return from llm chain has multiple values, only single values supported.")}const o=await this.retriever.getRelevantDocuments(a,r==null?void 0:r.getChild("retriever")),s={question:a,input_documents:o,chat_history:i};let u=await this.combineDocumentsChain.call(s,r==null?void 0:r.getChild("combine_documents"));return this.returnSourceDocuments&&(u={...u,sourceDocuments:o}),this.returnGeneratedQuestion&&(u={...u,generatedQuestion:a}),u}_chainType(){return"conversational_retrieval_chain"}static async deserialize(t,r){throw new Error("Not implemented.")}serialize(){throw new Error("Not implemented.")}static fromLLM(t,r,n={}){var y,v,m;const{questionGeneratorTemplate:i,qaTemplate:a,qaChainOptions:o={type:"stuff",prompt:a?wt.fromTemplate(a):void 0},questionGeneratorChainOptions:s,verbose:u,...c}=n,d=Az(t,o),f=wt.fromTemplate((v=(y=s==null?void 0:s.template)!=null?y:i)!=null?v:Nz),h=new Tr({prompt:f,llm:(m=s==null?void 0:s.llm)!=null?m:t,verbose:u});return new this({retriever:r,combineDocumentsChain:d,questionGeneratorChain:h,verbose:u,...c})}}const Bz=(e,t)=>e.reduce((r,n,i)=>{const a=Math.floor(i/t),o=r[a]||[];return r[a]=o.concat([n]),r},[]);class Fz{constructor(t){Object.defineProperty(this,"caller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.caller=new Ju(t!=null?t:{})}}/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function CP(e){return typeof e>"u"||e===null}function Lz(e){return typeof e=="object"&&e!==null}function Uz(e){return Array.isArray(e)?e:CP(e)?[]:[e]}function Vz(e,t){var r,n,i,a;if(t)for(a=Object.keys(t),r=0,n=a.length;r<n;r+=1)i=a[r],e[i]=t[i];return e}function Kz(e,t){var r="",n;for(n=0;n<t;n+=1)r+=e;return r}function Hz(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}var Gz=CP,qz=Lz,kz=Uz,Wz=Kz,Xz=Hz,Zz=Vz,y_={isNothing:Gz,isObject:qz,toArray:kz,repeat:Wz,isNegativeZero:Xz,extend:Zz};function EP(e,t){var r="",n=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+=`

`+e.mark.snippet),n+" "+r):n}function Bu(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=EP(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}Bu.prototype=Object.create(Error.prototype);Bu.prototype.constructor=Bu;Bu.prototype.toString=function(t){return this.name+": "+EP(this,t)};var _a=Bu,Jz=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],Yz=["scalar","sequence","mapping"];function Qz(e){var t={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(n){t[String(n)]=r})}),t}function eN(e,t){if(t=t||{},Object.keys(t).forEach(function(r){if(Jz.indexOf(r)===-1)throw new _a('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(r){return r},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=Qz(t.styleAliases||null),Yz.indexOf(this.kind)===-1)throw new _a('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var Lt=eN;function Hb(e,t){var r=[];return e[t].forEach(function(n){var i=r.length;r.forEach(function(a,o){a.tag===n.tag&&a.kind===n.kind&&a.multi===n.multi&&(i=o)}),r[i]=n}),r}function tN(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,r;function n(i){i.multi?(e.multi[i.kind].push(i),e.multi.fallback.push(i)):e[i.kind][i.tag]=e.fallback[i.tag]=i}for(t=0,r=arguments.length;t<r;t+=1)arguments[t].forEach(n);return e}function sm(e){return this.extend(e)}sm.prototype.extend=function(t){var r=[],n=[];if(t instanceof Lt)n.push(t);else if(Array.isArray(t))n=n.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(r=r.concat(t.implicit)),t.explicit&&(n=n.concat(t.explicit));else throw new _a("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(a){if(!(a instanceof Lt))throw new _a("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(a.loadKind&&a.loadKind!=="scalar")throw new _a("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(a.multi)throw new _a("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(a){if(!(a instanceof Lt))throw new _a("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(sm.prototype);return i.implicit=(this.implicit||[]).concat(r),i.explicit=(this.explicit||[]).concat(n),i.compiledImplicit=Hb(i,"implicit"),i.compiledExplicit=Hb(i,"explicit"),i.compiledTypeMap=tN(i.compiledImplicit,i.compiledExplicit),i};var rN=sm,nN=new Lt("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),iN=new Lt("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),aN=new Lt("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),oN=new rN({explicit:[nN,iN,aN]});function sN(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function uN(){return null}function lN(e){return e===null}var cN=new Lt("tag:yaml.org,2002:null",{kind:"scalar",resolve:sN,construct:uN,predicate:lN,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function dN(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function fN(e){return e==="true"||e==="True"||e==="TRUE"}function hN(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var pN=new Lt("tag:yaml.org,2002:bool",{kind:"scalar",resolve:dN,construct:fN,predicate:hN,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function yN(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function vN(e){return 48<=e&&e<=55}function mN(e){return 48<=e&&e<=57}function _N(e){if(e===null)return!1;var t=e.length,r=0,n=!1,i;if(!t)return!1;if(i=e[r],(i==="-"||i==="+")&&(i=e[++r]),i==="0"){if(r+1===t)return!0;if(i=e[++r],i==="b"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(i!=="0"&&i!=="1")return!1;n=!0}return n&&i!=="_"}if(i==="x"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!yN(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}if(i==="o"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!vN(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}}if(i==="_")return!1;for(;r<t;r++)if(i=e[r],i!=="_"){if(!mN(e.charCodeAt(r)))return!1;n=!0}return!(!n||i==="_")}function gN(e){var t=e,r=1,n;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),n=t[0],(n==="-"||n==="+")&&(n==="-"&&(r=-1),t=t.slice(1),n=t[0]),t==="0")return 0;if(n==="0"){if(t[1]==="b")return r*parseInt(t.slice(2),2);if(t[1]==="x")return r*parseInt(t.slice(2),16);if(t[1]==="o")return r*parseInt(t.slice(2),8)}return r*parseInt(t,10)}function bN(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!y_.isNegativeZero(e)}var wN=new Lt("tag:yaml.org,2002:int",{kind:"scalar",resolve:_N,construct:gN,predicate:bN,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),ON=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function SN(e){return!(e===null||!ON.test(e)||e[e.length-1]==="_")}function PN(e){var t,r;return t=e.replace(/_/g,"").toLowerCase(),r=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:r*parseFloat(t,10)}var jN=/^[-+]?[0-9]+e/;function CN(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(y_.isNegativeZero(e))return"-0.0";return r=e.toString(10),jN.test(r)?r.replace("e",".e"):r}function EN(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||y_.isNegativeZero(e))}var MN=new Lt("tag:yaml.org,2002:float",{kind:"scalar",resolve:SN,construct:PN,predicate:EN,represent:CN,defaultStyle:"lowercase"}),TN=oN.extend({implicit:[cN,pN,wN,MN]}),RN=TN,MP=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),TP=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function $N(e){return e===null?!1:MP.exec(e)!==null||TP.exec(e)!==null}function xN(e){var t,r,n,i,a,o,s,u=0,c=null,d,f,h;if(t=MP.exec(e),t===null&&(t=TP.exec(e)),t===null)throw new Error("Date resolve error");if(r=+t[1],n=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(r,n,i));if(a=+t[4],o=+t[5],s=+t[6],t[7]){for(u=t[7].slice(0,3);u.length<3;)u+="0";u=+u}return t[9]&&(d=+t[10],f=+(t[11]||0),c=(d*60+f)*6e4,t[9]==="-"&&(c=-c)),h=new Date(Date.UTC(r,n,i,a,o,s,u)),c&&h.setTime(h.getTime()-c),h}function AN(e){return e.toISOString()}var IN=new Lt("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:$N,construct:xN,instanceOf:Date,represent:AN});function DN(e){return e==="<<"||e===null}var zN=new Lt("tag:yaml.org,2002:merge",{kind:"scalar",resolve:DN}),v_=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function NN(e){if(e===null)return!1;var t,r,n=0,i=e.length,a=v_;for(r=0;r<i;r++)if(t=a.indexOf(e.charAt(r)),!(t>64)){if(t<0)return!1;n+=6}return n%8===0}function BN(e){var t,r,n=e.replace(/[\r\n=]/g,""),i=n.length,a=v_,o=0,s=[];for(t=0;t<i;t++)t%4===0&&t&&(s.push(o>>16&255),s.push(o>>8&255),s.push(o&255)),o=o<<6|a.indexOf(n.charAt(t));return r=i%4*6,r===0?(s.push(o>>16&255),s.push(o>>8&255),s.push(o&255)):r===18?(s.push(o>>10&255),s.push(o>>2&255)):r===12&&s.push(o>>4&255),new Uint8Array(s)}function FN(e){var t="",r=0,n,i,a=e.length,o=v_;for(n=0;n<a;n++)n%3===0&&n&&(t+=o[r>>18&63],t+=o[r>>12&63],t+=o[r>>6&63],t+=o[r&63]),r=(r<<8)+e[n];return i=a%3,i===0?(t+=o[r>>18&63],t+=o[r>>12&63],t+=o[r>>6&63],t+=o[r&63]):i===2?(t+=o[r>>10&63],t+=o[r>>4&63],t+=o[r<<2&63],t+=o[64]):i===1&&(t+=o[r>>2&63],t+=o[r<<4&63],t+=o[64],t+=o[64]),t}function LN(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var UN=new Lt("tag:yaml.org,2002:binary",{kind:"scalar",resolve:NN,construct:BN,predicate:LN,represent:FN}),VN=Object.prototype.hasOwnProperty,KN=Object.prototype.toString;function HN(e){if(e===null)return!0;var t=[],r,n,i,a,o,s=e;for(r=0,n=s.length;r<n;r+=1){if(i=s[r],o=!1,KN.call(i)!=="[object Object]")return!1;for(a in i)if(VN.call(i,a))if(!o)o=!0;else return!1;if(!o)return!1;if(t.indexOf(a)===-1)t.push(a);else return!1}return!0}function GN(e){return e!==null?e:[]}var qN=new Lt("tag:yaml.org,2002:omap",{kind:"sequence",resolve:HN,construct:GN}),kN=Object.prototype.toString;function WN(e){if(e===null)return!0;var t,r,n,i,a,o=e;for(a=new Array(o.length),t=0,r=o.length;t<r;t+=1){if(n=o[t],kN.call(n)!=="[object Object]"||(i=Object.keys(n),i.length!==1))return!1;a[t]=[i[0],n[i[0]]]}return!0}function XN(e){if(e===null)return[];var t,r,n,i,a,o=e;for(a=new Array(o.length),t=0,r=o.length;t<r;t+=1)n=o[t],i=Object.keys(n),a[t]=[i[0],n[i[0]]];return a}var ZN=new Lt("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:WN,construct:XN}),JN=Object.prototype.hasOwnProperty;function YN(e){if(e===null)return!0;var t,r=e;for(t in r)if(JN.call(r,t)&&r[t]!==null)return!1;return!0}function QN(e){return e!==null?e:{}}var eB=new Lt("tag:yaml.org,2002:set",{kind:"mapping",resolve:YN,construct:QN});RN.extend({implicit:[IN,zN],explicit:[UN,qN,ZN,eB]});function Gb(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"\x85":e===95?"\xA0":e===76?"\u2028":e===80?"\u2029":""}var tB=new Array(256),rB=new Array(256);for(var no=0;no<256;no++)tB[no]=Gb(no)?1:0,rB[no]=Gb(no);function nB(e,t){let r=0,n=0,i=0;for(let a=0;a<e.length;a++)r+=e[a]*t[a],n+=e[a]*e[a],i+=t[a]*t[a];return r/(Math.sqrt(n)*Math.sqrt(i))}class iB extends ut{constructor(t){var r,n,i;super(t),Object.defineProperty(this,"callbacks",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"verbose",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.callbacks=t==null?void 0:t.callbacks,this.tags=(r=t==null?void 0:t.tags)!=null?r:[],this.metadata=(n=t==null?void 0:t.metadata)!=null?n:{},this.verbose=(i=t==null?void 0:t.verbose)!=null?i:!1}_getRelevantDocuments(t,r){throw new Error("Not implemented!")}async invoke(t,r){return this.getRelevantDocuments(t,Ge(r))}async getRelevantDocuments(t,r){const n=Ge(NS(r)),i=await Ft.configure(n.callbacks,this.callbacks,n.tags,this.tags,n.metadata,this.metadata,{verbose:this.verbose}),a=await(i==null?void 0:i.handleRetrieverStart(this.toJSON(),t,n.runId,void 0,void 0,void 0,n.runName));try{const o=await this._getRelevantDocuments(t,a);return await(a==null?void 0:a.handleRetrieverEnd(o)),o}catch(o){throw await(a==null?void 0:a.handleRetrieverError(o)),o}}}class Gy extends iB{static lc_name(){return"VectorStoreRetriever"}get lc_namespace(){return["langchain_core","vectorstores"]}_vectorstoreType(){return this.vectorStore._vectorstoreType()}constructor(t){var r,n;super(t),Object.defineProperty(this,"vectorStore",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"k",{enumerable:!0,configurable:!0,writable:!0,value:4}),Object.defineProperty(this,"searchType",{enumerable:!0,configurable:!0,writable:!0,value:"similarity"}),Object.defineProperty(this,"searchKwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"filter",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.vectorStore=t.vectorStore,this.k=(r=t.k)!=null?r:this.k,this.searchType=(n=t.searchType)!=null?n:this.searchType,this.filter=t.filter,t.searchType==="mmr"&&(this.searchKwargs=t.searchKwargs)}async _getRelevantDocuments(t,r){if(this.searchType==="mmr"){if(typeof this.vectorStore.maxMarginalRelevanceSearch!="function")throw new Error(`The vector store backing this retriever, ${this._vectorstoreType()} does not support max marginal relevance search.`);return this.vectorStore.maxMarginalRelevanceSearch(t,{k:this.k,filter:this.filter,...this.searchKwargs},r==null?void 0:r.getChild("vectorstore"))}return this.vectorStore.similaritySearch(t,this.k,this.filter,r==null?void 0:r.getChild("vectorstore"))}async addDocuments(t,r){return this.vectorStore.addDocuments(t,r)}}class aB extends Zn{constructor(t,r){super(r),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","vectorstores",this._vectorstoreType()]}),Object.defineProperty(this,"embeddings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.embeddings=t}async delete(t){throw new Error("Not implemented.")}async similaritySearch(t,r=4,n=void 0,i=void 0){return(await this.similaritySearchVectorWithScore(await this.embeddings.embedQuery(t),r,n)).map(o=>o[0])}async similaritySearchWithScore(t,r=4,n=void 0,i=void 0){return this.similaritySearchVectorWithScore(await this.embeddings.embedQuery(t),r,n)}static fromTexts(t,r,n,i){throw new Error("the Langchain vectorstore implementation you are using forgot to override this, please report a bug")}static fromDocuments(t,r,n){throw new Error("the Langchain vectorstore implementation you are using forgot to override this, please report a bug")}asRetriever(t,r,n,i,a,o){var s;if(typeof t=="number")return new Gy({vectorStore:this,k:t,filter:r,tags:[...i!=null?i:[],this._vectorstoreType()],metadata:a,verbose:o,callbacks:n});{const u={vectorStore:this,k:t==null?void 0:t.k,filter:t==null?void 0:t.filter,tags:[...(s=t==null?void 0:t.tags)!=null?s:[],this._vectorstoreType()],metadata:t==null?void 0:t.metadata,verbose:t==null?void 0:t.verbose,callbacks:t==null?void 0:t.callbacks,searchType:t==null?void 0:t.searchType};return(t==null?void 0:t.searchType)==="mmr"?new Gy({...u,searchKwargs:t.searchKwargs}):new Gy({...u})}}}class m_ extends aB{_vectorstoreType(){return"memory"}constructor(t,{similarity:r,...n}={}){super(t,n),Object.defineProperty(this,"memoryVectors",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"similarity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.similarity=r!=null?r:nB}async addDocuments(t){const r=t.map(({pageContent:n})=>n);return this.addVectors(await this.embeddings.embedDocuments(r),t)}async addVectors(t,r){const n=t.map((i,a)=>({content:r[a].pageContent,embedding:i,metadata:r[a].metadata}));this.memoryVectors=this.memoryVectors.concat(n)}async similaritySearchVectorWithScore(t,r,n){const i=u=>{if(!n)return!0;const c=new Qs({metadata:u.metadata,pageContent:u.content});return n(c)},a=this.memoryVectors.filter(i);return a.map((u,c)=>({similarity:this.similarity(t,u.embedding),index:c})).sort((u,c)=>u.similarity>c.similarity?-1:0).slice(0,r).map(u=>[new Qs({metadata:a[u.index].metadata,pageContent:a[u.index].content}),u.similarity])}static async fromTexts(t,r,n,i){const a=[];for(let o=0;o<t.length;o+=1){const s=Array.isArray(r)?r[o]:r,u=new Qs({pageContent:t[o],metadata:s});a.push(u)}return m_.fromDocuments(a,n,i)}static async fromDocuments(t,r,n){const i=new this(r,n);return await i.addDocuments(t),i}static async fromExistingIndex(t,r){return new this(t,r)}}var RP={},Vi={},$P={},xP={},__={},qf={};Object.defineProperty(qf,"__esModule",{value:!0});qf.CreateEmbedJobRequestTruncate=void 0;qf.CreateEmbedJobRequestTruncate={Start:"START",End:"END"};(function(e){var t=l&&l.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=l&&l.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(qf,e)})(__);var AP={},g_={};Object.defineProperty(g_,"__esModule",{value:!0});(function(e){var t=l&&l.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=l&&l.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(g_,e)})(AP);(function(e){var t=l&&l.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=l&&l.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(__,e),r(AP,e)})(xP);var IP={},b_={},DP={};Object.defineProperty(DP,"__esModule",{value:!0});var zP={};Object.defineProperty(zP,"__esModule",{value:!0});var NP={};Object.defineProperty(NP,"__esModule",{value:!0});var BP={};Object.defineProperty(BP,"__esModule",{value:!0});var FP={};Object.defineProperty(FP,"__esModule",{value:!0});(function(e){var t=l&&l.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=l&&l.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(DP,e),r(zP,e),r(NP,e),r(BP,e),r(FP,e)})(b_);var LP={},w_={};Object.defineProperty(w_,"__esModule",{value:!0});(function(e){var t=l&&l.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=l&&l.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(w_,e)})(LP);(function(e){var t=l&&l.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=l&&l.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(b_,e),r(LP,e)})(IP);var UP={},VP={},KP={},O_={},kf={};Object.defineProperty(kf,"__esModule",{value:!0});kf.BaseType=void 0;kf.BaseType={BaseTypeUnspecified:"BASE_TYPE_UNSPECIFIED",BaseTypeGenerative:"BASE_TYPE_GENERATIVE",BaseTypeClassification:"BASE_TYPE_CLASSIFICATION",BaseTypeRerank:"BASE_TYPE_RERANK",BaseTypeChat:"BASE_TYPE_CHAT"};var Wf={};Object.defineProperty(Wf,"__esModule",{value:!0});Wf.Strategy=void 0;Wf.Strategy={StrategyUnspecified:"STRATEGY_UNSPECIFIED",StrategyVanilla:"STRATEGY_VANILLA",StrategyTfew:"STRATEGY_TFEW"};var HP={};Object.defineProperty(HP,"__esModule",{value:!0});var GP={};Object.defineProperty(GP,"__esModule",{value:!0});var qP={};Object.defineProperty(qP,"__esModule",{value:!0});var Xf={};Object.defineProperty(Xf,"__esModule",{value:!0});Xf.Status=void 0;Xf.Status={StatusUnspecified:"STATUS_UNSPECIFIED",StatusFinetuning:"STATUS_FINETUNING",StatusDeployingApi:"STATUS_DEPLOYING_API",StatusReady:"STATUS_READY",StatusFailed:"STATUS_FAILED",StatusDeleted:"STATUS_DELETED",StatusTemporarilyOffline:"STATUS_TEMPORARILY_OFFLINE",StatusPaused:"STATUS_PAUSED",StatusQueued:"STATUS_QUEUED"};var kP={};Object.defineProperty(kP,"__esModule",{value:!0});var WP={};Object.defineProperty(WP,"__esModule",{value:!0});var XP={};Object.defineProperty(XP,"__esModule",{value:!0});var ZP={};Object.defineProperty(ZP,"__esModule",{value:!0});var JP={};Object.defineProperty(JP,"__esModule",{value:!0});var YP={};Object.defineProperty(YP,"__esModule",{value:!0});var QP={};Object.defineProperty(QP,"__esModule",{value:!0});var ej={};Object.defineProperty(ej,"__esModule",{value:!0});var tj={};Object.defineProperty(tj,"__esModule",{value:!0});var rj={};Object.defineProperty(rj,"__esModule",{value:!0});var nj={};Object.defineProperty(nj,"__esModule",{value:!0});(function(e){var t=l&&l.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=l&&l.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(kf,e),r(Wf,e),r(HP,e),r(GP,e),r(qP,e),r(Xf,e),r(kP,e),r(WP,e),r(XP,e),r(ZP,e),r(JP,e),r(YP,e),r(QP,e),r(ej,e),r(tj,e),r(rj,e),r(nj,e)})(O_);(function(e){var t=l&&l.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=l&&l.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(O_,e)})(KP);(function(e){var t=l&&l.__createBinding||(Object.create?function(a,o,s,u){u===void 0&&(u=s);var c=Object.getOwnPropertyDescriptor(o,s);(!c||("get"in c?!o.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return o[s]}}),Object.defineProperty(a,u,c)}:function(a,o,s,u){u===void 0&&(u=s),a[u]=o[s]}),r=l&&l.__setModuleDefault||(Object.create?function(a,o){Object.defineProperty(a,"default",{enumerable:!0,value:o})}:function(a,o){a.default=o}),n=l&&l.__importStar||function(a){if(a&&a.__esModule)return a;var o={};if(a!=null)for(var s in a)s!=="default"&&Object.prototype.hasOwnProperty.call(a,s)&&t(o,a,s);return r(o,a),o},i=l&&l.__exportStar||function(a,o){for(var s in a)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&t(o,a,s)};Object.defineProperty(e,"__esModule",{value:!0}),e.finetuning=void 0,e.finetuning=n(KP),i(O_,e)})(VP);var ij={},S_={};Object.defineProperty(S_,"__esModule",{value:!0});(function(e){var t=l&&l.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=l&&l.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(S_,e)})(ij);(function(e){var t=l&&l.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=l&&l.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(VP,e),r(ij,e)})(UP);var aj={},oj={},P_={};Object.defineProperty(P_,"__esModule",{value:!0});(function(e){var t=l&&l.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=l&&l.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(P_,e)})(oj);(function(e){var t=l&&l.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=l&&l.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(oj,e)})(aj);var sj={},uj={},j_={};Object.defineProperty(j_,"__esModule",{value:!0});(function(e){var t=l&&l.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=l&&l.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(j_,e)})(uj);(function(e){var t=l&&l.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=l&&l.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(uj,e)})(sj);(function(e){var t=l&&l.__createBinding||(Object.create?function(a,o,s,u){u===void 0&&(u=s);var c=Object.getOwnPropertyDescriptor(o,s);(!c||("get"in c?!o.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return o[s]}}),Object.defineProperty(a,u,c)}:function(a,o,s,u){u===void 0&&(u=s),a[u]=o[s]}),r=l&&l.__setModuleDefault||(Object.create?function(a,o){Object.defineProperty(a,"default",{enumerable:!0,value:o})}:function(a,o){a.default=o}),n=l&&l.__importStar||function(a){if(a&&a.__esModule)return a;var o={};if(a!=null)for(var s in a)s!=="default"&&Object.prototype.hasOwnProperty.call(a,s)&&t(o,a,s);return r(o,a),o},i=l&&l.__exportStar||function(a,o){for(var s in a)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&t(o,a,s)};Object.defineProperty(e,"__esModule",{value:!0}),e.models=e.connectors=e.finetuning=e.datasets=e.embedJobs=void 0,e.embedJobs=n(xP),i(__,e),e.datasets=n(IP),i(b_,e),e.finetuning=n(UP),e.connectors=n(aj),e.models=n(sj),i(g_,e),i(w_,e),i(P_,e),i(j_,e),i(S_,e)})($P);var lj={},Zf={};Object.defineProperty(Zf,"__esModule",{value:!0});Zf.ChatStreamRequestPromptTruncation=void 0;Zf.ChatStreamRequestPromptTruncation={Off:"OFF",Auto:"AUTO",AutoPreserveOrder:"AUTO_PRESERVE_ORDER"};var Jf={};Object.defineProperty(Jf,"__esModule",{value:!0});Jf.ChatStreamRequestCitationQuality=void 0;Jf.ChatStreamRequestCitationQuality={Fast:"fast",Accurate:"accurate"};var cj={};Object.defineProperty(cj,"__esModule",{value:!0});var dj={};Object.defineProperty(dj,"__esModule",{value:!0});var Yf={};Object.defineProperty(Yf,"__esModule",{value:!0});Yf.ChatRequestPromptTruncation=void 0;Yf.ChatRequestPromptTruncation={Off:"OFF",Auto:"AUTO",AutoPreserveOrder:"AUTO_PRESERVE_ORDER"};var Qf={};Object.defineProperty(Qf,"__esModule",{value:!0});Qf.ChatRequestCitationQuality=void 0;Qf.ChatRequestCitationQuality={Fast:"fast",Accurate:"accurate"};var fj={};Object.defineProperty(fj,"__esModule",{value:!0});var hj={};Object.defineProperty(hj,"__esModule",{value:!0});var eh={};Object.defineProperty(eh,"__esModule",{value:!0});eh.GenerateStreamRequestTruncate=void 0;eh.GenerateStreamRequestTruncate={None:"NONE",Start:"START",End:"END"};var th={};Object.defineProperty(th,"__esModule",{value:!0});th.GenerateStreamRequestReturnLikelihoods=void 0;th.GenerateStreamRequestReturnLikelihoods={Generation:"GENERATION",All:"ALL",None:"NONE"};var rh={};Object.defineProperty(rh,"__esModule",{value:!0});rh.GenerateRequestTruncate=void 0;rh.GenerateRequestTruncate={None:"NONE",Start:"START",End:"END"};var nh={};Object.defineProperty(nh,"__esModule",{value:!0});nh.GenerateRequestReturnLikelihoods=void 0;nh.GenerateRequestReturnLikelihoods={Generation:"GENERATION",All:"ALL",None:"NONE"};var ih={};Object.defineProperty(ih,"__esModule",{value:!0});ih.EmbedRequestTruncate=void 0;ih.EmbedRequestTruncate={None:"NONE",Start:"START",End:"END"};var pj={};Object.defineProperty(pj,"__esModule",{value:!0});var yj={};Object.defineProperty(yj,"__esModule",{value:!0});var vj={};Object.defineProperty(vj,"__esModule",{value:!0});var mj={};Object.defineProperty(mj,"__esModule",{value:!0});var _j={};Object.defineProperty(_j,"__esModule",{value:!0});var gj={};Object.defineProperty(gj,"__esModule",{value:!0});var ah={};Object.defineProperty(ah,"__esModule",{value:!0});ah.ClassifyRequestTruncate=void 0;ah.ClassifyRequestTruncate={None:"NONE",Start:"START",End:"END"};var bj={};Object.defineProperty(bj,"__esModule",{value:!0});var oh={};Object.defineProperty(oh,"__esModule",{value:!0});oh.ClassifyResponseClassificationsItemClassificationType=void 0;oh.ClassifyResponseClassificationsItemClassificationType={SingleLabel:"single-label",MultiLabel:"multi-label"};var wj={};Object.defineProperty(wj,"__esModule",{value:!0});var Oj={};Object.defineProperty(Oj,"__esModule",{value:!0});var sh={};Object.defineProperty(sh,"__esModule",{value:!0});sh.SummarizeRequestLength=void 0;sh.SummarizeRequestLength={Short:"short",Medium:"medium",Long:"long"};var uh={};Object.defineProperty(uh,"__esModule",{value:!0});uh.SummarizeRequestFormat=void 0;uh.SummarizeRequestFormat={Paragraph:"paragraph",Bullets:"bullets"};var lh={};Object.defineProperty(lh,"__esModule",{value:!0});lh.SummarizeRequestExtractiveness=void 0;lh.SummarizeRequestExtractiveness={Low:"low",Medium:"medium",High:"high"};var Sj={};Object.defineProperty(Sj,"__esModule",{value:!0});var Pj={};Object.defineProperty(Pj,"__esModule",{value:!0});var jj={};Object.defineProperty(jj,"__esModule",{value:!0});var ch={};Object.defineProperty(ch,"__esModule",{value:!0});ch.ChatMessageRole=void 0;ch.ChatMessageRole={Chatbot:"CHATBOT",System:"SYSTEM",User:"USER"};var Cj={};Object.defineProperty(Cj,"__esModule",{value:!0});var Ej={};Object.defineProperty(Ej,"__esModule",{value:!0});var Mj={};Object.defineProperty(Mj,"__esModule",{value:!0});var Tj={};Object.defineProperty(Tj,"__esModule",{value:!0});var Rj={};Object.defineProperty(Rj,"__esModule",{value:!0});var $j={};Object.defineProperty($j,"__esModule",{value:!0});var xj={};Object.defineProperty(xj,"__esModule",{value:!0});var Aj={};Object.defineProperty(Aj,"__esModule",{value:!0});var Ij={};Object.defineProperty(Ij,"__esModule",{value:!0});var Dj={};Object.defineProperty(Dj,"__esModule",{value:!0});var dh={};Object.defineProperty(dh,"__esModule",{value:!0});dh.FinishReason=void 0;dh.FinishReason={Complete:"COMPLETE",Error:"ERROR",ErrorToxic:"ERROR_TOXIC",ErrorLimit:"ERROR_LIMIT",UserCancel:"USER_CANCEL",MaxTokens:"MAX_TOKENS"};var zj={};Object.defineProperty(zj,"__esModule",{value:!0});var Nj={};Object.defineProperty(Nj,"__esModule",{value:!0});var Bj={};Object.defineProperty(Bj,"__esModule",{value:!0});var Fj={};Object.defineProperty(Fj,"__esModule",{value:!0});var Lj={};Object.defineProperty(Lj,"__esModule",{value:!0});var Uj={};Object.defineProperty(Uj,"__esModule",{value:!0});var Vj={};Object.defineProperty(Vj,"__esModule",{value:!0});var Kj={};Object.defineProperty(Kj,"__esModule",{value:!0});var Hj={};Object.defineProperty(Hj,"__esModule",{value:!0});var Gj={};Object.defineProperty(Gj,"__esModule",{value:!0});var qj={};Object.defineProperty(qj,"__esModule",{value:!0});var kj={};Object.defineProperty(kj,"__esModule",{value:!0});var fh={};Object.defineProperty(fh,"__esModule",{value:!0});fh.ChatStreamEndEventFinishReason=void 0;fh.ChatStreamEndEventFinishReason={Complete:"COMPLETE",ErrorLimit:"ERROR_LIMIT",MaxTokens:"MAX_TOKENS",Error:"ERROR",ErrorToxic:"ERROR_TOXIC"};var Wj={};Object.defineProperty(Wj,"__esModule",{value:!0});var Xj={};Object.defineProperty(Xj,"__esModule",{value:!0});var Zj={};Object.defineProperty(Zj,"__esModule",{value:!0});var Jj={};Object.defineProperty(Jj,"__esModule",{value:!0});var Yj={};Object.defineProperty(Yj,"__esModule",{value:!0});var Qj={};Object.defineProperty(Qj,"__esModule",{value:!0});var eC={};Object.defineProperty(eC,"__esModule",{value:!0});var tC={};Object.defineProperty(tC,"__esModule",{value:!0});var rC={};Object.defineProperty(rC,"__esModule",{value:!0});var nC={};Object.defineProperty(nC,"__esModule",{value:!0});var iC={};Object.defineProperty(iC,"__esModule",{value:!0});var aC={};Object.defineProperty(aC,"__esModule",{value:!0});var hh={};Object.defineProperty(hh,"__esModule",{value:!0});hh.EmbedInputType=void 0;hh.EmbedInputType={SearchDocument:"search_document",SearchQuery:"search_query",Classification:"classification",Clustering:"clustering"};var ph={};Object.defineProperty(ph,"__esModule",{value:!0});ph.EmbeddingType=void 0;ph.EmbeddingType={Float:"float",Int8:"int8",Uint8:"uint8",Binary:"binary",Ubinary:"ubinary"};var oC={};Object.defineProperty(oC,"__esModule",{value:!0});var sC={};Object.defineProperty(sC,"__esModule",{value:!0});var uC={};Object.defineProperty(uC,"__esModule",{value:!0});var yh={};Object.defineProperty(yh,"__esModule",{value:!0});yh.EmbedJobStatus=void 0;yh.EmbedJobStatus={Processing:"processing",Complete:"complete",Cancelling:"cancelling",Cancelled:"cancelled",Failed:"failed"};var vh={};Object.defineProperty(vh,"__esModule",{value:!0});vh.EmbedJobTruncate=void 0;vh.EmbedJobTruncate={Start:"START",End:"END"};var lC={};Object.defineProperty(lC,"__esModule",{value:!0});var cC={};Object.defineProperty(cC,"__esModule",{value:!0});var dC={};Object.defineProperty(dC,"__esModule",{value:!0});var fC={};Object.defineProperty(fC,"__esModule",{value:!0});var mh={};Object.defineProperty(mh,"__esModule",{value:!0});mh.DatasetType=void 0;mh.DatasetType={EmbedInput:"embed-input",EmbedResult:"embed-result",ClusterResult:"cluster-result",ClusterOutliers:"cluster-outliers",RerankerFinetuneInput:"reranker-finetune-input",PromptCompletionFinetuneInput:"prompt-completion-finetune-input",SingleLabelClassificationFinetuneInput:"single-label-classification-finetune-input",ChatFinetuneInput:"chat-finetune-input",MultiLabelClassificationFinetuneInput:"multi-label-classification-finetune-input"};var _h={};Object.defineProperty(_h,"__esModule",{value:!0});_h.DatasetValidationStatus=void 0;_h.DatasetValidationStatus={Unknown:"unknown",Queued:"queued",Processing:"processing",Failed:"failed",Validated:"validated",Skipped:"skipped"};var hC={};Object.defineProperty(hC,"__esModule",{value:!0});var pC={};Object.defineProperty(pC,"__esModule",{value:!0});var yC={};Object.defineProperty(yC,"__esModule",{value:!0});var vC={};Object.defineProperty(vC,"__esModule",{value:!0});var mC={};Object.defineProperty(mC,"__esModule",{value:!0});var _C={};Object.defineProperty(_C,"__esModule",{value:!0});var gC={};Object.defineProperty(gC,"__esModule",{value:!0});var bC={};Object.defineProperty(bC,"__esModule",{value:!0});var wC={};Object.defineProperty(wC,"__esModule",{value:!0});var OC={};Object.defineProperty(OC,"__esModule",{value:!0});var gh={};Object.defineProperty(gh,"__esModule",{value:!0});gh.ConnectorAuthStatus=void 0;gh.ConnectorAuthStatus={Valid:"valid",Expired:"expired"};var SC={};Object.defineProperty(SC,"__esModule",{value:!0});var PC={};Object.defineProperty(PC,"__esModule",{value:!0});var jC={};Object.defineProperty(jC,"__esModule",{value:!0});var bh={};Object.defineProperty(bh,"__esModule",{value:!0});bh.AuthTokenType=void 0;bh.AuthTokenType={Bearer:"bearer",Basic:"basic",Noscheme:"noscheme"};var CC={};Object.defineProperty(CC,"__esModule",{value:!0});var EC={};Object.defineProperty(EC,"__esModule",{value:!0});var MC={};Object.defineProperty(MC,"__esModule",{value:!0});var TC={};Object.defineProperty(TC,"__esModule",{value:!0});var RC={};Object.defineProperty(RC,"__esModule",{value:!0});var $C={};Object.defineProperty($C,"__esModule",{value:!0});var wh={};Object.defineProperty(wh,"__esModule",{value:!0});wh.CompatibleEndpoint=void 0;wh.CompatibleEndpoint={Chat:"chat",Embed:"embed",Classify:"classify",Summarize:"summarize",Rerank:"rerank",Rate:"rate",Generate:"generate"};var xC={};Object.defineProperty(xC,"__esModule",{value:!0});var AC={};Object.defineProperty(AC,"__esModule",{value:!0});(function(e){var t=l&&l.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=l&&l.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(Zf,e),r(Jf,e),r(cj,e),r(dj,e),r(Yf,e),r(Qf,e),r(fj,e),r(hj,e),r(eh,e),r(th,e),r(rh,e),r(nh,e),r(ih,e),r(pj,e),r(yj,e),r(vj,e),r(mj,e),r(_j,e),r(gj,e),r(ah,e),r(bj,e),r(oh,e),r(wj,e),r(Oj,e),r(sh,e),r(uh,e),r(lh,e),r(Sj,e),r(Pj,e),r(jj,e),r(ch,e),r(Cj,e),r(Ej,e),r(Mj,e),r(Tj,e),r(Rj,e),r($j,e),r(xj,e),r(Aj,e),r(Ij,e),r(Dj,e),r(dh,e),r(zj,e),r(Nj,e),r(Bj,e),r(Fj,e),r(Lj,e),r(Uj,e),r(Vj,e),r(Kj,e),r(Hj,e),r(Gj,e),r(qj,e),r(kj,e),r(fh,e),r(Wj,e),r(Xj,e),r(Zj,e),r(Jj,e),r(Yj,e),r(Qj,e),r(eC,e),r(tC,e),r(rC,e),r(nC,e),r(iC,e),r(aC,e),r(hh,e),r(ph,e),r(oC,e),r(sC,e),r(uC,e),r(yh,e),r(vh,e),r(lC,e),r(cC,e),r(dC,e),r(fC,e),r(mh,e),r(_h,e),r(hC,e),r(pC,e),r(yC,e),r(vC,e),r(mC,e),r(_C,e),r(gC,e),r(bC,e),r(wC,e),r(OC,e),r(gh,e),r(SC,e),r(PC,e),r(jC,e),r(bh,e),r(CC,e),r(EC,e),r(MC,e),r(TC,e),r(RC,e),r($C,e),r(wh,e),r(xC,e),r(AC,e)})(lj);var IC={},Oh={},Ht={},Sh={};Object.defineProperty(Sh,"__esModule",{value:!0});Sh.CohereError=void 0;class C_ extends Error{constructor({message:t,statusCode:r,body:n}){super(oB({message:t,statusCode:r,body:n})),Object.setPrototypeOf(this,C_.prototype),r!=null&&(this.statusCode=r),n!==void 0&&(this.body=n)}}Sh.CohereError=C_;function oB({message:e,statusCode:t,body:r}){let n=[];return e!=null&&n.push(e),t!=null&&n.push(`Status code: ${t.toString()}`),r!=null&&n.push(`Body: ${JSON.stringify(r,void 0,2)}`),n.join(`
`)}var Ph={};Object.defineProperty(Ph,"__esModule",{value:!0});Ph.CohereTimeoutError=void 0;class E_ extends Error{constructor(){super("Timeout"),Object.setPrototypeOf(this,E_.prototype)}}Ph.CohereTimeoutError=E_;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CohereTimeoutError=e.CohereError=void 0;var t=Sh;Object.defineProperty(e,"CohereError",{enumerable:!0,get:function(){return t.CohereError}});var r=Ph;Object.defineProperty(e,"CohereTimeoutError",{enumerable:!0,get:function(){return r.CohereTimeoutError}})})(Ht);var sB=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),uB=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),lB=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&sB(t,e,r);return uB(t,e),t};Object.defineProperty(Oh,"__esModule",{value:!0});Oh.BadRequestError=void 0;const cB=lB(Ht);class M_ extends cB.CohereError{constructor(t){super({message:"BadRequestError",statusCode:400,body:t}),Object.setPrototypeOf(this,M_.prototype)}}Oh.BadRequestError=M_;var jh={},dB=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),fB=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),hB=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&dB(t,e,r);return fB(t,e),t};Object.defineProperty(jh,"__esModule",{value:!0});jh.UnauthorizedError=void 0;const pB=hB(Ht);class T_ extends pB.CohereError{constructor(t){super({message:"UnauthorizedError",statusCode:401,body:t}),Object.setPrototypeOf(this,T_.prototype)}}jh.UnauthorizedError=T_;var Ch={},yB=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),vB=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),mB=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&yB(t,e,r);return vB(t,e),t};Object.defineProperty(Ch,"__esModule",{value:!0});Ch.ForbiddenError=void 0;const _B=mB(Ht);class R_ extends _B.CohereError{constructor(t){super({message:"ForbiddenError",statusCode:403,body:t}),Object.setPrototypeOf(this,R_.prototype)}}Ch.ForbiddenError=R_;var Eh={},gB=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),bB=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),wB=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&gB(t,e,r);return bB(t,e),t};Object.defineProperty(Eh,"__esModule",{value:!0});Eh.NotFoundError=void 0;const OB=wB(Ht);class $_ extends OB.CohereError{constructor(t){super({message:"NotFoundError",statusCode:404,body:t}),Object.setPrototypeOf(this,$_.prototype)}}Eh.NotFoundError=$_;var Mh={},SB=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),PB=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),jB=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&SB(t,e,r);return PB(t,e),t};Object.defineProperty(Mh,"__esModule",{value:!0});Mh.TooManyRequestsError=void 0;const CB=jB(Ht);class x_ extends CB.CohereError{constructor(t){super({message:"TooManyRequestsError",statusCode:429,body:t}),Object.setPrototypeOf(this,x_.prototype)}}Mh.TooManyRequestsError=x_;var Th={},EB=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),MB=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),TB=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&EB(t,e,r);return MB(t,e),t};Object.defineProperty(Th,"__esModule",{value:!0});Th.InternalServerError=void 0;const RB=TB(Ht);class A_ extends RB.CohereError{constructor(t){super({message:"InternalServerError",statusCode:500,body:t}),Object.setPrototypeOf(this,A_.prototype)}}Th.InternalServerError=A_;var Rh={},$B=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),xB=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),AB=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&$B(t,e,r);return xB(t,e),t};Object.defineProperty(Rh,"__esModule",{value:!0});Rh.ServiceUnavailableError=void 0;const IB=AB(Ht);class I_ extends IB.CohereError{constructor(t){super({message:"ServiceUnavailableError",statusCode:503,body:t}),Object.setPrototypeOf(this,I_.prototype)}}Rh.ServiceUnavailableError=I_;(function(e){var t=l&&l.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=l&&l.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(Oh,e),r(jh,e),r(Ch,e),r(Eh,e),r(Mh,e),r(Th,e),r(Rh,e)})(IC);var DC={},zC={};Object.defineProperty(zC,"__esModule",{value:!0});(function(e){var t=l&&l.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=l&&l.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(zC,e)})(DC);(function(e){var t=l&&l.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=l&&l.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r($P,e),r(lj,e),r(IC,e),r(DC,e)})(Vi);var $h={},$n={};Object.defineProperty($n,"__esModule",{value:!0});$n.CohereEnvironment=void 0;$n.CohereEnvironment={Production:"https://api.cohere.ai/v1"};var j={},NC={},xh={},BC=typeof self=="object"?self.FormData:window.FormData,DB=Error,zB=EvalError,NB=RangeError,BB=ReferenceError,FC=SyntaxError,il=TypeError,FB=URIError,LB=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;t[r]=i;for(r in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var a=Object.getOwnPropertySymbols(t);if(a.length!==1||a[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(t,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0},qb=typeof Symbol<"u"&&Symbol,UB=LB,VB=function(){return typeof qb!="function"||typeof Symbol!="function"||typeof qb("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:UB()},qy={__proto__:null,foo:{}},KB=Object,HB=function(){return{__proto__:qy}.foo===qy.foo&&!(qy instanceof KB)},GB="Function.prototype.bind called on incompatible ",qB=Object.prototype.toString,kB=Math.max,WB="[object Function]",kb=function(t,r){for(var n=[],i=0;i<t.length;i+=1)n[i]=t[i];for(var a=0;a<r.length;a+=1)n[a+t.length]=r[a];return n},XB=function(t,r){for(var n=[],i=r||0,a=0;i<t.length;i+=1,a+=1)n[a]=t[i];return n},ZB=function(e,t){for(var r="",n=0;n<e.length;n+=1)r+=e[n],n+1<e.length&&(r+=t);return r},JB=function(t){var r=this;if(typeof r!="function"||qB.apply(r)!==WB)throw new TypeError(GB+r);for(var n=XB(arguments,1),i,a=function(){if(this instanceof i){var d=r.apply(this,kb(n,arguments));return Object(d)===d?d:this}return r.apply(t,kb(n,arguments))},o=kB(0,r.length-n.length),s=[],u=0;u<o;u++)s[u]="$"+u;if(i=Function("binder","return function ("+ZB(s,",")+"){ return binder.apply(this,arguments); }")(a),r.prototype){var c=function(){};c.prototype=r.prototype,i.prototype=new c,c.prototype=null}return i},YB=JB,D_=Function.prototype.bind||YB,QB=Function.prototype.call,eF=Object.prototype.hasOwnProperty,tF=D_,rF=tF.call(QB,eF),Pe,nF=DB,iF=zB,aF=NB,oF=BB,Vo=FC,Do=il,sF=FB,LC=Function,ky=function(e){try{return LC('"use strict"; return ('+e+").constructor;")()}catch{}},$a=Object.getOwnPropertyDescriptor;if($a)try{$a({},"")}catch{$a=null}var Wy=function(){throw new Do},uF=$a?function(){try{return arguments.callee,Wy}catch{try{return $a(arguments,"callee").get}catch{return Wy}}}():Wy,io=VB(),lF=HB(),Ct=Object.getPrototypeOf||(lF?function(e){return e.__proto__}:null),Po={},cF=typeof Uint8Array>"u"||!Ct?Pe:Ct(Uint8Array),xa={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?Pe:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Pe:ArrayBuffer,"%ArrayIteratorPrototype%":io&&Ct?Ct([][Symbol.iterator]()):Pe,"%AsyncFromSyncIteratorPrototype%":Pe,"%AsyncFunction%":Po,"%AsyncGenerator%":Po,"%AsyncGeneratorFunction%":Po,"%AsyncIteratorPrototype%":Po,"%Atomics%":typeof Atomics>"u"?Pe:Atomics,"%BigInt%":typeof BigInt>"u"?Pe:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Pe:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Pe:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Pe:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":nF,"%eval%":eval,"%EvalError%":iF,"%Float32Array%":typeof Float32Array>"u"?Pe:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Pe:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Pe:FinalizationRegistry,"%Function%":LC,"%GeneratorFunction%":Po,"%Int8Array%":typeof Int8Array>"u"?Pe:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Pe:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Pe:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":io&&Ct?Ct(Ct([][Symbol.iterator]())):Pe,"%JSON%":typeof JSON=="object"?JSON:Pe,"%Map%":typeof Map>"u"?Pe:Map,"%MapIteratorPrototype%":typeof Map>"u"||!io||!Ct?Pe:Ct(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Pe:Promise,"%Proxy%":typeof Proxy>"u"?Pe:Proxy,"%RangeError%":aF,"%ReferenceError%":oF,"%Reflect%":typeof Reflect>"u"?Pe:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Pe:Set,"%SetIteratorPrototype%":typeof Set>"u"||!io||!Ct?Pe:Ct(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Pe:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":io&&Ct?Ct(""[Symbol.iterator]()):Pe,"%Symbol%":io?Symbol:Pe,"%SyntaxError%":Vo,"%ThrowTypeError%":uF,"%TypedArray%":cF,"%TypeError%":Do,"%Uint8Array%":typeof Uint8Array>"u"?Pe:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Pe:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Pe:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Pe:Uint32Array,"%URIError%":sF,"%WeakMap%":typeof WeakMap>"u"?Pe:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Pe:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Pe:WeakSet};if(Ct)try{null.error}catch(e){var dF=Ct(Ct(e));xa["%Error.prototype%"]=dF}var fF=function e(t){var r;if(t==="%AsyncFunction%")r=ky("async function () {}");else if(t==="%GeneratorFunction%")r=ky("function* () {}");else if(t==="%AsyncGeneratorFunction%")r=ky("async function* () {}");else if(t==="%AsyncGenerator%"){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(t==="%AsyncIteratorPrototype%"){var i=e("%AsyncGenerator%");i&&Ct&&(r=Ct(i.prototype))}return xa[t]=r,r},Wb={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},al=D_,hf=rF,hF=al.call(Function.call,Array.prototype.concat),pF=al.call(Function.apply,Array.prototype.splice),Xb=al.call(Function.call,String.prototype.replace),pf=al.call(Function.call,String.prototype.slice),yF=al.call(Function.call,RegExp.prototype.exec),vF=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,mF=/\\(\\)?/g,_F=function(t){var r=pf(t,0,1),n=pf(t,-1);if(r==="%"&&n!=="%")throw new Vo("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Vo("invalid intrinsic syntax, expected opening `%`");var i=[];return Xb(t,vF,function(a,o,s,u){i[i.length]=s?Xb(u,mF,"$1"):o||a}),i},gF=function(t,r){var n=t,i;if(hf(Wb,n)&&(i=Wb[n],n="%"+i[0]+"%"),hf(xa,n)){var a=xa[n];if(a===Po&&(a=fF(n)),typeof a>"u"&&!r)throw new Do("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:a}}throw new Vo("intrinsic "+t+" does not exist!")},ts=function(t,r){if(typeof t!="string"||t.length===0)throw new Do("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Do('"allowMissing" argument must be a boolean');if(yF(/^%?[^%]*%?$/,t)===null)throw new Vo("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=_F(t),i=n.length>0?n[0]:"",a=gF("%"+i+"%",r),o=a.name,s=a.value,u=!1,c=a.alias;c&&(i=c[0],pF(n,hF([0,1],c)));for(var d=1,f=!0;d<n.length;d+=1){var h=n[d],p=pf(h,0,1),y=pf(h,-1);if((p==='"'||p==="'"||p==="`"||y==='"'||y==="'"||y==="`")&&p!==y)throw new Vo("property names with quotes must have matching quotes");if((h==="constructor"||!f)&&(u=!0),i+="."+h,o="%"+i+"%",hf(xa,o))s=xa[o];else if(s!=null){if(!(h in s)){if(!r)throw new Do("base intrinsic for "+t+" exists, but the property is not available.");return}if($a&&d+1>=n.length){var v=$a(s,h);f=!!v,f&&"get"in v&&!("originalValue"in v.get)?s=v.get:s=s[h]}else f=hf(s,h),s=s[h];f&&!u&&(xa[o]=s)}}return s},UC={exports:{}},Xy,Zb;function z_(){if(Zb)return Xy;Zb=1;var e=ts,t=e("%Object.defineProperty%",!0)||!1;if(t)try{t({},"a",{value:1})}catch{t=!1}return Xy=t,Xy}var bF=ts,$d=bF("%Object.getOwnPropertyDescriptor%",!0);if($d)try{$d([],"length")}catch{$d=null}var VC=$d,Jb=z_(),wF=FC,ao=il,Yb=VC,OF=function(t,r,n){if(!t||typeof t!="object"&&typeof t!="function")throw new ao("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new ao("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new ao("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new ao("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new ao("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new ao("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,a=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,s=arguments.length>6?arguments[6]:!1,u=!!Yb&&Yb(t,r);if(Jb)Jb(t,r,{configurable:o===null&&u?u.configurable:!o,enumerable:i===null&&u?u.enumerable:!i,value:n,writable:a===null&&u?u.writable:!a});else if(s||!i&&!a&&!o)t[r]=n;else throw new wF("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},um=z_(),KC=function(){return!!um};KC.hasArrayLengthDefineBug=function(){if(!um)return null;try{return um([],"length",{value:1}).length!==1}catch{return!0}};var SF=KC,PF=ts,Qb=OF,jF=SF(),ew=VC,tw=il,CF=PF("%Math.floor%"),EF=function(t,r){if(typeof t!="function")throw new tw("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||CF(r)!==r)throw new tw("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,a=!0;if("length"in t&&ew){var o=ew(t,"length");o&&!o.configurable&&(i=!1),o&&!o.writable&&(a=!1)}return(i||a||!n)&&(jF?Qb(t,"length",r,!0,!0):Qb(t,"length",r)),t};(function(e){var t=D_,r=ts,n=EF,i=il,a=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),s=r("%Reflect.apply%",!0)||t.call(o,a),u=z_(),c=r("%Math.max%");e.exports=function(h){if(typeof h!="function")throw new i("a function is required");var p=s(t,o,arguments);return n(p,1+c(0,h.length-(arguments.length-1)),!0)};var d=function(){return s(t,a,arguments)};u?u(e.exports,"apply",{value:d}):e.exports.apply=d})(UC);var HC=ts,GC=UC.exports,MF=GC(HC("String.prototype.indexOf")),TF=function(t,r){var n=HC(t,!!r);return typeof n=="function"&&MF(t,".prototype.")>-1?GC(n):n};const RF={},$F=Object.freeze(Object.defineProperty({__proto__:null,default:RF},Symbol.toStringTag,{value:"Module"})),xF=k$($F);var N_=typeof Map=="function"&&Map.prototype,Zy=Object.getOwnPropertyDescriptor&&N_?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,yf=N_&&Zy&&typeof Zy.get=="function"?Zy.get:null,rw=N_&&Map.prototype.forEach,B_=typeof Set=="function"&&Set.prototype,Jy=Object.getOwnPropertyDescriptor&&B_?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,vf=B_&&Jy&&typeof Jy.get=="function"?Jy.get:null,nw=B_&&Set.prototype.forEach,AF=typeof WeakMap=="function"&&WeakMap.prototype,nu=AF?WeakMap.prototype.has:null,IF=typeof WeakSet=="function"&&WeakSet.prototype,iu=IF?WeakSet.prototype.has:null,DF=typeof WeakRef=="function"&&WeakRef.prototype,iw=DF?WeakRef.prototype.deref:null,zF=Boolean.prototype.valueOf,NF=Object.prototype.toString,BF=Function.prototype.toString,FF=String.prototype.match,F_=String.prototype.slice,Pi=String.prototype.replace,LF=String.prototype.toUpperCase,aw=String.prototype.toLowerCase,qC=RegExp.prototype.test,ow=Array.prototype.concat,gn=Array.prototype.join,UF=Array.prototype.slice,sw=Math.floor,lm=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Yy=Object.getOwnPropertySymbols,cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Ko=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Kt=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Ko?"object":"symbol")?Symbol.toStringTag:null,kC=Object.prototype.propertyIsEnumerable,uw=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function lw(e,t){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||qC.call(/e/,t))return t;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof e=="number"){var n=e<0?-sw(-e):sw(e);if(n!==e){var i=String(n),a=F_.call(t,i.length+1);return Pi.call(i,r,"$&_")+"."+Pi.call(Pi.call(a,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Pi.call(t,r,"$&_")}var dm=xF,cw=dm.custom,dw=XC(cw)?cw:null,VF=function e(t,r,n,i){var a=r||{};if(bi(a,"quoteStyle")&&a.quoteStyle!=="single"&&a.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(bi(a,"maxStringLength")&&(typeof a.maxStringLength=="number"?a.maxStringLength<0&&a.maxStringLength!==1/0:a.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=bi(a,"customInspect")?a.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(bi(a,"indent")&&a.indent!==null&&a.indent!=="	"&&!(parseInt(a.indent,10)===a.indent&&a.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(bi(a,"numericSeparator")&&typeof a.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var s=a.numericSeparator;if(typeof t>"u")return"undefined";if(t===null)return"null";if(typeof t=="boolean")return t?"true":"false";if(typeof t=="string")return JC(t,a);if(typeof t=="number"){if(t===0)return 1/0/t>0?"0":"-0";var u=String(t);return s?lw(t,u):u}if(typeof t=="bigint"){var c=String(t)+"n";return s?lw(t,c):c}var d=typeof a.depth>"u"?5:a.depth;if(typeof n>"u"&&(n=0),n>=d&&d>0&&typeof t=="object")return fm(t)?"[Array]":"[Object]";var f=oL(a,n);if(typeof i>"u")i=[];else if(ZC(i,t)>=0)return"[Circular]";function h(F,H,oe){if(H&&(i=UF.call(i),i.push(H)),oe){var re={depth:a.depth};return bi(a,"quoteStyle")&&(re.quoteStyle=a.quoteStyle),e(F,re,n+1,i)}return e(F,a,n+1,i)}if(typeof t=="function"&&!fw(t)){var p=JF(t),y=rd(t,h);return"[Function"+(p?": "+p:" (anonymous)")+"]"+(y.length>0?" { "+gn.call(y,", ")+" }":"")}if(XC(t)){var v=Ko?Pi.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):cm.call(t);return typeof t=="object"&&!Ko?Es(v):v}if(nL(t)){for(var m="<"+aw.call(String(t.nodeName)),b=t.attributes||[],O=0;O<b.length;O++)m+=" "+b[O].name+"="+WC(KF(b[O].value),"double",a);return m+=">",t.childNodes&&t.childNodes.length&&(m+="..."),m+="</"+aw.call(String(t.nodeName))+">",m}if(fm(t)){if(t.length===0)return"[]";var S=rd(t,h);return f&&!aL(S)?"["+hm(S,f)+"]":"[ "+gn.call(S,", ")+" ]"}if(GF(t)){var T=rd(t,h);return!("cause"in Error.prototype)&&"cause"in t&&!kC.call(t,"cause")?"{ ["+String(t)+"] "+gn.call(ow.call("[cause]: "+h(t.cause),T),", ")+" }":T.length===0?"["+String(t)+"]":"{ ["+String(t)+"] "+gn.call(T,", ")+" }"}if(typeof t=="object"&&o){if(dw&&typeof t[dw]=="function"&&dm)return dm(t,{depth:d-n});if(o!=="symbol"&&typeof t.inspect=="function")return t.inspect()}if(YF(t)){var x=[];return rw&&rw.call(t,function(F,H){x.push(h(H,t,!0)+" => "+h(F,t))}),hw("Map",yf.call(t),x,f)}if(tL(t)){var M=[];return nw&&nw.call(t,function(F){M.push(h(F,t))}),hw("Set",vf.call(t),M,f)}if(QF(t))return Qy("WeakMap");if(rL(t))return Qy("WeakSet");if(eL(t))return Qy("WeakRef");if(kF(t))return Es(h(Number(t)));if(XF(t))return Es(h(lm.call(t)));if(WF(t))return Es(zF.call(t));if(qF(t))return Es(h(String(t)));if(typeof window<"u"&&t===window)return"{ [object Window] }";if(t===l)return"{ [object globalThis] }";if(!HF(t)&&!fw(t)){var I=rd(t,h),C=uw?uw(t)===Object.prototype:t instanceof Object||t.constructor===Object,A=t instanceof Object?"":"null prototype",K=!C&&Kt&&Object(t)===t&&Kt in t?F_.call(Ki(t),8,-1):A?"Object":"",X=C||typeof t.constructor!="function"?"":t.constructor.name?t.constructor.name+" ":"",E=X+(K||A?"["+gn.call(ow.call([],K||[],A||[]),": ")+"] ":"");return I.length===0?E+"{}":f?E+"{"+hm(I,f)+"}":E+"{ "+gn.call(I,", ")+" }"}return String(t)};function WC(e,t,r){var n=(r.quoteStyle||t)==="double"?'"':"'";return n+e+n}function KF(e){return Pi.call(String(e),/"/g,"&quot;")}function fm(e){return Ki(e)==="[object Array]"&&(!Kt||!(typeof e=="object"&&Kt in e))}function HF(e){return Ki(e)==="[object Date]"&&(!Kt||!(typeof e=="object"&&Kt in e))}function fw(e){return Ki(e)==="[object RegExp]"&&(!Kt||!(typeof e=="object"&&Kt in e))}function GF(e){return Ki(e)==="[object Error]"&&(!Kt||!(typeof e=="object"&&Kt in e))}function qF(e){return Ki(e)==="[object String]"&&(!Kt||!(typeof e=="object"&&Kt in e))}function kF(e){return Ki(e)==="[object Number]"&&(!Kt||!(typeof e=="object"&&Kt in e))}function WF(e){return Ki(e)==="[object Boolean]"&&(!Kt||!(typeof e=="object"&&Kt in e))}function XC(e){if(Ko)return e&&typeof e=="object"&&e instanceof Symbol;if(typeof e=="symbol")return!0;if(!e||typeof e!="object"||!cm)return!1;try{return cm.call(e),!0}catch{}return!1}function XF(e){if(!e||typeof e!="object"||!lm)return!1;try{return lm.call(e),!0}catch{}return!1}var ZF=Object.prototype.hasOwnProperty||function(e){return e in this};function bi(e,t){return ZF.call(e,t)}function Ki(e){return NF.call(e)}function JF(e){if(e.name)return e.name;var t=FF.call(BF.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}function ZC(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}function YF(e){if(!yf||!e||typeof e!="object")return!1;try{yf.call(e);try{vf.call(e)}catch{return!0}return e instanceof Map}catch{}return!1}function QF(e){if(!nu||!e||typeof e!="object")return!1;try{nu.call(e,nu);try{iu.call(e,iu)}catch{return!0}return e instanceof WeakMap}catch{}return!1}function eL(e){if(!iw||!e||typeof e!="object")return!1;try{return iw.call(e),!0}catch{}return!1}function tL(e){if(!vf||!e||typeof e!="object")return!1;try{vf.call(e);try{yf.call(e)}catch{return!0}return e instanceof Set}catch{}return!1}function rL(e){if(!iu||!e||typeof e!="object")return!1;try{iu.call(e,iu);try{nu.call(e,nu)}catch{return!0}return e instanceof WeakSet}catch{}return!1}function nL(e){return!e||typeof e!="object"?!1:typeof HTMLElement<"u"&&e instanceof HTMLElement?!0:typeof e.nodeName=="string"&&typeof e.getAttribute=="function"}function JC(e,t){if(e.length>t.maxStringLength){var r=e.length-t.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return JC(F_.call(e,0,t.maxStringLength),t)+n}var i=Pi.call(Pi.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,iL);return WC(i,"single",t)}function iL(e){var t=e.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return r?"\\"+r:"\\x"+(t<16?"0":"")+LF.call(t.toString(16))}function Es(e){return"Object("+e+")"}function Qy(e){return e+" { ? }"}function hw(e,t,r,n){var i=n?hm(r,n):gn.call(r,", ");return e+" ("+t+") {"+i+"}"}function aL(e){for(var t=0;t<e.length;t++)if(ZC(e[t],`
`)>=0)return!1;return!0}function oL(e,t){var r;if(e.indent==="	")r="	";else if(typeof e.indent=="number"&&e.indent>0)r=gn.call(Array(e.indent+1)," ");else return null;return{base:r,prev:gn.call(Array(t+1),r)}}function hm(e,t){if(e.length===0)return"";var r=`
`+t.prev+t.base;return r+gn.call(e,","+r)+`
`+t.prev}function rd(e,t){var r=fm(e),n=[];if(r){n.length=e.length;for(var i=0;i<e.length;i++)n[i]=bi(e,i)?t(e[i],e):""}var a=typeof Yy=="function"?Yy(e):[],o;if(Ko){o={};for(var s=0;s<a.length;s++)o["$"+a[s]]=a[s]}for(var u in e)!bi(e,u)||r&&String(Number(u))===u&&u<e.length||Ko&&o["$"+u]instanceof Symbol||(qC.call(/[^\w$]/,u)?n.push(t(u,e)+": "+t(e[u],e)):n.push(u+": "+t(e[u],e)));if(typeof Yy=="function")for(var c=0;c<a.length;c++)kC.call(e,a[c])&&n.push("["+t(a[c])+"]: "+t(e[a[c]],e));return n}var YC=ts,rs=TF,sL=VF,uL=il,nd=YC("%WeakMap%",!0),id=YC("%Map%",!0),lL=rs("WeakMap.prototype.get",!0),cL=rs("WeakMap.prototype.set",!0),dL=rs("WeakMap.prototype.has",!0),fL=rs("Map.prototype.get",!0),hL=rs("Map.prototype.set",!0),pL=rs("Map.prototype.has",!0),L_=function(e,t){for(var r=e,n;(n=r.next)!==null;r=n)if(n.key===t)return r.next=n.next,n.next=e.next,e.next=n,n},yL=function(e,t){var r=L_(e,t);return r&&r.value},vL=function(e,t,r){var n=L_(e,t);n?n.value=r:e.next={key:t,next:e.next,value:r}},mL=function(e,t){return!!L_(e,t)},_L=function(){var t,r,n,i={assert:function(a){if(!i.has(a))throw new uL("Side channel does not contain "+sL(a))},get:function(a){if(nd&&a&&(typeof a=="object"||typeof a=="function")){if(t)return lL(t,a)}else if(id){if(r)return fL(r,a)}else if(n)return yL(n,a)},has:function(a){if(nd&&a&&(typeof a=="object"||typeof a=="function")){if(t)return dL(t,a)}else if(id){if(r)return pL(r,a)}else if(n)return mL(n,a);return!1},set:function(a,o){nd&&a&&(typeof a=="object"||typeof a=="function")?(t||(t=new nd),cL(t,a,o)):id?(r||(r=new id),hL(r,a,o)):(n||(n={key:{},next:null}),vL(n,a,o))}};return i},gL=String.prototype.replace,bL=/%20/g,ev={RFC1738:"RFC1738",RFC3986:"RFC3986"},U_={default:ev.RFC3986,formatters:{RFC1738:function(e){return gL.call(e,bL,"+")},RFC3986:function(e){return String(e)}},RFC1738:ev.RFC1738,RFC3986:ev.RFC3986},wL=U_,tv=Object.prototype.hasOwnProperty,ga=Array.isArray,ln=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),OL=function(t){for(;t.length>1;){var r=t.pop(),n=r.obj[r.prop];if(ga(n)){for(var i=[],a=0;a<n.length;++a)typeof n[a]<"u"&&i.push(n[a]);r.obj[r.prop]=i}}},QC=function(t,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<t.length;++i)typeof t[i]<"u"&&(n[i]=t[i]);return n},SL=function e(t,r,n){if(!r)return t;if(typeof r!="object"){if(ga(t))t.push(r);else if(t&&typeof t=="object")(n&&(n.plainObjects||n.allowPrototypes)||!tv.call(Object.prototype,r))&&(t[r]=!0);else return[t,r];return t}if(!t||typeof t!="object")return[t].concat(r);var i=t;return ga(t)&&!ga(r)&&(i=QC(t,n)),ga(t)&&ga(r)?(r.forEach(function(a,o){if(tv.call(t,o)){var s=t[o];s&&typeof s=="object"&&a&&typeof a=="object"?t[o]=e(s,a,n):t.push(a)}else t[o]=a}),t):Object.keys(r).reduce(function(a,o){var s=r[o];return tv.call(a,o)?a[o]=e(a[o],s,n):a[o]=s,a},i)},PL=function(t,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},t)},jL=function(e,t,r){var n=e.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},CL=function(t,r,n,i,a){if(t.length===0)return t;var o=t;if(typeof t=="symbol"?o=Symbol.prototype.toString.call(t):typeof t!="string"&&(o=String(t)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(d){return"%26%23"+parseInt(d.slice(2),16)+"%3B"});for(var s="",u=0;u<o.length;++u){var c=o.charCodeAt(u);if(c===45||c===46||c===95||c===126||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||a===wL.RFC1738&&(c===40||c===41)){s+=o.charAt(u);continue}if(c<128){s=s+ln[c];continue}if(c<2048){s=s+(ln[192|c>>6]+ln[128|c&63]);continue}if(c<55296||c>=57344){s=s+(ln[224|c>>12]+ln[128|c>>6&63]+ln[128|c&63]);continue}u+=1,c=65536+((c&1023)<<10|o.charCodeAt(u)&1023),s+=ln[240|c>>18]+ln[128|c>>12&63]+ln[128|c>>6&63]+ln[128|c&63]}return s},EL=function(t){for(var r=[{obj:{o:t},prop:"o"}],n=[],i=0;i<r.length;++i)for(var a=r[i],o=a.obj[a.prop],s=Object.keys(o),u=0;u<s.length;++u){var c=s[u],d=o[c];typeof d=="object"&&d!==null&&n.indexOf(d)===-1&&(r.push({obj:o,prop:c}),n.push(d))}return OL(r),t},ML=function(t){return Object.prototype.toString.call(t)==="[object RegExp]"},TL=function(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},RL=function(t,r){return[].concat(t,r)},$L=function(t,r){if(ga(t)){for(var n=[],i=0;i<t.length;i+=1)n.push(r(t[i]));return n}return r(t)},eE={arrayToObject:QC,assign:PL,combine:RL,compact:EL,decode:jL,encode:CL,isBuffer:TL,isRegExp:ML,maybeMap:$L,merge:SL},tE=_L,xd=eE,au=U_,xL=Object.prototype.hasOwnProperty,pw={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,r){return t+"["+r+"]"},repeat:function(t){return t}},Kn=Array.isArray,AL=Array.prototype.push,rE=function(e,t){AL.apply(e,Kn(t)?t:[t])},IL=Date.prototype.toISOString,yw=au.default,zt={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:xd.encode,encodeValuesOnly:!1,format:yw,formatter:au.formatters[yw],indices:!1,serializeDate:function(t){return IL.call(t)},skipNulls:!1,strictNullHandling:!1},DL=function(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"},rv={},zL=function e(t,r,n,i,a,o,s,u,c,d,f,h,p,y,v,m){for(var b=t,O=m,S=0,T=!1;(O=O.get(rv))!==void 0&&!T;){var x=O.get(t);if(S+=1,typeof x<"u"){if(x===S)throw new RangeError("Cyclic object value");T=!0}typeof O.get(rv)>"u"&&(S=0)}if(typeof u=="function"?b=u(r,b):b instanceof Date?b=f(b):n==="comma"&&Kn(b)&&(b=xd.maybeMap(b,function(re){return re instanceof Date?f(re):re})),b===null){if(a)return s&&!y?s(r,zt.encoder,v,"key",h):r;b=""}if(DL(b)||xd.isBuffer(b)){if(s){var M=y?r:s(r,zt.encoder,v,"key",h);return[p(M)+"="+p(s(b,zt.encoder,v,"value",h))]}return[p(r)+"="+p(String(b))]}var I=[];if(typeof b>"u")return I;var C;if(n==="comma"&&Kn(b))y&&s&&(b=xd.maybeMap(b,s)),C=[{value:b.length>0?b.join(",")||null:void 0}];else if(Kn(u))C=u;else{var A=Object.keys(b);C=c?A.sort(c):A}for(var K=i&&Kn(b)&&b.length===1?r+"[]":r,X=0;X<C.length;++X){var E=C[X],F=typeof E=="object"&&typeof E.value<"u"?E.value:b[E];if(!(o&&F===null)){var H=Kn(b)?typeof n=="function"?n(K,E):K:K+(d?"."+E:"["+E+"]");m.set(t,S);var oe=tE();oe.set(rv,m),rE(I,e(F,H,n,i,a,o,n==="comma"&&y&&Kn(b)?null:s,u,c,d,f,h,p,y,v,oe))}}return I},NL=function(t){if(!t)return zt;if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=t.charset||zt.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=au.default;if(typeof t.format<"u"){if(!xL.call(au.formatters,t.format))throw new TypeError("Unknown format option provided.");n=t.format}var i=au.formatters[n],a=zt.filter;return(typeof t.filter=="function"||Kn(t.filter))&&(a=t.filter),{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:zt.addQueryPrefix,allowDots:typeof t.allowDots>"u"?zt.allowDots:!!t.allowDots,charset:r,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:zt.charsetSentinel,delimiter:typeof t.delimiter>"u"?zt.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:zt.encode,encoder:typeof t.encoder=="function"?t.encoder:zt.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:zt.encodeValuesOnly,filter:a,format:n,formatter:i,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:zt.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:zt.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:zt.strictNullHandling}},BL=function(e,t){var r=e,n=NL(t),i,a;typeof n.filter=="function"?(a=n.filter,r=a("",r)):Kn(n.filter)&&(a=n.filter,i=a);var o=[];if(typeof r!="object"||r===null)return"";var s;t&&t.arrayFormat in pw?s=t.arrayFormat:t&&"indices"in t?s=t.indices?"indices":"repeat":s="indices";var u=pw[s];if(t&&"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var c=u==="comma"&&t&&t.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var d=tE(),f=0;f<i.length;++f){var h=i[f];n.skipNulls&&r[h]===null||rE(o,zL(r[h],h,u,c,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,d))}var p=o.join(n.delimiter),y=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?y+="utf8=%26%2310003%3B&":y+="utf8=%E2%9C%93&"),p.length>0?y+p:""},Ho=eE,pm=Object.prototype.hasOwnProperty,FL=Array.isArray,jt={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:Ho.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},LL=function(e){return e.replace(/&#(\d+);/g,function(t,r){return String.fromCharCode(parseInt(r,10))})},nE=function(e,t){return e&&typeof e=="string"&&t.comma&&e.indexOf(",")>-1?e.split(","):e},UL="utf8=%26%2310003%3B",VL="utf8=%E2%9C%93",KL=function(t,r){var n={__proto__:null},i=r.ignoreQueryPrefix?t.replace(/^\?/,""):t,a=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,a),s=-1,u,c=r.charset;if(r.charsetSentinel)for(u=0;u<o.length;++u)o[u].indexOf("utf8=")===0&&(o[u]===VL?c="utf-8":o[u]===UL&&(c="iso-8859-1"),s=u,u=o.length);for(u=0;u<o.length;++u)if(u!==s){var d=o[u],f=d.indexOf("]="),h=f===-1?d.indexOf("="):f+1,p,y;h===-1?(p=r.decoder(d,jt.decoder,c,"key"),y=r.strictNullHandling?null:""):(p=r.decoder(d.slice(0,h),jt.decoder,c,"key"),y=Ho.maybeMap(nE(d.slice(h+1),r),function(v){return r.decoder(v,jt.decoder,c,"value")})),y&&r.interpretNumericEntities&&c==="iso-8859-1"&&(y=LL(y)),d.indexOf("[]=")>-1&&(y=FL(y)?[y]:y),pm.call(n,p)?n[p]=Ho.combine(n[p],y):n[p]=y}return n},HL=function(e,t,r,n){for(var i=n?t:nE(t,r),a=e.length-1;a>=0;--a){var o,s=e[a];if(s==="[]"&&r.parseArrays)o=[].concat(i);else{o=r.plainObjects?Object.create(null):{};var u=s.charAt(0)==="["&&s.charAt(s.length-1)==="]"?s.slice(1,-1):s,c=parseInt(u,10);!r.parseArrays&&u===""?o={0:i}:!isNaN(c)&&s!==u&&String(c)===u&&c>=0&&r.parseArrays&&c<=r.arrayLimit?(o=[],o[c]=i):u!=="__proto__"&&(o[u]=i)}i=o}return i},GL=function(t,r,n,i){if(!!t){var a=n.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,o=/(\[[^[\]]*])/,s=/(\[[^[\]]*])/g,u=n.depth>0&&o.exec(a),c=u?a.slice(0,u.index):a,d=[];if(c){if(!n.plainObjects&&pm.call(Object.prototype,c)&&!n.allowPrototypes)return;d.push(c)}for(var f=0;n.depth>0&&(u=s.exec(a))!==null&&f<n.depth;){if(f+=1,!n.plainObjects&&pm.call(Object.prototype,u[1].slice(1,-1))&&!n.allowPrototypes)return;d.push(u[1])}return u&&d.push("["+a.slice(u.index)+"]"),HL(d,r,n,i)}},qL=function(t){if(!t)return jt;if(t.decoder!==null&&t.decoder!==void 0&&typeof t.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof t.charset>"u"?jt.charset:t.charset;return{allowDots:typeof t.allowDots>"u"?jt.allowDots:!!t.allowDots,allowPrototypes:typeof t.allowPrototypes=="boolean"?t.allowPrototypes:jt.allowPrototypes,allowSparse:typeof t.allowSparse=="boolean"?t.allowSparse:jt.allowSparse,arrayLimit:typeof t.arrayLimit=="number"?t.arrayLimit:jt.arrayLimit,charset:r,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:jt.charsetSentinel,comma:typeof t.comma=="boolean"?t.comma:jt.comma,decoder:typeof t.decoder=="function"?t.decoder:jt.decoder,delimiter:typeof t.delimiter=="string"||Ho.isRegExp(t.delimiter)?t.delimiter:jt.delimiter,depth:typeof t.depth=="number"||t.depth===!1?+t.depth:jt.depth,ignoreQueryPrefix:t.ignoreQueryPrefix===!0,interpretNumericEntities:typeof t.interpretNumericEntities=="boolean"?t.interpretNumericEntities:jt.interpretNumericEntities,parameterLimit:typeof t.parameterLimit=="number"?t.parameterLimit:jt.parameterLimit,parseArrays:t.parseArrays!==!1,plainObjects:typeof t.plainObjects=="boolean"?t.plainObjects:jt.plainObjects,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:jt.strictNullHandling}},kL=function(e,t){var r=qL(t);if(e===""||e===null||typeof e>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof e=="string"?KL(e,r):e,i=r.plainObjects?Object.create(null):{},a=Object.keys(n),o=0;o<a.length;++o){var s=a[o],u=GL(s,n[s],r,typeof e=="string");i=Ho.merge(i,u,r)}return r.allowSparse===!0?i:Ho.compact(i)},WL=BL,XL=kL,ZL=U_,JL={formats:ZL,parse:XL,stringify:WL},V_={},Ah={},nv,iv,av,ov;Object.defineProperty(Ah,"__esModule",{value:!0});Ah.RUNTIME=void 0;const YL=typeof window<"u"&&typeof window.document<"u",QL=typeof self=="object"&&typeof(self==null?void 0:self.importScripts)=="function"&&(((nv=self.constructor)===null||nv===void 0?void 0:nv.name)==="DedicatedWorkerGlobalScope"||((iv=self.constructor)===null||iv===void 0?void 0:iv.name)==="ServiceWorkerGlobalScope"||((av=self.constructor)===null||av===void 0?void 0:av.name)==="SharedWorkerGlobalScope"),iE=typeof Deno<"u"&&typeof Deno.version<"u"&&typeof Deno.version.deno<"u",aE=typeof Bun<"u"&&typeof Bun.version<"u",eU=typeof process<"u"&&Boolean(process.version)&&Boolean((ov=process.versions)===null||ov===void 0?void 0:ov.node)&&!iE&&!aE,tU=typeof navigator<"u"&&(navigator==null?void 0:navigator.product)==="ReactNative";Ah.RUNTIME=rU();function rU(){return YL?{type:"browser",version:window.navigator.userAgent}:QL?{type:"web-worker"}:iE?{type:"deno",version:Deno.version.deno}:aE?{type:"bun",version:Bun.version}:eU?{type:"node",version:process.versions.node}:tU?{type:"react-native"}:{type:"unknown"}}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.RUNTIME=void 0;var t=Ah;Object.defineProperty(e,"RUNTIME",{enumerable:!0,get:function(){return t.RUNTIME}})})(V_);var ad={exports:{}},vw;function mw(){return vw||(vw=1,function(e,t){var r=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof l<"u")return l;throw new Error("unable to locate global object")},n=r();e.exports=t=n.fetch,n.fetch&&(t.default=n.fetch.bind(n)),t.Headers=n.Headers,t.Request=n.Request,t.Response=n.Response}(ad,ad.exports)),ad.exports}var _w=l&&l.__awaiter||function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(d){try{c(n.next(d))}catch(f){o(f)}}function u(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?a(d.value):i(d.value).then(s,u)}c((n=n.apply(e,t||[])).next())})},oE=l&&l.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xh,"__esModule",{value:!0});xh.fetcher=void 0;const nU=oE(BC),iU=oE(JL),aU=V_,oU=1,sU=60,uU=2;function lU(e){var t,r;return _w(this,void 0,void 0,function*(){const n={};if(e.body!==void 0&&e.contentType!=null&&(n["Content-Type"]=e.contentType),e.headers!=null)for(const[u,c]of Object.entries(e.headers))c!=null&&(n[u]=c);const i=Object.keys((t=e.queryParameters)!==null&&t!==void 0?t:{}).length>0?`${e.url}?${iU.default.stringify(e.queryParameters,{arrayFormat:"repeat"})}`:e.url;let a;e.body instanceof nU.default||e.body instanceof Uint8Array?a=e.body:a=JSON.stringify(e.body);const o=aU.RUNTIME.type==="node"?mw().default:typeof fetch=="function"?fetch:mw().default,s=()=>_w(this,void 0,void 0,function*(){const u=new AbortController;let c;e.timeoutMs!=null&&(c=setTimeout(()=>u.abort(),e.timeoutMs));const d=yield o(i,{method:e.method,headers:n,body:a,signal:u.signal,credentials:e.withCredentials?"include":void 0});return c!=null&&clearTimeout(c),d});try{let u=yield s();for(let d=0;d<((r=e.maxRetries)!==null&&r!==void 0?r:uU)&&(u.status===408||u.status===409||u.status===429||u.status>=500);++d){const f=Math.min(oU*Math.pow(d,2),sU);yield new Promise(h=>setTimeout(h,f)),u=yield s()}let c;if(u.body!=null&&e.responseType==="blob")c=yield u.blob();else if(u.body!=null&&e.responseType==="streaming")c=u.body;else{const d=yield u.text();if(d.length>0)try{c=JSON.parse(d)}catch{return{ok:!1,error:{reason:"non-json",statusCode:u.status,rawBody:d}}}}return u.status>=200&&u.status<400?{ok:!0,body:c,headers:u.headers}:{ok:!1,error:{reason:"status-code",statusCode:u.status,body:c}}}catch(u){return u instanceof Error&&u.name==="AbortError"?{ok:!1,error:{reason:"timeout"}}:u instanceof Error?{ok:!1,error:{reason:"unknown",errorMessage:u.message}}:{ok:!1,error:{reason:"unknown",errorMessage:JSON.stringify(u)}}}})}xh.fetcher=lU;var Ih={};Object.defineProperty(Ih,"__esModule",{value:!0});Ih.getHeader=void 0;function cU(e,t){for(const[r,n]of Object.entries(e))if(r.toLowerCase()===t.toLowerCase())return n}Ih.getHeader=cU;var Dh={},dU=l&&l.__awaiter||function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(d){try{c(n.next(d))}catch(f){o(f)}}function u(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?a(d.value):i(d.value).then(s,u)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(Dh,"__esModule",{value:!0});Dh.Supplier=void 0;Dh.Supplier={get:e=>dU(void 0,void 0,void 0,function*(){return typeof e=="function"?e():e})};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Supplier=e.getHeader=e.fetcher=void 0;var t=xh;Object.defineProperty(e,"fetcher",{enumerable:!0,get:function(){return t.fetcher}});var r=Ih;Object.defineProperty(e,"getHeader",{enumerable:!0,get:function(){return r.getHeader}});var n=Dh;Object.defineProperty(e,"Supplier",{enumerable:!0,get:function(){return n.Supplier}})})(NC);var sE={},zh={},uE={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(typeof self<"u"?self:typeof window<"u"?window:l,function(){var r="3.7.2",n=r,i=typeof atob=="function",a=typeof btoa=="function",o=typeof Buffer=="function",s=typeof TextDecoder=="function"?new TextDecoder:void 0,u=typeof TextEncoder=="function"?new TextEncoder:void 0,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",d=Array.prototype.slice.call(c),f=function(R){var G={};return R.forEach(function(Le,mt){return G[Le]=mt}),G}(d),h=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,p=String.fromCharCode.bind(String),y=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):function(R,G){return G===void 0&&(G=function(Le){return Le}),new Uint8Array(Array.prototype.slice.call(R,0).map(G))},v=function(R){return R.replace(/=/g,"").replace(/[+\/]/g,function(G){return G=="+"?"-":"_"})},m=function(R){return R.replace(/[^A-Za-z0-9\+\/]/g,"")},b=function(R){for(var G,Le,mt,Lr,dr="",g=R.length%3,w=0;w<R.length;){if((Le=R.charCodeAt(w++))>255||(mt=R.charCodeAt(w++))>255||(Lr=R.charCodeAt(w++))>255)throw new TypeError("invalid character found");G=Le<<16|mt<<8|Lr,dr+=d[G>>18&63]+d[G>>12&63]+d[G>>6&63]+d[G&63]}return g?dr.slice(0,g-3)+"===".substring(g):dr},O=a?function(R){return btoa(R)}:o?function(R){return Buffer.from(R,"binary").toString("base64")}:b,S=o?function(R){return Buffer.from(R).toString("base64")}:function(R){for(var G=4096,Le=[],mt=0,Lr=R.length;mt<Lr;mt+=G)Le.push(p.apply(null,R.subarray(mt,mt+G)));return O(Le.join(""))},T=function(R,G){return G===void 0&&(G=!1),G?v(S(R)):S(R)},x=function(R){if(R.length<2){var G=R.charCodeAt(0);return G<128?R:G<2048?p(192|G>>>6)+p(128|G&63):p(224|G>>>12&15)+p(128|G>>>6&63)+p(128|G&63)}else{var G=65536+(R.charCodeAt(0)-55296)*1024+(R.charCodeAt(1)-56320);return p(240|G>>>18&7)+p(128|G>>>12&63)+p(128|G>>>6&63)+p(128|G&63)}},M=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,I=function(R){return R.replace(M,x)},C=o?function(R){return Buffer.from(R,"utf8").toString("base64")}:u?function(R){return S(u.encode(R))}:function(R){return O(I(R))},A=function(R,G){return G===void 0&&(G=!1),G?v(C(R)):C(R)},K=function(R){return A(R,!0)},X=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,E=function(R){switch(R.length){case 4:var G=(7&R.charCodeAt(0))<<18|(63&R.charCodeAt(1))<<12|(63&R.charCodeAt(2))<<6|63&R.charCodeAt(3),Le=G-65536;return p((Le>>>10)+55296)+p((Le&1023)+56320);case 3:return p((15&R.charCodeAt(0))<<12|(63&R.charCodeAt(1))<<6|63&R.charCodeAt(2));default:return p((31&R.charCodeAt(0))<<6|63&R.charCodeAt(1))}},F=function(R){return R.replace(X,E)},H=function(R){if(R=R.replace(/\s+/g,""),!h.test(R))throw new TypeError("malformed base64.");R+="==".slice(2-(R.length&3));for(var G,Le="",mt,Lr,dr=0;dr<R.length;)G=f[R.charAt(dr++)]<<18|f[R.charAt(dr++)]<<12|(mt=f[R.charAt(dr++)])<<6|(Lr=f[R.charAt(dr++)]),Le+=mt===64?p(G>>16&255):Lr===64?p(G>>16&255,G>>8&255):p(G>>16&255,G>>8&255,G&255);return Le},oe=i?function(R){return atob(m(R))}:o?function(R){return Buffer.from(R,"base64").toString("binary")}:H,re=o?function(R){return y(Buffer.from(R,"base64"))}:function(R){return y(oe(R),function(G){return G.charCodeAt(0)})},ue=function(R){return re(De(R))},ie=o?function(R){return Buffer.from(R,"base64").toString("utf8")}:s?function(R){return s.decode(re(R))}:function(R){return F(oe(R))},De=function(R){return m(R.replace(/[-_]/g,function(G){return G=="-"?"+":"/"}))},le=function(R){return ie(De(R))},Y=function(R){if(typeof R!="string")return!1;var G=R.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(G)||!/[^\s0-9a-zA-Z\-_]/.test(G)},ee=function(R){return{value:R,enumerable:!1,writable:!0,configurable:!0}},ze=function(){var R=function(G,Le){return Object.defineProperty(String.prototype,G,ee(Le))};R("fromBase64",function(){return le(this)}),R("toBase64",function(G){return A(this,G)}),R("toBase64URI",function(){return A(this,!0)}),R("toBase64URL",function(){return A(this,!0)}),R("toUint8Array",function(){return ue(this)})},Mt=function(){var R=function(G,Le){return Object.defineProperty(Uint8Array.prototype,G,ee(Le))};R("toBase64",function(G){return T(this,G)}),R("toBase64URI",function(){return T(this,!0)}),R("toBase64URL",function(){return T(this,!0)})},Tt=function(){ze(),Mt()},je={version:r,VERSION:n,atob:oe,atobPolyfill:H,btoa:O,btoaPolyfill:b,fromBase64:le,toBase64:A,encode:A,encodeURI:K,encodeURL:K,utob:I,btou:F,decode:le,isValid:Y,fromUint8Array:T,toUint8Array:ue,extendString:ze,extendUint8Array:Mt,extendBuiltins:Tt};return je.Base64={},Object.keys(je).forEach(function(R){return je.Base64[R]=je[R]}),je})})(uE);Object.defineProperty(zh,"__esModule",{value:!0});zh.BasicAuth=void 0;const gw=uE.exports,fU=/^Basic /i;zh.BasicAuth={toAuthorizationHeader:e=>e==null?void 0:`Basic ${gw.Base64.encode(`${e.username}:${e.password}`)}`,fromAuthorizationHeader:e=>{const t=e.replace(fU,""),r=gw.Base64.decode(t),[n,i]=r.split(":",2);if(n==null||i==null)throw new Error("Invalid basic auth");return{username:n,password:i}}};var Nh={};Object.defineProperty(Nh,"__esModule",{value:!0});Nh.BearerToken=void 0;const hU=/^Bearer /i;Nh.BearerToken={toAuthorizationHeader:e=>{if(e!=null)return`Bearer ${e}`},fromAuthorizationHeader:e=>e.replace(hU,"").trim()};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.BearerToken=e.BasicAuth=void 0;var t=zh;Object.defineProperty(e,"BasicAuth",{enumerable:!0,get:function(){return t.BasicAuth}});var r=Nh;Object.defineProperty(e,"BearerToken",{enumerable:!0,get:function(){return r.BearerToken}})})(sE);var lE={},Bh={},Sn={},ou=l&&l.__awaiter||function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(d){try{c(n.next(d))}catch(f){o(f)}}function u(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?a(d.value):i(d.value).then(s,u)}c((n=n.apply(e,t||[])).next())})},su=l&&l.__asyncValues||function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof __values=="function"?__values(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(a){r[a]=e[a]&&function(o){return new Promise(function(s,u){o=e[a](o),i(s,u,o.done,o.value)})}}function i(a,o,s,u){Promise.resolve(u).then(function(c){a({value:c,done:s})},o)}},tt=l&&l.__await||function(e){return this instanceof tt?(this.v=e,this):new tt(e)},uu=l&&l.__asyncGenerator||function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,a=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){n[h]&&(i[h]=function(p){return new Promise(function(y,v){a.push([h,p,y,v])>1||s(h,p)})})}function s(h,p){try{u(n[h](p))}catch(y){f(a[0][3],y)}}function u(h){h.value instanceof tt?Promise.resolve(h.value.v).then(c,d):f(a[0][2],h)}function c(h){s("next",h)}function d(h){s("throw",h)}function f(h,p){h(p),a.shift(),a.length&&s(a[0][0],a[0][1])}};Object.defineProperty(Sn,"__esModule",{value:!0});Sn.readableStreamAsyncIterable=Sn._decodeChunks=Sn._iterSSEMessages=Sn.StreamUtils=void 0;const zo=Ht;class Mo{constructor(t,r){this.iterator=t,this.controller=r}static fromSSEResponse(t,r){let n=!1;function i(){return uu(this,arguments,function*(){var o,s;if(n)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let u=!1;try{try{for(var c=su(cE(t,r)),d;d=yield tt(c.next()),!d.done;){const f=d.value;if(!u){if(f.data.startsWith("[DONE]")){u=!0;continue}if(f.event===null){let h;try{h=JSON.parse(f.data)}catch(p){throw console.error("Could not parse message into JSON:",f.data),console.error("From chunk:",f.raw),p}if(h&&h.error)throw new zo.CohereError({message:`Error: ${h.error}`});yield yield tt(h)}else{let h;try{h=JSON.parse(f.data)}catch(p){throw console.error("Could not parse message into JSON:",f.data),console.error("From chunk:",f.raw),p}if(f.event=="error")throw new zo.CohereError({message:`Error: ${h.message}, ${h.error}`});yield yield tt({event:f.event,data:h})}}}}catch(f){o={error:f}}finally{try{d&&!d.done&&(s=c.return)&&(yield tt(s.call(c)))}finally{if(o)throw o.error}}u=!0}catch(f){if(f instanceof Error&&f.name==="AbortError")return yield tt(void 0);throw f}finally{u||r==null||r.abort()}})}return new Mo(i,r)}static fromReadableStream(t,r){let n=!1;function i(){return uu(this,arguments,function*(){var s,u;const c=new Bi,d=K_(t);try{for(var f=su(d),h;h=yield tt(f.next()),!h.done;){const p=h.value;for(const y of c.decode(p))yield yield tt(y)}}catch(p){s={error:p}}finally{try{h&&!h.done&&(u=f.return)&&(yield tt(u.call(f)))}finally{if(s)throw s.error}}for(const p of c.flush())yield yield tt(p)})}function a(){return uu(this,arguments,function*(){var s,u;if(n)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let c=!1;try{try{for(var d=su(i()),f;f=yield tt(d.next()),!f.done;){const h=f.value;c||h&&(yield yield tt(JSON.parse(h)))}}catch(h){s={error:h}}finally{try{f&&!f.done&&(u=d.return)&&(yield tt(u.call(d)))}finally{if(s)throw s.error}}c=!0}catch(h){if(h instanceof Error&&h.name==="AbortError")return yield tt(void 0);throw h}finally{c||r==null||r.abort()}})}return new Mo(a,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],r=[],n=this.iterator(),i=a=>({next:()=>{if(a.length===0){const o=n.next();t.push(o),r.push(o)}return a.shift()}});return[new Mo(()=>i(t),this.controller),new Mo(()=>i(r),this.controller)]}toReadableStream(){const t=this;let r;const n=new TextEncoder;return new ReadableStream({start(){return ou(this,void 0,void 0,function*(){r=t[Symbol.asyncIterator]()})},pull(i){return ou(this,void 0,void 0,function*(){try{const{value:a,done:o}=yield r.next();if(o)return i.close();const s=n.encode(JSON.stringify(a)+`
`);i.enqueue(s)}catch(a){i.error(a)}})},cancel(){var i;return ou(this,void 0,void 0,function*(){yield(i=r.return)===null||i===void 0?void 0:i.call(r)})}})}}Sn.StreamUtils=Mo;function cE(e,t){return uu(this,arguments,function*(){var n,i;if(!e.body)throw t==null||t.abort(),new zo.CohereError({message:"Attempted to iterate over a response with no body"});const a=new vU,o=new Bi,s=K_(e.body);try{for(var u=su(pU(s)),c;c=yield tt(u.next()),!c.done;){const d=c.value;for(const f of o.decode(d)){const h=a.decode(f);h&&(yield yield tt(h))}}}catch(d){n={error:d}}finally{try{c&&!c.done&&(i=u.return)&&(yield tt(i.call(u)))}finally{if(n)throw n.error}}for(const d of o.flush()){const f=a.decode(d);f&&(yield yield tt(f))}})}Sn._iterSSEMessages=cE;function pU(e){return uu(this,arguments,function*(){var r,n;let i=new Uint8Array;try{for(var a=su(e),o;o=yield tt(a.next()),!o.done;){const s=o.value;if(s==null)continue;const u=s instanceof ArrayBuffer?new Uint8Array(s):typeof s=="string"?new TextEncoder().encode(s):s;let c=new Uint8Array(i.length+u.length);c.set(i),c.set(u,i.length),i=c;let d;for(;(d=yU(i))!==-1;)yield yield tt(i.slice(0,d)),i=i.slice(d)}}catch(s){r={error:s}}finally{try{o&&!o.done&&(n=a.return)&&(yield tt(n.call(a)))}finally{if(r)throw r.error}}i.length>0&&(yield yield tt(i))})}function yU(e){for(let n=0;n<e.length-2;n++){if(e[n]===10&&e[n+1]===10||e[n]===13&&e[n+1]===13)return n+2;if(e[n]===13&&e[n+1]===10&&n+3<e.length&&e[n+2]===13&&e[n+3]===10)return n+4}return-1}class vU{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(t),t.startsWith(":"))return null;let[r,n,i]=_U(t,":");return i.startsWith(" ")&&(i=i.substring(1)),r==="event"?this.event=i:r==="data"&&this.data.push(i),null}}class Bi{constructor(){this.buffer=[],this.trailingCR=!1}decode(t){let r=this.decodeText(t);if(this.trailingCR&&(r="\r"+r,this.trailingCR=!1),r.endsWith("\r")&&(this.trailingCR=!0,r=r.slice(0,-1)),!r)return[];const n=Bi.NEWLINE_CHARS.has(r[r.length-1]||"");let i=r.split(Bi.NEWLINE_REGEXP);return n&&i.pop(),i.length===1&&!n?(this.buffer.push(i[0]),[]):(this.buffer.length>0&&(i=[this.buffer.join("")+i[0],...i.slice(1)],this.buffer=[]),n||(this.buffer=[i.pop()||""]),i)}decodeText(t){var r;if(t==null)return"";if(typeof t=="string")return t;if(typeof Buffer<"u"){if(t instanceof Buffer)return t.toString();if(t instanceof Uint8Array)return Buffer.from(t).toString();throw new zo.CohereError({message:`Unexpected: received non-Uint8Array (${t.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`})}if(typeof TextDecoder<"u"){if(t instanceof Uint8Array||t instanceof ArrayBuffer)return(r=this.textDecoder)!==null&&r!==void 0||(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(t);throw new zo.CohereError({message:`Unexpected: received non-Uint8Array/ArrayBuffer (${t.constructor.name}) in a web platform. Please report this error.`})}throw new zo.CohereError({message:"Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error."})}flush(){if(!this.buffer.length&&!this.trailingCR)return[];const t=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,t}}Bi.NEWLINE_CHARS=new Set([`
`,"\r"]);Bi.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function mU(e){const t=new Bi,r=[];for(const n of e)r.push(...t.decode(n));return r}Sn._decodeChunks=mU;function _U(e,t){const r=e.indexOf(t);return r!==-1?[e.substring(0,r),t,e.substring(r+t.length)]:[e,"",""]}function K_(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{next(){return ou(this,void 0,void 0,function*(){try{const r=yield t.read();return r!=null&&r.done&&t.releaseLock(),r}catch(r){throw t.releaseLock(),r}})},return(){return ou(this,void 0,void 0,function*(){const r=t.cancel();return t.releaseLock(),yield r,{done:!0,value:void 0}})},[Symbol.asyncIterator](){return this}}}Sn.readableStreamAsyncIterable=K_;var bw=l&&l.__asyncValues||function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof __values=="function"?__values(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(a){r[a]=e[a]&&function(o){return new Promise(function(s,u){o=e[a](o),i(s,u,o.done,o.value)})}}function i(a,o,s,u){Promise.resolve(u).then(function(c){a({value:c,done:s})},o)}},vn=l&&l.__await||function(e){return this instanceof vn?(this.v=e,this):new vn(e)},ww=l&&l.__asyncGenerator||function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,a=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){n[h]&&(i[h]=function(p){return new Promise(function(y,v){a.push([h,p,y,v])>1||s(h,p)})})}function s(h,p){try{u(n[h](p))}catch(y){f(a[0][3],y)}}function u(h){h.value instanceof vn?Promise.resolve(h.value.v).then(c,d):f(a[0][2],h)}function c(h){s("next",h)}function d(h){s("throw",h)}function f(h,p){h(p),a.shift(),a.length&&s(a[0][0],a[0][1])}};Object.defineProperty(Bh,"__esModule",{value:!0});Bh.Stream=void 0;const Ow=Sn;class gU{constructor({response:t,parse:r,terminator:n}){this.response=t,this.parse=r,this.terminator=n}iterMessages(){var t,r,n;return ww(this,arguments,function*(){var a,o;const u=Boolean((n=(r=(t=this.response)===null||t===void 0?void 0:t.headers)===null||r===void 0?void 0:r.get("content-type"))===null||n===void 0?void 0:n.includes("text/event-stream"))?Ow.StreamUtils.fromSSEResponse(this.response):Ow.StreamUtils.fromReadableStream(this.response.body);try{for(var c=bw(u),d;d=yield vn(c.next()),!d.done;){const f=d.value,h=yield vn(this.parse(f));yield yield vn(h)}}catch(f){a={error:f}}finally{try{d&&!d.done&&(o=c.return)&&(yield vn(o.call(c)))}finally{if(a)throw a.error}}})}[Symbol.asyncIterator](){return ww(this,arguments,function*(){var r,n;try{for(var i=bw(this.iterMessages()),a;a=yield vn(i.next()),!a.done;){const o=a.value;yield yield vn(o)}}catch(o){r={error:o}}finally{try{a&&!a.done&&(n=i.return)&&(yield vn(n.call(i)))}finally{if(r)throw r.error}}})}}Bh.Stream=gU;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Stream=void 0;var t=Bh;Object.defineProperty(e,"Stream",{enumerable:!0,get:function(){return t.Stream}})})(lE);var dE={},fE={},hE={},Fh={},Ot={};Object.defineProperty(Ot,"__esModule",{value:!0});Ot.SchemaType=void 0;Ot.SchemaType={DATE:"date",ENUM:"enum",LIST:"list",STRING_LITERAL:"stringLiteral",BOOLEAN_LITERAL:"booleanLiteral",OBJECT:"object",ANY:"any",BOOLEAN:"boolean",NUMBER:"number",STRING:"string",UNKNOWN:"unknown",RECORD:"record",SET:"set",UNION:"union",UNDISCRIMINATED_UNION:"undiscriminatedUnion",OPTIONAL:"optional"};var Gt={};Object.defineProperty(Gt,"__esModule",{value:!0});Gt.getErrorMessageForIncorrectType=void 0;function bU(e,t){return`Expected ${t}. Received ${wU(e)}.`}Gt.getErrorMessageForIncorrectType=bU;function wU(e){if(Array.isArray(e))return"list";if(e===null)return"null";switch(typeof e){case"string":return`"${e}"`;case"number":case"boolean":case"undefined":return`${e}`}return typeof e}var nn={},OU=l&&l.__awaiter||function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(d){try{c(n.next(d))}catch(f){o(f)}}function u(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?a(d.value):i(d.value).then(s,u)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(nn,"__esModule",{value:!0});nn.maybeSkipValidation=void 0;function SU(e){return Object.assign(Object.assign({},e),{json:Sw(e.json),parse:Sw(e.parse)})}nn.maybeSkipValidation=SU;function Sw(e){return(t,r)=>OU(this,void 0,void 0,function*(){const n=yield e(t,r),{skipValidation:i=!1}=r!=null?r:{};return!n.ok&&i?(console.warn(["Failed to validate.",...n.errors.map(a=>"  - "+(a.path.length>0?`${a.path.join(".")}: ${a.message}`:a.message))].join(`
`)),{ok:!0,value:t}):n})}var Rr={},Ri={},ol={},sl={};Object.defineProperty(sl,"__esModule",{value:!0});sl.stringifyValidationError=void 0;function PU(e){return e.path.length===0?e.message:`${e.path.join(" -> ")}: ${e.message}`}sl.stringifyValidationError=PU;Object.defineProperty(ol,"__esModule",{value:!0});ol.JsonError=void 0;const jU=sl;class H_ extends Error{constructor(t){super(t.map(jU.stringifyValidationError).join("; ")),this.errors=t,Object.setPrototypeOf(this,H_.prototype)}}ol.JsonError=H_;var ul={};Object.defineProperty(ul,"__esModule",{value:!0});ul.ParseError=void 0;const CU=sl;class G_ extends Error{constructor(t){super(t.map(CU.stringifyValidationError).join("; ")),this.errors=t,Object.setPrototypeOf(this,G_.prototype)}}ul.ParseError=G_;var mf=l&&l.__awaiter||function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(d){try{c(n.next(d))}catch(f){o(f)}}function u(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?a(d.value):i(d.value).then(s,u)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(Ri,"__esModule",{value:!0});Ri.transform=Ri.optional=Ri.getSchemaUtils=void 0;const EU=Ot,MU=ol,TU=ul;function q_(e){return{optional:()=>pE(e),transform:t=>yE(e,t),parseOrThrow:(t,r)=>mf(this,void 0,void 0,function*(){const n=yield e.parse(t,r);if(n.ok)return n.value;throw new TU.ParseError(n.errors)}),jsonOrThrow:(t,r)=>mf(this,void 0,void 0,function*(){const n=yield e.json(t,r);if(n.ok)return n.value;throw new MU.JsonError(n.errors)})}}Ri.getSchemaUtils=q_;function pE(e){const t={parse:(r,n)=>r==null?{ok:!0,value:void 0}:e.parse(r,n),json:(r,n)=>r==null?{ok:!0,value:null}:e.json(r,n),getType:()=>EU.SchemaType.OPTIONAL};return Object.assign(Object.assign({},t),q_(t))}Ri.optional=pE;function yE(e,t){const r={parse:(n,i)=>mf(this,void 0,void 0,function*(){const a=yield e.parse(n,i);return a.ok?{ok:!0,value:t.transform(a.value)}:a}),json:(n,i)=>mf(this,void 0,void 0,function*(){const a=yield t.untransform(n);return e.json(a,i)}),getType:()=>e.getType()};return Object.assign(Object.assign({},r),q_(r))}Ri.transform=yE;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ParseError=e.JsonError=e.transform=e.optional=e.getSchemaUtils=void 0;var t=Ri;Object.defineProperty(e,"getSchemaUtils",{enumerable:!0,get:function(){return t.getSchemaUtils}}),Object.defineProperty(e,"optional",{enumerable:!0,get:function(){return t.optional}}),Object.defineProperty(e,"transform",{enumerable:!0,get:function(){return t.transform}});var r=ol;Object.defineProperty(e,"JsonError",{enumerable:!0,get:function(){return r.JsonError}});var n=ul;Object.defineProperty(e,"ParseError",{enumerable:!0,get:function(){return n.ParseError}})})(Rr);Object.defineProperty(Fh,"__esModule",{value:!0});Fh.date=void 0;const RU=Ot,sv=Gt,$U=nn,xU=Rr,AU=/^([+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24:?00)([.,]\d+(?!:))?)?(\17[0-5]\d([.,]\d+)?)?([zZ]|([+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/;function IU(){const e={parse:(t,{breadcrumbsPrefix:r=[]}={})=>typeof t!="string"?{ok:!1,errors:[{path:r,message:(0,sv.getErrorMessageForIncorrectType)(t,"string")}]}:AU.test(t)?{ok:!0,value:new Date(t)}:{ok:!1,errors:[{path:r,message:(0,sv.getErrorMessageForIncorrectType)(t,"ISO 8601 date string")}]},json:(t,{breadcrumbsPrefix:r=[]}={})=>t instanceof Date?{ok:!0,value:t.toISOString()}:{ok:!1,errors:[{path:r,message:(0,sv.getErrorMessageForIncorrectType)(t,"Date object")}]},getType:()=>RU.SchemaType.DATE};return Object.assign(Object.assign({},(0,$U.maybeSkipValidation)(e)),(0,xU.getSchemaUtils)(e))}Fh.date=IU;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.date=void 0;var t=Fh;Object.defineProperty(e,"date",{enumerable:!0,get:function(){return t.date}})})(hE);var k_={},Lh={},an={};Object.defineProperty(an,"__esModule",{value:!0});an.createIdentitySchemaCreator=void 0;const DU=Rr,zU=nn;function NU(e,t){return()=>{const r={parse:t,json:t,getType:()=>e};return Object.assign(Object.assign({},(0,zU.maybeSkipValidation)(r)),(0,DU.getSchemaUtils)(r))}}an.createIdentitySchemaCreator=NU;Object.defineProperty(Lh,"__esModule",{value:!0});Lh.enum_=void 0;const BU=Ot,FU=an,Pw=Gt;function LU(e){const t=new Set(e);return(0,FU.createIdentitySchemaCreator)(BU.SchemaType.ENUM,(n,{allowUnrecognizedEnumValues:i,breadcrumbsPrefix:a=[]}={})=>typeof n!="string"?{ok:!1,errors:[{path:a,message:(0,Pw.getErrorMessageForIncorrectType)(n,"string")}]}:!t.has(n)&&!i?{ok:!1,errors:[{path:a,message:(0,Pw.getErrorMessageForIncorrectType)(n,"enum")}]}:{ok:!0,value:n})()}Lh.enum_=LU;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.enum_=void 0;var t=Lh;Object.defineProperty(e,"enum_",{enumerable:!0,get:function(){return t.enum_}})})(k_);var vE={},kn={},Ad=l&&l.__awaiter||function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(d){try{c(n.next(d))}catch(f){o(f)}}function u(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?a(d.value):i(d.value).then(s,u)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(kn,"__esModule",{value:!0});kn.getMemoizedSchema=kn.constructLazyBaseSchema=kn.lazy=void 0;const UU=Rr;function VU(e){const t=mE(e);return Object.assign(Object.assign({},t),(0,UU.getSchemaUtils)(t))}kn.lazy=VU;function mE(e){return{parse:(t,r)=>Ad(this,void 0,void 0,function*(){return(yield Id(e)).parse(t,r)}),json:(t,r)=>Ad(this,void 0,void 0,function*(){return(yield Id(e)).json(t,r)}),getType:()=>Ad(this,void 0,void 0,function*(){return(yield Id(e)).getType()})}}kn.constructLazyBaseSchema=mE;function Id(e){return Ad(this,void 0,void 0,function*(){const t=e;return t.__zurg_memoized==null&&(t.__zurg_memoized=yield e()),t.__zurg_memoized})}kn.getMemoizedSchema=Id;var Uh={},W_={},Ua={},ll={};Object.defineProperty(ll,"__esModule",{value:!0});ll.entries=void 0;function KU(e){return Object.entries(e)}ll.entries=KU;var cl={};Object.defineProperty(cl,"__esModule",{value:!0});cl.filterObject=void 0;function HU(e,t){const r=new Set(t);return Object.entries(e).reduce((n,[i,a])=>(r.has(i)&&(n[i]=a),n),{})}cl.filterObject=HU;var qa={};Object.defineProperty(qa,"__esModule",{value:!0});qa.isPlainObject=void 0;function GU(e){if(typeof e!="object"||e===null)return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}qa.isPlainObject=GU;var dl={};Object.defineProperty(dl,"__esModule",{value:!0});dl.keys=void 0;function qU(e){return Object.keys(e)}dl.keys=qU;var Vh={};Object.defineProperty(Vh,"__esModule",{value:!0});Vh.partition=void 0;function kU(e,t){const r=[],n=[];for(const i of e)t(i)?r.push(i):n.push(i);return[r,n]}Vh.partition=kU;var fl={},Go={},WU=l&&l.__awaiter||function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(d){try{c(n.next(d))}catch(f){o(f)}}function u(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?a(d.value):i(d.value).then(s,u)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(Go,"__esModule",{value:!0});Go.withParsedProperties=Go.getObjectLikeUtils=void 0;const XU=cl,ZU=Gt,JU=qa,YU=Rr;function _E(e){return{withParsedProperties:t=>gE(e,t)}}Go.getObjectLikeUtils=_E;function gE(e,t){const r={parse:(n,i)=>WU(this,void 0,void 0,function*(){const a=yield e.parse(n,i);if(!a.ok)return a;const o=Object.entries(t).reduce((s,[u,c])=>Object.assign(Object.assign({},s),{[u]:typeof c=="function"?c(a.value):c}),{});return{ok:!0,value:Object.assign(Object.assign({},a.value),o)}}),json:(n,i)=>{var a;if(!(0,JU.isPlainObject)(n))return{ok:!1,errors:[{path:(a=i==null?void 0:i.breadcrumbsPrefix)!==null&&a!==void 0?a:[],message:(0,ZU.getErrorMessageForIncorrectType)(n,"object")}]};const o=new Set(Object.keys(t)),s=(0,XU.filterObject)(n,Object.keys(n).filter(u=>!o.has(u)));return e.json(s,i)},getType:()=>e.getType()};return Object.assign(Object.assign(Object.assign({},r),(0,YU.getSchemaUtils)(r)),_E(r))}Go.withParsedProperties=gE;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.withParsedProperties=e.getObjectLikeUtils=void 0;var t=Go;Object.defineProperty(e,"getObjectLikeUtils",{enumerable:!0,get:function(){return t.getObjectLikeUtils}}),Object.defineProperty(e,"withParsedProperties",{enumerable:!0,get:function(){return t.withParsedProperties}})})(fl);var Va={};Object.defineProperty(Va,"__esModule",{value:!0});Va.isProperty=Va.property=void 0;function QU(e,t){return{rawKey:e,valueSchema:t,isProperty:!0}}Va.property=QU;function eV(e){return e.isProperty}Va.isProperty=eV;var ji=l&&l.__awaiter||function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(d){try{c(n.next(d))}catch(f){o(f)}}function u(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?a(d.value):i(d.value).then(s,u)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(Ua,"__esModule",{value:!0});Ua.getObjectUtils=Ua.object=void 0;const lu=Ot,jw=ll,Cw=cl,tV=Gt,rV=qa,bE=dl,nV=nn,iV=Vh,wE=fl,OE=Rr,Ms=Va;function aV(e){const t={_getRawProperties:()=>Promise.resolve(Object.entries(e).map(([r,n])=>(0,Ms.isProperty)(n)?n.rawKey:r)),_getParsedProperties:()=>Promise.resolve((0,bE.keys)(e)),parse:(r,n)=>ji(this,void 0,void 0,function*(){const i={},a=[];for(const[o,s]of(0,jw.entries)(e)){const u=(0,Ms.isProperty)(s)?s.rawKey:o,c=(0,Ms.isProperty)(s)?s.valueSchema:s,d={rawKey:u,parsedKey:o,valueSchema:c};i[u]=d,Tw(c)&&a.push(u)}return Ew({value:r,requiredKeys:a,getProperty:o=>{const s=i[o];if(s!=null)return{transformedKey:s.parsedKey,transform:u=>{var c;return s.valueSchema.parse(u,Object.assign(Object.assign({},n),{breadcrumbsPrefix:[...(c=n==null?void 0:n.breadcrumbsPrefix)!==null&&c!==void 0?c:[],o]}))}}},unrecognizedObjectKeys:n==null?void 0:n.unrecognizedObjectKeys,skipValidation:n==null?void 0:n.skipValidation,breadcrumbsPrefix:n==null?void 0:n.breadcrumbsPrefix})}),json:(r,n)=>ji(this,void 0,void 0,function*(){const i=[];for(const[a,o]of(0,jw.entries)(e)){const s=(0,Ms.isProperty)(o)?o.valueSchema:o;Tw(s)&&i.push(a)}return Ew({value:r,requiredKeys:i,getProperty:a=>{const o=e[a];if(o!=null)return(0,Ms.isProperty)(o)?{transformedKey:o.rawKey,transform:s=>{var u;return o.valueSchema.json(s,Object.assign(Object.assign({},n),{breadcrumbsPrefix:[...(u=n==null?void 0:n.breadcrumbsPrefix)!==null&&u!==void 0?u:[],a]}))}}:{transformedKey:a,transform:s=>{var u;return o.json(s,Object.assign(Object.assign({},n),{breadcrumbsPrefix:[...(u=n==null?void 0:n.breadcrumbsPrefix)!==null&&u!==void 0?u:[],a]}))}}},unrecognizedObjectKeys:n==null?void 0:n.unrecognizedObjectKeys,skipValidation:n==null?void 0:n.skipValidation,breadcrumbsPrefix:n==null?void 0:n.breadcrumbsPrefix})}),getType:()=>lu.SchemaType.OBJECT};return Object.assign(Object.assign(Object.assign(Object.assign({},(0,nV.maybeSkipValidation)(t)),(0,OE.getSchemaUtils)(t)),(0,wE.getObjectLikeUtils)(t)),X_(t))}Ua.object=aV;function Ew({value:e,requiredKeys:t,getProperty:r,unrecognizedObjectKeys:n="fail",skipValidation:i=!1,breadcrumbsPrefix:a=[]}){return ji(this,void 0,void 0,function*(){if(!(0,rV.isPlainObject)(e))return{ok:!1,errors:[{path:a,message:(0,tV.getErrorMessageForIncorrectType)(e,"object")}]};const o=new Set(t),s=[],u={};for(const[c,d]of Object.entries(e)){const f=r(c);if(f!=null){o.delete(c);const h=yield f.transform(d);h.ok?u[f.transformedKey]=h.value:(u[c]=d,s.push(...h.errors))}else switch(n){case"fail":s.push({path:[...a,c],message:`Unexpected key "${c}"`});break;case"strip":break;case"passthrough":u[c]=d;break}}return s.push(...t.filter(c=>o.has(c)).map(c=>({path:a,message:`Missing required key "${c}"`}))),s.length===0||i?{ok:!0,value:u}:{ok:!1,errors:s}})}function X_(e){return{extend:t=>{const r={_getParsedProperties:()=>ji(this,void 0,void 0,function*(){return[...yield e._getParsedProperties(),...yield t._getParsedProperties()]}),_getRawProperties:()=>ji(this,void 0,void 0,function*(){return[...yield e._getRawProperties(),...yield t._getRawProperties()]}),parse:(n,i)=>ji(this,void 0,void 0,function*(){return Mw({extensionKeys:yield t._getRawProperties(),value:n,transformBase:a=>e.parse(a,i),transformExtension:a=>t.parse(a,i)})}),json:(n,i)=>ji(this,void 0,void 0,function*(){return Mw({extensionKeys:yield t._getParsedProperties(),value:n,transformBase:a=>e.json(a,i),transformExtension:a=>t.json(a,i)})}),getType:()=>lu.SchemaType.OBJECT};return Object.assign(Object.assign(Object.assign(Object.assign({},r),(0,OE.getSchemaUtils)(r)),(0,wE.getObjectLikeUtils)(r)),X_(r))}}}Ua.getObjectUtils=X_;function Mw({extensionKeys:e,value:t,transformBase:r,transformExtension:n}){return ji(this,void 0,void 0,function*(){const i=new Set(e),[a,o]=(0,iV.partition)((0,bE.keys)(t),c=>i.has(c)),s=yield r((0,Cw.filterObject)(t,o)),u=yield n((0,Cw.filterObject)(t,a));return s.ok&&u.ok?{ok:!0,value:Object.assign(Object.assign({},s.value),u.value)}:{ok:!1,errors:[...s.ok?[]:s.errors,...u.ok?[]:u.errors]}})}function Tw(e){return!oV(e)}function oV(e){switch(e.getType()){case lu.SchemaType.ANY:case lu.SchemaType.UNKNOWN:case lu.SchemaType.OPTIONAL:return!0;default:return!1}}var Kh={};Object.defineProperty(Kh,"__esModule",{value:!0});Kh.objectWithoutOptionalProperties=void 0;const sV=Ua;function uV(e){return(0,sV.object)(e)}Kh.objectWithoutOptionalProperties=uV;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.property=e.isProperty=e.objectWithoutOptionalProperties=e.object=e.getObjectUtils=void 0;var t=Ua;Object.defineProperty(e,"getObjectUtils",{enumerable:!0,get:function(){return t.getObjectUtils}}),Object.defineProperty(e,"object",{enumerable:!0,get:function(){return t.object}});var r=Kh;Object.defineProperty(e,"objectWithoutOptionalProperties",{enumerable:!0,get:function(){return r.objectWithoutOptionalProperties}});var n=Va;Object.defineProperty(e,"isProperty",{enumerable:!0,get:function(){return n.isProperty}}),Object.defineProperty(e,"property",{enumerable:!0,get:function(){return n.property}})})(W_);var Rw=l&&l.__awaiter||function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(d){try{c(n.next(d))}catch(f){o(f)}}function u(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?a(d.value):i(d.value).then(s,u)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(Uh,"__esModule",{value:!0});Uh.lazyObject=void 0;const lV=W_,cV=fl,dV=Rr,uv=kn;function fV(e){const t=Object.assign(Object.assign({},(0,uv.constructLazyBaseSchema)(e)),{_getRawProperties:()=>Rw(this,void 0,void 0,function*(){return(yield(0,uv.getMemoizedSchema)(e))._getRawProperties()}),_getParsedProperties:()=>Rw(this,void 0,void 0,function*(){return(yield(0,uv.getMemoizedSchema)(e))._getParsedProperties()})});return Object.assign(Object.assign(Object.assign(Object.assign({},t),(0,dV.getSchemaUtils)(t)),(0,cV.getObjectLikeUtils)(t)),(0,lV.getObjectUtils)(t))}Uh.lazyObject=fV;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.lazyObject=e.lazy=void 0;var t=kn;Object.defineProperty(e,"lazy",{enumerable:!0,get:function(){return t.lazy}});var r=Uh;Object.defineProperty(e,"lazyObject",{enumerable:!0,get:function(){return r.lazyObject}})})(vE);var Z_={},Hh={},SE=l&&l.__awaiter||function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(d){try{c(n.next(d))}catch(f){o(f)}}function u(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?a(d.value):i(d.value).then(s,u)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(Hh,"__esModule",{value:!0});Hh.list=void 0;const hV=Ot,pV=Gt,yV=nn,vV=Rr;function mV(e){const t={parse:(r,n)=>SE(this,void 0,void 0,function*(){return $w(r,(i,a)=>{var o;return e.parse(i,Object.assign(Object.assign({},n),{breadcrumbsPrefix:[...(o=n==null?void 0:n.breadcrumbsPrefix)!==null&&o!==void 0?o:[],`[${a}]`]}))})}),json:(r,n)=>$w(r,(i,a)=>{var o;return e.json(i,Object.assign(Object.assign({},n),{breadcrumbsPrefix:[...(o=n==null?void 0:n.breadcrumbsPrefix)!==null&&o!==void 0?o:[],`[${a}]`]}))}),getType:()=>hV.SchemaType.LIST};return Object.assign(Object.assign({},(0,yV.maybeSkipValidation)(t)),(0,vV.getSchemaUtils)(t))}Hh.list=mV;function $w(e,t){return SE(this,void 0,void 0,function*(){return Array.isArray(e)?(yield Promise.all(e.map((n,i)=>t(n,i)))).reduce((n,i)=>{if(n.ok&&i.ok)return{ok:!0,value:[...n.value,i.value]};const a=[];return n.ok||a.push(...n.errors),i.ok||a.push(...i.errors),{ok:!1,errors:a}},{ok:!0,value:[]}):{ok:!1,errors:[{message:(0,pV.getErrorMessageForIncorrectType)(e,"list"),path:[]}]}})}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.list=void 0;var t=Hh;Object.defineProperty(e,"list",{enumerable:!0,get:function(){return t.list}})})(Z_);var PE={},Gh={};Object.defineProperty(Gh,"__esModule",{value:!0});Gh.stringLiteral=void 0;const _V=Ot,gV=an,bV=Gt;function wV(e){return(0,gV.createIdentitySchemaCreator)(_V.SchemaType.STRING_LITERAL,(r,{breadcrumbsPrefix:n=[]}={})=>r===e?{ok:!0,value:e}:{ok:!1,errors:[{path:n,message:(0,bV.getErrorMessageForIncorrectType)(r,`"${e}"`)}]})()}Gh.stringLiteral=wV;var qh={};Object.defineProperty(qh,"__esModule",{value:!0});qh.booleanLiteral=void 0;const OV=Ot,SV=an,PV=Gt;function jV(e){return(0,SV.createIdentitySchemaCreator)(OV.SchemaType.BOOLEAN_LITERAL,(r,{breadcrumbsPrefix:n=[]}={})=>r===e?{ok:!0,value:e}:{ok:!1,errors:[{path:n,message:(0,PV.getErrorMessageForIncorrectType)(r,`${e.toString()}`)}]})()}qh.booleanLiteral=jV;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.booleanLiteral=e.stringLiteral=void 0;var t=Gh;Object.defineProperty(e,"stringLiteral",{enumerable:!0,get:function(){return t.stringLiteral}});var r=qh;Object.defineProperty(e,"booleanLiteral",{enumerable:!0,get:function(){return r.booleanLiteral}})})(PE);var jE={},kh={};Object.defineProperty(kh,"__esModule",{value:!0});kh.any=void 0;const CV=Ot,EV=an;kh.any=(0,EV.createIdentitySchemaCreator)(CV.SchemaType.ANY,e=>({ok:!0,value:e}));var Wh={};Object.defineProperty(Wh,"__esModule",{value:!0});Wh.boolean=void 0;const MV=Ot,TV=an,RV=Gt;Wh.boolean=(0,TV.createIdentitySchemaCreator)(MV.SchemaType.BOOLEAN,(e,{breadcrumbsPrefix:t=[]}={})=>typeof e=="boolean"?{ok:!0,value:e}:{ok:!1,errors:[{path:t,message:(0,RV.getErrorMessageForIncorrectType)(e,"boolean")}]});var Xh={};Object.defineProperty(Xh,"__esModule",{value:!0});Xh.number=void 0;const $V=Ot,xV=an,AV=Gt;Xh.number=(0,xV.createIdentitySchemaCreator)($V.SchemaType.NUMBER,(e,{breadcrumbsPrefix:t=[]}={})=>typeof e=="number"?{ok:!0,value:e}:{ok:!1,errors:[{path:t,message:(0,AV.getErrorMessageForIncorrectType)(e,"number")}]});var Zh={};Object.defineProperty(Zh,"__esModule",{value:!0});Zh.string=void 0;const IV=Ot,DV=an,zV=Gt;Zh.string=(0,DV.createIdentitySchemaCreator)(IV.SchemaType.STRING,(e,{breadcrumbsPrefix:t=[]}={})=>typeof e=="string"?{ok:!0,value:e}:{ok:!1,errors:[{path:t,message:(0,zV.getErrorMessageForIncorrectType)(e,"string")}]});var Jh={};Object.defineProperty(Jh,"__esModule",{value:!0});Jh.unknown=void 0;const NV=Ot,BV=an;Jh.unknown=(0,BV.createIdentitySchemaCreator)(NV.SchemaType.UNKNOWN,e=>({ok:!0,value:e}));(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.unknown=e.string=e.number=e.boolean=e.any=void 0;var t=kh;Object.defineProperty(e,"any",{enumerable:!0,get:function(){return t.any}});var r=Wh;Object.defineProperty(e,"boolean",{enumerable:!0,get:function(){return r.boolean}});var n=Xh;Object.defineProperty(e,"number",{enumerable:!0,get:function(){return n.number}});var i=Zh;Object.defineProperty(e,"string",{enumerable:!0,get:function(){return i.string}});var a=Jh;Object.defineProperty(e,"unknown",{enumerable:!0,get:function(){return a.unknown}})})(jE);var CE={},Yh={},_f=l&&l.__awaiter||function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(d){try{c(n.next(d))}catch(f){o(f)}}function u(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?a(d.value):i(d.value).then(s,u)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(Yh,"__esModule",{value:!0});Yh.record=void 0;const lv=Ot,FV=ll,LV=Gt,UV=qa,VV=nn,KV=Rr;function HV(e,t){const r={parse:(n,i)=>_f(this,void 0,void 0,function*(){return xw({value:n,isKeyNumeric:(yield e.getType())===lv.SchemaType.NUMBER,transformKey:a=>{var o;return e.parse(a,Object.assign(Object.assign({},i),{breadcrumbsPrefix:[...(o=i==null?void 0:i.breadcrumbsPrefix)!==null&&o!==void 0?o:[],`${a} (key)`]}))},transformValue:(a,o)=>{var s;return t.parse(a,Object.assign(Object.assign({},i),{breadcrumbsPrefix:[...(s=i==null?void 0:i.breadcrumbsPrefix)!==null&&s!==void 0?s:[],`${o}`]}))},breadcrumbsPrefix:i==null?void 0:i.breadcrumbsPrefix})}),json:(n,i)=>_f(this,void 0,void 0,function*(){return xw({value:n,isKeyNumeric:(yield e.getType())===lv.SchemaType.NUMBER,transformKey:a=>{var o;return e.json(a,Object.assign(Object.assign({},i),{breadcrumbsPrefix:[...(o=i==null?void 0:i.breadcrumbsPrefix)!==null&&o!==void 0?o:[],`${a} (key)`]}))},transformValue:(a,o)=>{var s;return t.json(a,Object.assign(Object.assign({},i),{breadcrumbsPrefix:[...(s=i==null?void 0:i.breadcrumbsPrefix)!==null&&s!==void 0?s:[],`${o}`]}))},breadcrumbsPrefix:i==null?void 0:i.breadcrumbsPrefix})}),getType:()=>lv.SchemaType.RECORD};return Object.assign(Object.assign({},(0,VV.maybeSkipValidation)(r)),(0,KV.getSchemaUtils)(r))}Yh.record=HV;function xw({value:e,isKeyNumeric:t,transformKey:r,transformValue:n,breadcrumbsPrefix:i=[]}){return _f(this,void 0,void 0,function*(){return(0,UV.isPlainObject)(e)?(0,FV.entries)(e).reduce((a,[o,s])=>_f(this,void 0,void 0,function*(){if(s==null)return a;const u=yield a;let c=o;if(t){const p=o.length>0?Number(o):NaN;isNaN(p)||(c=p)}const d=yield r(c),f=yield n(s,c);if(u.ok&&d.ok&&f.ok)return{ok:!0,value:Object.assign(Object.assign({},u.value),{[d.value]:f.value})};const h=[];return u.ok||h.push(...u.errors),d.ok||h.push(...d.errors),f.ok||h.push(...f.errors),{ok:!1,errors:h}}),Promise.resolve({ok:!0,value:{}})):{ok:!1,errors:[{path:i,message:(0,LV.getErrorMessageForIncorrectType)(e,"object")}]}})}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.record=void 0;var t=Yh;Object.defineProperty(e,"record",{enumerable:!0,get:function(){return t.record}})})(CE);var EE={},Qh={},Aw=l&&l.__awaiter||function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(d){try{c(n.next(d))}catch(f){o(f)}}function u(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?a(d.value):i(d.value).then(s,u)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(Qh,"__esModule",{value:!0});Qh.set=void 0;const GV=Ot,qV=Gt,kV=nn,WV=Z_,XV=Rr;function ZV(e){const t=(0,WV.list)(e),r={parse:(n,i)=>Aw(this,void 0,void 0,function*(){const a=yield t.parse(n,i);return a.ok?{ok:!0,value:new Set(a.value)}:a}),json:(n,i)=>Aw(this,void 0,void 0,function*(){var a;return n instanceof Set?yield t.json([...n],i):{ok:!1,errors:[{path:(a=i==null?void 0:i.breadcrumbsPrefix)!==null&&a!==void 0?a:[],message:(0,qV.getErrorMessageForIncorrectType)(n,"Set")}]}}),getType:()=>GV.SchemaType.SET};return Object.assign(Object.assign({},(0,kV.maybeSkipValidation)(r)),(0,XV.getSchemaUtils)(r))}Qh.set=ZV;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.set=void 0;var t=Qh;Object.defineProperty(e,"set",{enumerable:!0,get:function(){return t.set}})})(EE);var ME={},ep={},ym=l&&l.__awaiter||function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(d){try{c(n.next(d))}catch(f){o(f)}}function u(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?a(d.value):i(d.value).then(s,u)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(ep,"__esModule",{value:!0});ep.undiscriminatedUnion=void 0;const JV=Ot,YV=nn,QV=Rr;function e4(e){const t={parse:(r,n)=>ym(this,void 0,void 0,function*(){return Iw((i,a)=>i.parse(r,a),e,n)}),json:(r,n)=>ym(this,void 0,void 0,function*(){return Iw((i,a)=>i.json(r,a),e,n)}),getType:()=>JV.SchemaType.UNDISCRIMINATED_UNION};return Object.assign(Object.assign({},(0,YV.maybeSkipValidation)(t)),(0,QV.getSchemaUtils)(t))}ep.undiscriminatedUnion=e4;function Iw(e,t,r){return ym(this,void 0,void 0,function*(){const n=[];for(const[i,a]of t.entries()){const o=yield e(a,Object.assign(Object.assign({},r),{skipValidation:!1}));if(o.ok)return o;for(const s of o.errors)n.push({path:s.path,message:`[Variant ${i}] ${s.message}`})}return{ok:!1,errors:n}})}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.undiscriminatedUnion=void 0;var t=ep;Object.defineProperty(e,"undiscriminatedUnion",{enumerable:!0,get:function(){return t.undiscriminatedUnion}})})(ME);var TE={},tp={};Object.defineProperty(tp,"__esModule",{value:!0});tp.discriminant=void 0;function t4(e,t){return{parsedDiscriminant:e,rawDiscriminant:t}}tp.discriminant=t4;var rp={},vm=l&&l.__awaiter||function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(d){try{c(n.next(d))}catch(f){o(f)}}function u(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?a(d.value):i(d.value).then(s,u)}c((n=n.apply(e,t||[])).next())})},r4=l&&l.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};Object.defineProperty(rp,"__esModule",{value:!0});rp.union=void 0;const n4=Ot,i4=Gt,a4=qa,o4=dl,s4=nn,u4=k_,l4=fl,c4=Rr;function d4(e,t){const r=typeof e=="string"?e:e.rawDiscriminant,n=typeof e=="string"?e:e.parsedDiscriminant,i=(0,u4.enum_)((0,o4.keys)(t)),a={parse:(o,s)=>vm(this,void 0,void 0,function*(){return Dw({value:o,discriminant:r,transformedDiscriminant:n,transformDiscriminantValue:u=>{var c;return i.parse(u,{allowUnrecognizedEnumValues:s==null?void 0:s.allowUnrecognizedUnionMembers,breadcrumbsPrefix:[...(c=s==null?void 0:s.breadcrumbsPrefix)!==null&&c!==void 0?c:[],r]})},getAdditionalPropertiesSchema:u=>t[u],allowUnrecognizedUnionMembers:s==null?void 0:s.allowUnrecognizedUnionMembers,transformAdditionalProperties:(u,c)=>c.parse(u,s),breadcrumbsPrefix:s==null?void 0:s.breadcrumbsPrefix})}),json:(o,s)=>vm(this,void 0,void 0,function*(){return Dw({value:o,discriminant:n,transformedDiscriminant:r,transformDiscriminantValue:u=>{var c;return i.json(u,{allowUnrecognizedEnumValues:s==null?void 0:s.allowUnrecognizedUnionMembers,breadcrumbsPrefix:[...(c=s==null?void 0:s.breadcrumbsPrefix)!==null&&c!==void 0?c:[],n]})},getAdditionalPropertiesSchema:u=>t[u],allowUnrecognizedUnionMembers:s==null?void 0:s.allowUnrecognizedUnionMembers,transformAdditionalProperties:(u,c)=>c.json(u,s),breadcrumbsPrefix:s==null?void 0:s.breadcrumbsPrefix})}),getType:()=>n4.SchemaType.UNION};return Object.assign(Object.assign(Object.assign({},(0,s4.maybeSkipValidation)(a)),(0,c4.getSchemaUtils)(a)),(0,l4.getObjectLikeUtils)(a))}rp.union=d4;function Dw({value:e,discriminant:t,transformedDiscriminant:r,transformDiscriminantValue:n,getAdditionalPropertiesSchema:i,allowUnrecognizedUnionMembers:a=!1,transformAdditionalProperties:o,breadcrumbsPrefix:s=[]}){return vm(this,void 0,void 0,function*(){if(!(0,a4.isPlainObject)(e))return{ok:!1,errors:[{path:s,message:(0,i4.getErrorMessageForIncorrectType)(e,"object")}]};const u=e,c=t,d=u[c],f=r4(u,[typeof c=="symbol"?c:c+""]);if(d==null)return{ok:!1,errors:[{path:s,message:`Missing discriminant ("${t}")`}]};const h=yield n(d);if(!h.ok)return{ok:!1,errors:h.errors};const p=i(h.value);if(p==null)return a?{ok:!0,value:Object.assign({[r]:h.value},f)}:{ok:!1,errors:[{path:[...s,t],message:"Unexpected discriminant value"}]};const y=yield o(f,p);return y.ok?{ok:!0,value:Object.assign({[r]:d},y.value)}:y})}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.union=e.discriminant=void 0;var t=tp;Object.defineProperty(e,"discriminant",{enumerable:!0,get:function(){return t.discriminant}});var r=rp;Object.defineProperty(e,"union",{enumerable:!0,get:function(){return r.union}})})(TE);(function(e){var t=l&&l.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=l&&l.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(hE,e),r(k_,e),r(vE,e),r(Z_,e),r(PE,e),r(W_,e),r(fl,e),r(jE,e),r(CE,e),r(Rr,e),r(EE,e),r(ME,e),r(TE,e)})(fE);(function(e){var t=l&&l.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=l&&l.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(fE,e)})(dE);(function(e){var t=l&&l.__createBinding||(Object.create?function(a,o,s,u){u===void 0&&(u=s);var c=Object.getOwnPropertyDescriptor(o,s);(!c||("get"in c?!o.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return o[s]}}),Object.defineProperty(a,u,c)}:function(a,o,s,u){u===void 0&&(u=s),a[u]=o[s]}),r=l&&l.__setModuleDefault||(Object.create?function(a,o){Object.defineProperty(a,"default",{enumerable:!0,value:o})}:function(a,o){a.default=o}),n=l&&l.__exportStar||function(a,o){for(var s in a)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&t(o,a,s)},i=l&&l.__importStar||function(a){if(a&&a.__esModule)return a;var o={};if(a!=null)for(var s in a)s!=="default"&&Object.prototype.hasOwnProperty.call(a,s)&&t(o,a,s);return r(o,a),o};Object.defineProperty(e,"__esModule",{value:!0}),e.serialization=void 0,n(NC,e),n(sE,e),n(lE,e),n(V_,e),e.serialization=i(dE)})(j);var ka={},RE={},$E={},J_={},hl={},f4=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),h4=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),p4=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&f4(t,e,r);return h4(t,e),t};Object.defineProperty(hl,"__esModule",{value:!0});hl.CreateEmbedJobRequestTruncate=void 0;const y4=p4(j);hl.CreateEmbedJobRequestTruncate=y4.serialization.enum_(["START","END"]);(function(e){var t=l&&l.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=l&&l.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(hl,e)})(J_);var xE={},Y_={},np={},ns={},v4=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),m4=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),_4=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&v4(t,e,r);return m4(t,e),t};Object.defineProperty(ns,"__esModule",{value:!0});ns.EmbedInputType=void 0;const g4=_4(j);ns.EmbedInputType=g4.serialization.enum_(["search_document","search_query","classification","clustering"]);var is={},b4=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),w4=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),O4=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&b4(t,e,r);return w4(t,e),t};Object.defineProperty(is,"__esModule",{value:!0});is.EmbeddingType=void 0;const S4=O4(j);is.EmbeddingType=S4.serialization.enum_(["float","int8","uint8","binary","ubinary"]);var P4=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),j4=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),C4=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&P4(t,e,r);return j4(t,e),t};Object.defineProperty(np,"__esModule",{value:!0});np.CreateEmbedJobRequest=void 0;const oi=C4(j),E4=ns,M4=is,T4=hl;np.CreateEmbedJobRequest=oi.serialization.object({model:oi.serialization.string(),datasetId:oi.serialization.property("dataset_id",oi.serialization.string()),inputType:oi.serialization.property("input_type",E4.EmbedInputType),name:oi.serialization.string().optional(),embeddingTypes:oi.serialization.property("embedding_types",oi.serialization.list(M4.EmbeddingType).optional()),truncate:T4.CreateEmbedJobRequestTruncate.optional()});(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CreateEmbedJobRequest=void 0;var t=np;Object.defineProperty(e,"CreateEmbedJobRequest",{enumerable:!0,get:function(){return t.CreateEmbedJobRequest}})})(Y_);(function(e){var t=l&&l.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=l&&l.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(Y_,e)})(xE);(function(e){var t=l&&l.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=l&&l.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(J_,e),r(xE,e)})($E);var AE={},Q_={},ip={},as={},pl={},R4=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),$4=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),x4=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&R4(t,e,r);return $4(t,e),t};Object.defineProperty(pl,"__esModule",{value:!0});pl.DatasetType=void 0;const A4=x4(j);pl.DatasetType=A4.serialization.enum_(["embed-input","embed-result","cluster-result","cluster-outliers","reranker-finetune-input","prompt-completion-finetune-input","single-label-classification-finetune-input","chat-finetune-input","multi-label-classification-finetune-input"]);var yl={},I4=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),D4=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),z4=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&I4(t,e,r);return D4(t,e),t};Object.defineProperty(yl,"__esModule",{value:!0});yl.DatasetValidationStatus=void 0;const N4=z4(j);yl.DatasetValidationStatus=N4.serialization.enum_(["unknown","queued","processing","failed","validated","skipped"]);var vl={},B4=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),F4=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),L4=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&B4(t,e,r);return F4(t,e),t};Object.defineProperty(vl,"__esModule",{value:!0});vl.DatasetPart=void 0;const qr=L4(j);vl.DatasetPart=qr.serialization.object({id:qr.serialization.string(),name:qr.serialization.string(),url:qr.serialization.string().optional(),index:qr.serialization.number().optional(),sizeBytes:qr.serialization.property("size_bytes",qr.serialization.number().optional()),numRows:qr.serialization.property("num_rows",qr.serialization.number().optional()),originalUrl:qr.serialization.property("original_url",qr.serialization.string().optional())});var U4=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),V4=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),K4=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&U4(t,e,r);return V4(t,e),t};Object.defineProperty(as,"__esModule",{value:!0});as.Dataset=void 0;const it=K4(j),H4=pl,G4=yl,q4=vl;as.Dataset=it.serialization.object({id:it.serialization.string(),name:it.serialization.string(),createdAt:it.serialization.property("created_at",it.serialization.date()),updatedAt:it.serialization.property("updated_at",it.serialization.date()),datasetType:it.serialization.property("dataset_type",H4.DatasetType),validationStatus:it.serialization.property("validation_status",G4.DatasetValidationStatus),validationError:it.serialization.property("validation_error",it.serialization.string().optional()),schema:it.serialization.string().optional(),requiredFields:it.serialization.property("required_fields",it.serialization.list(it.serialization.string()).optional()),preserveFields:it.serialization.property("preserve_fields",it.serialization.list(it.serialization.string()).optional()),datasetParts:it.serialization.property("dataset_parts",it.serialization.list(q4.DatasetPart).optional()),validationWarnings:it.serialization.property("validation_warnings",it.serialization.list(it.serialization.string()).optional())});var k4=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),W4=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),X4=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&k4(t,e,r);return W4(t,e),t};Object.defineProperty(ip,"__esModule",{value:!0});ip.DatasetsListResponse=void 0;const zw=X4(j),Z4=as;ip.DatasetsListResponse=zw.serialization.object({datasets:zw.serialization.list(Z4.Dataset).optional()});var ap={},J4=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Y4=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Q4=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&J4(t,e,r);return Y4(t,e),t};Object.defineProperty(ap,"__esModule",{value:!0});ap.DatasetsCreateResponseDatasetParts=void 0;const si=Q4(j);ap.DatasetsCreateResponseDatasetParts=si.serialization.object({name:si.serialization.string().optional(),numRows:si.serialization.property("num_rows",si.serialization.number().optional()),samples:si.serialization.list(si.serialization.string()).optional(),partKind:si.serialization.property("part_kind",si.serialization.string().optional())});var op={},e3=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),t3=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r3=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&e3(t,e,r);return t3(t,e),t};Object.defineProperty(op,"__esModule",{value:!0});op.DatasetsCreateResponse=void 0;const Nw=r3(j);op.DatasetsCreateResponse=Nw.serialization.object({id:Nw.serialization.string().optional()});var sp={},n3=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),i3=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a3=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&n3(t,e,r);return i3(t,e),t};Object.defineProperty(sp,"__esModule",{value:!0});sp.DatasetsGetUsageResponse=void 0;const cv=a3(j);sp.DatasetsGetUsageResponse=cv.serialization.object({organizationUsage:cv.serialization.property("organization_usage",cv.serialization.string().optional())});var up={},o3=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),s3=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u3=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&o3(t,e,r);return s3(t,e),t};Object.defineProperty(up,"__esModule",{value:!0});up.DatasetsGetResponse=void 0;const l3=u3(j),c3=as;up.DatasetsGetResponse=l3.serialization.object({dataset:c3.Dataset});(function(e){var t=l&&l.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=l&&l.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(ip,e),r(ap,e),r(op,e),r(sp,e),r(up,e)})(Q_);var lp={},cp={},d3=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),f3=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),h3=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&d3(t,e,r);return f3(t,e),t};Object.defineProperty(cp,"__esModule",{value:!0});cp.Response=void 0;const dv=h3(j);cp.Response=dv.serialization.record(dv.serialization.string(),dv.serialization.unknown());var p3=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),y3=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),v3=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&p3(t,e,r);return y3(t,e),t};Object.defineProperty(lp,"__esModule",{value:!0});lp.delete=void 0;lp.delete=v3(cp);(function(e){var t=l&&l.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=l&&l.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(Q_,e),r(lp,e)})(AE);var IE={},DE={},zE={},eg={},ml={},m3=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),_3=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),g3=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&m3(t,e,r);return _3(t,e),t};Object.defineProperty(ml,"__esModule",{value:!0});ml.BaseType=void 0;const b3=g3(j);ml.BaseType=b3.serialization.enum_(["BASE_TYPE_UNSPECIFIED","BASE_TYPE_GENERATIVE","BASE_TYPE_CLASSIFICATION","BASE_TYPE_RERANK","BASE_TYPE_CHAT"]);var _l={},w3=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),O3=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),S3=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&w3(t,e,r);return O3(t,e),t};Object.defineProperty(_l,"__esModule",{value:!0});_l.Strategy=void 0;const P3=S3(j);_l.Strategy=P3.serialization.enum_(["STRATEGY_UNSPECIFIED","STRATEGY_VANILLA","STRATEGY_TFEW"]);var gl={},j3=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),C3=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),E3=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&j3(t,e,r);return C3(t,e),t};Object.defineProperty(gl,"__esModule",{value:!0});gl.BaseModel=void 0;const od=E3(j),M3=ml,T3=_l;gl.BaseModel=od.serialization.object({name:od.serialization.string().optional(),version:od.serialization.string().optional(),baseType:od.serialization.property("base_type",M3.BaseType),strategy:T3.Strategy.optional()});var bl={},R3=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),$3=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),x3=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&R3(t,e,r);return $3(t,e),t};Object.defineProperty(bl,"__esModule",{value:!0});bl.Hyperparameters=void 0;const kr=x3(j);bl.Hyperparameters=kr.serialization.object({earlyStoppingPatience:kr.serialization.property("early_stopping_patience",kr.serialization.number().optional()),earlyStoppingThreshold:kr.serialization.property("early_stopping_threshold",kr.serialization.number().optional()),trainBatchSize:kr.serialization.property("train_batch_size",kr.serialization.number().optional()),trainEpochs:kr.serialization.property("train_epochs",kr.serialization.number().optional()),learningRate:kr.serialization.property("learning_rate",kr.serialization.number().optional())});var os={},A3=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),I3=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),D3=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&A3(t,e,r);return I3(t,e),t};Object.defineProperty(os,"__esModule",{value:!0});os.Settings=void 0;const oo=D3(j),z3=gl,N3=bl;os.Settings=oo.serialization.object({baseModel:oo.serialization.property("base_model",z3.BaseModel),datasetId:oo.serialization.property("dataset_id",oo.serialization.string()),hyperparameters:N3.Hyperparameters.optional(),multiLabel:oo.serialization.property("multi_label",oo.serialization.boolean().optional())});var Wa={},B3=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),F3=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),L3=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&B3(t,e,r);return F3(t,e),t};Object.defineProperty(Wa,"__esModule",{value:!0});Wa.Status=void 0;const U3=L3(j);Wa.Status=U3.serialization.enum_(["STATUS_UNSPECIFIED","STATUS_FINETUNING","STATUS_DEPLOYING_API","STATUS_READY","STATUS_FAILED","STATUS_DELETED","STATUS_TEMPORARILY_OFFLINE","STATUS_PAUSED","STATUS_QUEUED"]);var Hi={},V3=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),K3=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),H3=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&V3(t,e,r);return K3(t,e),t};Object.defineProperty(Hi,"__esModule",{value:!0});Hi.FinetunedModel=void 0;const Wt=H3(j),G3=os,q3=Wa;Hi.FinetunedModel=Wt.serialization.object({id:Wt.serialization.string().optional(),name:Wt.serialization.string(),creatorId:Wt.serialization.property("creator_id",Wt.serialization.string().optional()),organizationId:Wt.serialization.property("organization_id",Wt.serialization.string().optional()),settings:G3.Settings,status:q3.Status.optional(),createdAt:Wt.serialization.property("created_at",Wt.serialization.date().optional()),updatedAt:Wt.serialization.property("updated_at",Wt.serialization.date().optional()),completedAt:Wt.serialization.property("completed_at",Wt.serialization.date().optional()),lastUsed:Wt.serialization.property("last_used",Wt.serialization.date().optional())});var dp={},k3=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),W3=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),X3=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&k3(t,e,r);return W3(t,e),t};Object.defineProperty(dp,"__esModule",{value:!0});dp.ListFinetunedModelsResponse=void 0;const ta=X3(j),Z3=Hi;dp.ListFinetunedModelsResponse=ta.serialization.object({finetunedModels:ta.serialization.property("finetuned_models",ta.serialization.list(Z3.FinetunedModel).optional()),nextPageToken:ta.serialization.property("next_page_token",ta.serialization.string().optional()),totalSize:ta.serialization.property("total_size",ta.serialization.number().optional())});var fp={},J3=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Y3=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Q3=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&J3(t,e,r);return Y3(t,e),t};Object.defineProperty(fp,"__esModule",{value:!0});fp.Error_=void 0;const Bw=Q3(j);fp.Error_=Bw.serialization.object({message:Bw.serialization.string().optional()});var hp={},eK=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),tK=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),rK=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&eK(t,e,r);return tK(t,e),t};Object.defineProperty(hp,"__esModule",{value:!0});hp.CreateFinetunedModelResponse=void 0;const Fw=rK(j),nK=Hi;hp.CreateFinetunedModelResponse=Fw.serialization.object({finetunedModel:Fw.serialization.property("finetuned_model",nK.FinetunedModel.optional())});var pp={},iK=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),aK=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),oK=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&iK(t,e,r);return aK(t,e),t};Object.defineProperty(pp,"__esModule",{value:!0});pp.GetFinetunedModelResponse=void 0;const Lw=oK(j),sK=Hi;pp.GetFinetunedModelResponse=Lw.serialization.object({finetunedModel:Lw.serialization.property("finetuned_model",sK.FinetunedModel.optional())});var yp={},uK=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),lK=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),cK=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&uK(t,e,r);return lK(t,e),t};Object.defineProperty(yp,"__esModule",{value:!0});yp.DeleteFinetunedModelResponse=void 0;const fv=cK(j);yp.DeleteFinetunedModelResponse=fv.serialization.record(fv.serialization.string(),fv.serialization.unknown());var vp={},dK=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),fK=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),hK=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&dK(t,e,r);return fK(t,e),t};Object.defineProperty(vp,"__esModule",{value:!0});vp.UpdateFinetunedModelResponse=void 0;const Uw=hK(j),pK=Hi;vp.UpdateFinetunedModelResponse=Uw.serialization.object({finetunedModel:Uw.serialization.property("finetuned_model",pK.FinetunedModel.optional())});var wl={},yK=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),vK=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),mK=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&yK(t,e,r);return vK(t,e),t};Object.defineProperty(wl,"__esModule",{value:!0});wl.Event=void 0;const Ts=mK(j),_K=Wa;wl.Event=Ts.serialization.object({userId:Ts.serialization.property("user_id",Ts.serialization.string().optional()),status:_K.Status.optional(),createdAt:Ts.serialization.property("created_at",Ts.serialization.date().optional())});var mp={},gK=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),bK=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),wK=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&gK(t,e,r);return bK(t,e),t};Object.defineProperty(mp,"__esModule",{value:!0});mp.ListEventsResponse=void 0;const so=wK(j),OK=wl;mp.ListEventsResponse=so.serialization.object({events:so.serialization.list(OK.Event).optional(),nextPageToken:so.serialization.property("next_page_token",so.serialization.string().optional()),totalSize:so.serialization.property("total_size",so.serialization.number().optional())});var Ol={},SK=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),PK=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),jK=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&SK(t,e,r);return PK(t,e),t};Object.defineProperty(Ol,"__esModule",{value:!0});Ol.TrainingStepMetrics=void 0;const ui=jK(j);Ol.TrainingStepMetrics=ui.serialization.object({createdAt:ui.serialization.property("created_at",ui.serialization.date().optional()),stepNumber:ui.serialization.property("step_number",ui.serialization.number().optional()),metrics:ui.serialization.record(ui.serialization.string(),ui.serialization.number()).optional()});var _p={},CK=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),EK=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),MK=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&CK(t,e,r);return EK(t,e),t};Object.defineProperty(_p,"__esModule",{value:!0});_p.ListTrainingStepMetricsResponse=void 0;const Rs=MK(j),TK=Ol;_p.ListTrainingStepMetricsResponse=Rs.serialization.object({stepMetrics:Rs.serialization.property("step_metrics",Rs.serialization.list(TK.TrainingStepMetrics).optional()),nextPageToken:Rs.serialization.property("next_page_token",Rs.serialization.string().optional())});(function(e){var t=l&&l.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=l&&l.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(ml,e),r(_l,e),r(gl,e),r(bl,e),r(os,e),r(Wa,e),r(Hi,e),r(dp,e),r(fp,e),r(hp,e),r(pp,e),r(yp,e),r(vp,e),r(wl,e),r(mp,e),r(Ol,e),r(_p,e)})(eg);(function(e){var t=l&&l.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=l&&l.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(eg,e)})(zE);(function(e){var t=l&&l.__createBinding||(Object.create?function(a,o,s,u){u===void 0&&(u=s);var c=Object.getOwnPropertyDescriptor(o,s);(!c||("get"in c?!o.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return o[s]}}),Object.defineProperty(a,u,c)}:function(a,o,s,u){u===void 0&&(u=s),a[u]=o[s]}),r=l&&l.__setModuleDefault||(Object.create?function(a,o){Object.defineProperty(a,"default",{enumerable:!0,value:o})}:function(a,o){a.default=o}),n=l&&l.__importStar||function(a){if(a&&a.__esModule)return a;var o={};if(a!=null)for(var s in a)s!=="default"&&Object.prototype.hasOwnProperty.call(a,s)&&t(o,a,s);return r(o,a),o},i=l&&l.__exportStar||function(a,o){for(var s in a)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&t(o,a,s)};Object.defineProperty(e,"__esModule",{value:!0}),e.finetuning=void 0,e.finetuning=n(zE),i(eg,e)})(DE);var NE={},tg={},gp={},RK=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),$K=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),xK=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&RK(t,e,r);return $K(t,e),t};Object.defineProperty(gp,"__esModule",{value:!0});gp.FinetuningUpdateFinetunedModelRequest=void 0;const or=xK(j),AK=os,IK=Wa;gp.FinetuningUpdateFinetunedModelRequest=or.serialization.object({name:or.serialization.string(),creatorId:or.serialization.property("creator_id",or.serialization.string().optional()),organizationId:or.serialization.property("organization_id",or.serialization.string().optional()),settings:AK.Settings,status:IK.Status.optional(),createdAt:or.serialization.property("created_at",or.serialization.date().optional()),updatedAt:or.serialization.property("updated_at",or.serialization.date().optional()),completedAt:or.serialization.property("completed_at",or.serialization.date().optional()),lastUsed:or.serialization.property("last_used",or.serialization.date().optional())});(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.FinetuningUpdateFinetunedModelRequest=void 0;var t=gp;Object.defineProperty(e,"FinetuningUpdateFinetunedModelRequest",{enumerable:!0,get:function(){return t.FinetuningUpdateFinetunedModelRequest}})})(tg);(function(e){var t=l&&l.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=l&&l.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(tg,e)})(NE);(function(e){var t=l&&l.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=l&&l.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(DE,e),r(NE,e)})(IE);var BE={},FE={},rg={},bp={},ss={},DK=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),zK=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),NK=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&DK(t,e,r);return zK(t,e),t};Object.defineProperty(ss,"__esModule",{value:!0});ss.CreateConnectorOAuth=void 0;const cn=NK(j);ss.CreateConnectorOAuth=cn.serialization.object({clientId:cn.serialization.property("client_id",cn.serialization.string().optional()),clientSecret:cn.serialization.property("client_secret",cn.serialization.string().optional()),authorizeUrl:cn.serialization.property("authorize_url",cn.serialization.string().optional()),tokenUrl:cn.serialization.property("token_url",cn.serialization.string().optional()),scope:cn.serialization.string().optional()});var us={},Sl={},BK=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),FK=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),LK=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&BK(t,e,r);return FK(t,e),t};Object.defineProperty(Sl,"__esModule",{value:!0});Sl.AuthTokenType=void 0;const UK=LK(j);Sl.AuthTokenType=UK.serialization.enum_(["bearer","basic","noscheme"]);var VK=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),KK=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),HK=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&VK(t,e,r);return KK(t,e),t};Object.defineProperty(us,"__esModule",{value:!0});us.CreateConnectorServiceAuth=void 0;const Vw=HK(j),GK=Sl;us.CreateConnectorServiceAuth=Vw.serialization.object({type:GK.AuthTokenType,token:Vw.serialization.string()});var qK=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),kK=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),WK=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&qK(t,e,r);return kK(t,e),t};Object.defineProperty(bp,"__esModule",{value:!0});bp.CreateConnectorRequest=void 0;const dn=WK(j),XK=ss,ZK=us;bp.CreateConnectorRequest=dn.serialization.object({name:dn.serialization.string(),description:dn.serialization.string().optional(),url:dn.serialization.string(),excludes:dn.serialization.list(dn.serialization.string()).optional(),oauth:XK.CreateConnectorOAuth.optional(),active:dn.serialization.boolean().optional(),continueOnFailure:dn.serialization.property("continue_on_failure",dn.serialization.boolean().optional()),serviceAuth:dn.serialization.property("service_auth",ZK.CreateConnectorServiceAuth.optional())});var wp={},JK=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),YK=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),QK=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&JK(t,e,r);return YK(t,e),t};Object.defineProperty(wp,"__esModule",{value:!0});wp.UpdateConnectorRequest=void 0;const Nn=QK(j),eH=ss,tH=us;wp.UpdateConnectorRequest=Nn.serialization.object({name:Nn.serialization.string().optional(),url:Nn.serialization.string().optional(),excludes:Nn.serialization.list(Nn.serialization.string()).optional(),oauth:eH.CreateConnectorOAuth.optional(),active:Nn.serialization.boolean().optional(),continueOnFailure:Nn.serialization.property("continue_on_failure",Nn.serialization.boolean().optional()),serviceAuth:Nn.serialization.property("service_auth",tH.CreateConnectorServiceAuth.optional())});(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.UpdateConnectorRequest=e.CreateConnectorRequest=void 0;var t=bp;Object.defineProperty(e,"CreateConnectorRequest",{enumerable:!0,get:function(){return t.CreateConnectorRequest}});var r=wp;Object.defineProperty(e,"UpdateConnectorRequest",{enumerable:!0,get:function(){return r.UpdateConnectorRequest}})})(rg);(function(e){var t=l&&l.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=l&&l.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(rg,e)})(FE);(function(e){var t=l&&l.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=l&&l.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(FE,e)})(BE);(function(e){var t=l&&l.__createBinding||(Object.create?function(a,o,s,u){u===void 0&&(u=s);var c=Object.getOwnPropertyDescriptor(o,s);(!c||("get"in c?!o.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return o[s]}}),Object.defineProperty(a,u,c)}:function(a,o,s,u){u===void 0&&(u=s),a[u]=o[s]}),r=l&&l.__setModuleDefault||(Object.create?function(a,o){Object.defineProperty(a,"default",{enumerable:!0,value:o})}:function(a,o){a.default=o}),n=l&&l.__importStar||function(a){if(a&&a.__esModule)return a;var o={};if(a!=null)for(var s in a)s!=="default"&&Object.prototype.hasOwnProperty.call(a,s)&&t(o,a,s);return r(o,a),o},i=l&&l.__exportStar||function(a,o){for(var s in a)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&t(o,a,s)};Object.defineProperty(e,"__esModule",{value:!0}),e.connectors=e.finetuning=e.datasets=e.embedJobs=void 0,e.embedJobs=n($E),i(J_,e),e.datasets=n(AE),i(Q_,e),e.finetuning=n(IE),i(Y_,e),e.connectors=n(BE),i(rg,e),i(tg,e)})(RE);var LE={},Pl={},rH=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),nH=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),iH=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&rH(t,e,r);return nH(t,e),t};Object.defineProperty(Pl,"__esModule",{value:!0});Pl.ChatStreamRequestPromptTruncation=void 0;const aH=iH(j);Pl.ChatStreamRequestPromptTruncation=aH.serialization.enum_(["OFF","AUTO","AUTO_PRESERVE_ORDER"]);var Op={},oH=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),sH=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),uH=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&oH(t,e,r);return sH(t,e),t};Object.defineProperty(Op,"__esModule",{value:!0});Op.ChatStreamRequestCitationQuality=void 0;const lH=uH(j);Op.ChatStreamRequestCitationQuality=lH.serialization.enum_(["fast","accurate"]);var Sp={},cH=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),dH=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),fH=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&cH(t,e,r);return dH(t,e),t};Object.defineProperty(Sp,"__esModule",{value:!0});Sp.ChatStreamRequestConnectorsSearchOptions=void 0;const ra=fH(j);Sp.ChatStreamRequestConnectorsSearchOptions=ra.serialization.object({model:ra.serialization.unknown().optional(),temperature:ra.serialization.unknown().optional(),maxTokens:ra.serialization.property("max_tokens",ra.serialization.unknown().optional()),preamble:ra.serialization.unknown().optional(),seed:ra.serialization.number().optional()});var jl={},Gi={},hH=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),pH=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),yH=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&hH(t,e,r);return pH(t,e),t};Object.defineProperty(Gi,"__esModule",{value:!0});Gi.ToolCall=void 0;const $s=yH(j);Gi.ToolCall=$s.serialization.object({name:$s.serialization.string(),parameters:$s.serialization.record($s.serialization.string(),$s.serialization.unknown())});var vH=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),mH=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),_H=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&vH(t,e,r);return mH(t,e),t};Object.defineProperty(jl,"__esModule",{value:!0});jl.ChatStreamRequestToolResultsItem=void 0;const xs=_H(j),gH=Gi;jl.ChatStreamRequestToolResultsItem=xs.serialization.object({call:gH.ToolCall,outputs:xs.serialization.list(xs.serialization.record(xs.serialization.string(),xs.serialization.unknown()))});var Cl={},bH=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),wH=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),OH=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&bH(t,e,r);return wH(t,e),t};Object.defineProperty(Cl,"__esModule",{value:!0});Cl.ChatRequestPromptTruncation=void 0;const SH=OH(j);Cl.ChatRequestPromptTruncation=SH.serialization.enum_(["OFF","AUTO","AUTO_PRESERVE_ORDER"]);var Pp={},PH=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),jH=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),CH=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&PH(t,e,r);return jH(t,e),t};Object.defineProperty(Pp,"__esModule",{value:!0});Pp.ChatRequestCitationQuality=void 0;const EH=CH(j);Pp.ChatRequestCitationQuality=EH.serialization.enum_(["fast","accurate"]);var jp={},MH=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),TH=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),RH=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&MH(t,e,r);return TH(t,e),t};Object.defineProperty(jp,"__esModule",{value:!0});jp.ChatRequestConnectorsSearchOptions=void 0;const na=RH(j);jp.ChatRequestConnectorsSearchOptions=na.serialization.object({model:na.serialization.unknown().optional(),temperature:na.serialization.unknown().optional(),maxTokens:na.serialization.property("max_tokens",na.serialization.unknown().optional()),preamble:na.serialization.unknown().optional(),seed:na.serialization.number().optional()});var El={},$H=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),xH=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),AH=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&$H(t,e,r);return xH(t,e),t};Object.defineProperty(El,"__esModule",{value:!0});El.ChatRequestToolResultsItem=void 0;const As=AH(j),IH=Gi;El.ChatRequestToolResultsItem=As.serialization.object({call:IH.ToolCall,outputs:As.serialization.list(As.serialization.record(As.serialization.string(),As.serialization.unknown()))});var Ml={},DH=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),zH=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),NH=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&DH(t,e,r);return zH(t,e),t};Object.defineProperty(Ml,"__esModule",{value:!0});Ml.GenerateStreamRequestTruncate=void 0;const BH=NH(j);Ml.GenerateStreamRequestTruncate=BH.serialization.enum_(["NONE","START","END"]);var Tl={},FH=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),LH=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),UH=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&FH(t,e,r);return LH(t,e),t};Object.defineProperty(Tl,"__esModule",{value:!0});Tl.GenerateStreamRequestReturnLikelihoods=void 0;const VH=UH(j);Tl.GenerateStreamRequestReturnLikelihoods=VH.serialization.enum_(["GENERATION","ALL","NONE"]);var Rl={},KH=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),HH=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),GH=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&KH(t,e,r);return HH(t,e),t};Object.defineProperty(Rl,"__esModule",{value:!0});Rl.GenerateRequestTruncate=void 0;const qH=GH(j);Rl.GenerateRequestTruncate=qH.serialization.enum_(["NONE","START","END"]);var $l={},kH=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),WH=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),XH=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&kH(t,e,r);return WH(t,e),t};Object.defineProperty($l,"__esModule",{value:!0});$l.GenerateRequestReturnLikelihoods=void 0;const ZH=XH(j);$l.GenerateRequestReturnLikelihoods=ZH.serialization.enum_(["GENERATION","ALL","NONE"]);var xl={},JH=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),YH=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),QH=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&JH(t,e,r);return YH(t,e),t};Object.defineProperty(xl,"__esModule",{value:!0});xl.EmbedRequestTruncate=void 0;const eG=QH(j);xl.EmbedRequestTruncate=eG.serialization.enum_(["NONE","START","END"]);var Cp={},Al={},tr={},Il={},tG=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),rG=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),nG=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&tG(t,e,r);return rG(t,e),t};Object.defineProperty(Il,"__esModule",{value:!0});Il.ApiMetaApiVersion=void 0;const uo=nG(j);Il.ApiMetaApiVersion=uo.serialization.object({version:uo.serialization.string(),isDeprecated:uo.serialization.property("is_deprecated",uo.serialization.boolean().optional()),isExperimental:uo.serialization.property("is_experimental",uo.serialization.boolean().optional())});var Dl={},iG=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),aG=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),oG=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&iG(t,e,r);return aG(t,e),t};Object.defineProperty(Dl,"__esModule",{value:!0});Dl.ApiMetaBilledUnits=void 0;const li=oG(j);Dl.ApiMetaBilledUnits=li.serialization.object({inputTokens:li.serialization.property("input_tokens",li.serialization.number().optional()),outputTokens:li.serialization.property("output_tokens",li.serialization.number().optional()),searchUnits:li.serialization.property("search_units",li.serialization.number().optional()),classifications:li.serialization.number().optional()});var zl={},sG=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),uG=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),lG=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&sG(t,e,r);return uG(t,e),t};Object.defineProperty(zl,"__esModule",{value:!0});zl.ApiMetaTokens=void 0;const Is=lG(j);zl.ApiMetaTokens=Is.serialization.object({inputTokens:Is.serialization.property("input_tokens",Is.serialization.number().optional()),outputTokens:Is.serialization.property("output_tokens",Is.serialization.number().optional())});var cG=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),dG=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),fG=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&cG(t,e,r);return dG(t,e),t};Object.defineProperty(tr,"__esModule",{value:!0});tr.ApiMeta=void 0;const Ds=fG(j),hG=Il,pG=Dl,yG=zl;tr.ApiMeta=Ds.serialization.object({apiVersion:Ds.serialization.property("api_version",hG.ApiMetaApiVersion.optional()),billedUnits:Ds.serialization.property("billed_units",pG.ApiMetaBilledUnits.optional()),tokens:yG.ApiMetaTokens.optional(),warnings:Ds.serialization.list(Ds.serialization.string()).optional()});var vG=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),mG=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),_G=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&vG(t,e,r);return mG(t,e),t};Object.defineProperty(Al,"__esModule",{value:!0});Al.EmbedFloatsResponse=void 0;const ia=_G(j),gG=tr;Al.EmbedFloatsResponse=ia.serialization.object({id:ia.serialization.string(),embeddings:ia.serialization.list(ia.serialization.list(ia.serialization.number())),texts:ia.serialization.list(ia.serialization.string()),meta:gG.ApiMeta.optional()});var Nl={},Bl={},bG=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),wG=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),OG=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&bG(t,e,r);return wG(t,e),t};Object.defineProperty(Bl,"__esModule",{value:!0});Bl.EmbedByTypeResponseEmbeddings=void 0;const Dt=OG(j);Bl.EmbedByTypeResponseEmbeddings=Dt.serialization.object({float:Dt.serialization.list(Dt.serialization.list(Dt.serialization.number())).optional(),int8:Dt.serialization.list(Dt.serialization.list(Dt.serialization.number())).optional(),uint8:Dt.serialization.list(Dt.serialization.list(Dt.serialization.number())).optional(),binary:Dt.serialization.list(Dt.serialization.list(Dt.serialization.number())).optional(),ubinary:Dt.serialization.list(Dt.serialization.list(Dt.serialization.number())).optional()});var SG=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),PG=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),jG=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&SG(t,e,r);return PG(t,e),t};Object.defineProperty(Nl,"__esModule",{value:!0});Nl.EmbedByTypeResponse=void 0;const sd=jG(j),CG=Bl,EG=tr;Nl.EmbedByTypeResponse=sd.serialization.object({id:sd.serialization.string(),embeddings:CG.EmbedByTypeResponseEmbeddings,texts:sd.serialization.list(sd.serialization.string()),meta:EG.ApiMeta.optional()});var MG=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),TG=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),RG=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&MG(t,e,r);return TG(t,e),t};Object.defineProperty(Cp,"__esModule",{value:!0});Cp.EmbedResponse=void 0;const Kw=RG(j),$G=Al,xG=Nl;Cp.EmbedResponse=Kw.serialization.union(Kw.serialization.discriminant("responseType","response_type"),{embeddings_floats:$G.EmbedFloatsResponse,embeddings_by_type:xG.EmbedByTypeResponse}).transform({transform:e=>e,untransform:e=>e});var Fl={},AG=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),IG=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),DG=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&AG(t,e,r);return IG(t,e),t};Object.defineProperty(Fl,"__esModule",{value:!0});Fl.RerankRequestDocumentsItemText=void 0;const Hw=DG(j);Fl.RerankRequestDocumentsItemText=Hw.serialization.object({text:Hw.serialization.string()});var Ll={},zG=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),NG=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),BG=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&zG(t,e,r);return NG(t,e),t};Object.defineProperty(Ll,"__esModule",{value:!0});Ll.RerankRequestDocumentsItem=void 0;const Gw=BG(j),FG=Fl;Ll.RerankRequestDocumentsItem=Gw.serialization.undiscriminatedUnion([Gw.serialization.string(),FG.RerankRequestDocumentsItemText]);var Ul={},LG=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),UG=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),VG=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&LG(t,e,r);return UG(t,e),t};Object.defineProperty(Ul,"__esModule",{value:!0});Ul.RerankResponseResultsItemDocument=void 0;const qw=VG(j);Ul.RerankResponseResultsItemDocument=qw.serialization.object({text:qw.serialization.string()});var Vl={},KG=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),HG=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),GG=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&KG(t,e,r);return HG(t,e),t};Object.defineProperty(Vl,"__esModule",{value:!0});Vl.RerankResponseResultsItem=void 0;const ud=GG(j),qG=Ul;Vl.RerankResponseResultsItem=ud.serialization.object({document:qG.RerankResponseResultsItemDocument.optional(),index:ud.serialization.number(),relevanceScore:ud.serialization.property("relevance_score",ud.serialization.number())});var Ep={},kG=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),WG=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),XG=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&kG(t,e,r);return WG(t,e),t};Object.defineProperty(Ep,"__esModule",{value:!0});Ep.RerankResponse=void 0;const hv=XG(j),ZG=Vl,JG=tr;Ep.RerankResponse=hv.serialization.object({id:hv.serialization.string().optional(),results:hv.serialization.list(ZG.RerankResponseResultsItem),meta:JG.ApiMeta.optional()});var Kl={},YG=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),QG=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),e5=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&YG(t,e,r);return QG(t,e),t};Object.defineProperty(Kl,"__esModule",{value:!0});Kl.ClassifyRequestTruncate=void 0;const t5=e5(j);Kl.ClassifyRequestTruncate=t5.serialization.enum_(["NONE","START","END"]);var Hl={},r5=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),n5=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i5=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&r5(t,e,r);return n5(t,e),t};Object.defineProperty(Hl,"__esModule",{value:!0});Hl.ClassifyResponseClassificationsItemLabelsValue=void 0;const kw=i5(j);Hl.ClassifyResponseClassificationsItemLabelsValue=kw.serialization.object({confidence:kw.serialization.number().optional()});var Gl={},a5=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),o5=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s5=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&a5(t,e,r);return o5(t,e),t};Object.defineProperty(Gl,"__esModule",{value:!0});Gl.ClassifyResponseClassificationsItemClassificationType=void 0;const u5=s5(j);Gl.ClassifyResponseClassificationsItemClassificationType=u5.serialization.enum_(["single-label","multi-label"]);var ql={},l5=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),c5=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),d5=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&l5(t,e,r);return c5(t,e),t};Object.defineProperty(ql,"__esModule",{value:!0});ql.ClassifyResponseClassificationsItem=void 0;const Dr=d5(j),f5=Hl,h5=Gl;ql.ClassifyResponseClassificationsItem=Dr.serialization.object({id:Dr.serialization.string(),input:Dr.serialization.string().optional(),prediction:Dr.serialization.string().optional(),predictions:Dr.serialization.list(Dr.serialization.string()),confidence:Dr.serialization.number().optional(),confidences:Dr.serialization.list(Dr.serialization.number()),labels:Dr.serialization.record(Dr.serialization.string(),f5.ClassifyResponseClassificationsItemLabelsValue),classificationType:Dr.serialization.property("classification_type",h5.ClassifyResponseClassificationsItemClassificationType)});var Mp={},p5=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),y5=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),v5=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&p5(t,e,r);return y5(t,e),t};Object.defineProperty(Mp,"__esModule",{value:!0});Mp.ClassifyResponse=void 0;const pv=v5(j),m5=ql,_5=tr;Mp.ClassifyResponse=pv.serialization.object({id:pv.serialization.string(),classifications:pv.serialization.list(m5.ClassifyResponseClassificationsItem),meta:_5.ApiMeta.optional()});var kl={},g5=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),b5=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),w5=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&g5(t,e,r);return b5(t,e),t};Object.defineProperty(kl,"__esModule",{value:!0});kl.SummarizeRequestLength=void 0;const O5=w5(j);kl.SummarizeRequestLength=O5.serialization.enum_(["short","medium","long"]);var Wl={},S5=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),P5=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),j5=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&S5(t,e,r);return P5(t,e),t};Object.defineProperty(Wl,"__esModule",{value:!0});Wl.SummarizeRequestFormat=void 0;const C5=j5(j);Wl.SummarizeRequestFormat=C5.serialization.enum_(["paragraph","bullets"]);var Xl={},E5=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),M5=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),T5=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&E5(t,e,r);return M5(t,e),t};Object.defineProperty(Xl,"__esModule",{value:!0});Xl.SummarizeRequestExtractiveness=void 0;const R5=T5(j);Xl.SummarizeRequestExtractiveness=R5.serialization.enum_(["low","medium","high"]);var Tp={},$5=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),x5=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),A5=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&$5(t,e,r);return x5(t,e),t};Object.defineProperty(Tp,"__esModule",{value:!0});Tp.SummarizeResponse=void 0;const yv=A5(j),I5=tr;Tp.SummarizeResponse=yv.serialization.object({id:yv.serialization.string().optional(),summary:yv.serialization.string().optional(),meta:I5.ApiMeta.optional()});var Rp={},D5=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),z5=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),N5=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&D5(t,e,r);return z5(t,e),t};Object.defineProperty(Rp,"__esModule",{value:!0});Rp.TokenizeResponse=void 0;const lo=N5(j),B5=tr;Rp.TokenizeResponse=lo.serialization.object({tokens:lo.serialization.list(lo.serialization.number()),tokenStrings:lo.serialization.property("token_strings",lo.serialization.list(lo.serialization.string())),meta:B5.ApiMeta.optional()});var $p={},F5=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),L5=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),U5=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&F5(t,e,r);return L5(t,e),t};Object.defineProperty($p,"__esModule",{value:!0});$p.DetokenizeResponse=void 0;const Ww=U5(j),V5=tr;$p.DetokenizeResponse=Ww.serialization.object({text:Ww.serialization.string(),meta:V5.ApiMeta.optional()});var Zl={},K5=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),H5=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),G5=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&K5(t,e,r);return H5(t,e),t};Object.defineProperty(Zl,"__esModule",{value:!0});Zl.ChatMessageRole=void 0;const q5=G5(j);Zl.ChatMessageRole=q5.serialization.enum_(["CHATBOT","SYSTEM","USER"]);var Xa={},k5=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),W5=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),X5=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&k5(t,e,r);return W5(t,e),t};Object.defineProperty(Xa,"__esModule",{value:!0});Xa.ChatMessage=void 0;const Xw=X5(j),Z5=Zl;Xa.ChatMessage=Xw.serialization.object({role:Z5.ChatMessageRole,message:Xw.serialization.string()});var ls={},J5=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Y5=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Q5=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&J5(t,e,r);return Y5(t,e),t};Object.defineProperty(ls,"__esModule",{value:!0});ls.ChatConnector=void 0;const Bn=Q5(j);ls.ChatConnector=Bn.serialization.object({id:Bn.serialization.string(),userAccessToken:Bn.serialization.property("user_access_token",Bn.serialization.string().optional()),continueOnFailure:Bn.serialization.property("continue_on_failure",Bn.serialization.boolean().optional()),options:Bn.serialization.record(Bn.serialization.string(),Bn.serialization.unknown()).optional()});var qi={},e9=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),t9=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r9=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&e9(t,e,r);return t9(t,e),t};Object.defineProperty(qi,"__esModule",{value:!0});qi.ChatDocument=void 0;const vv=r9(j);qi.ChatDocument=vv.serialization.record(vv.serialization.string(),vv.serialization.string());var Jl={},n9=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),i9=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a9=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&n9(t,e,r);return i9(t,e),t};Object.defineProperty(Jl,"__esModule",{value:!0});Jl.ToolParameterDefinitionsValue=void 0;const ld=a9(j);Jl.ToolParameterDefinitionsValue=ld.serialization.object({description:ld.serialization.string().optional(),type:ld.serialization.string(),required:ld.serialization.boolean().optional()});var cs={},o9=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),s9=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u9=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&o9(t,e,r);return s9(t,e),t};Object.defineProperty(cs,"__esModule",{value:!0});cs.Tool=void 0;const co=u9(j),l9=Jl;cs.Tool=co.serialization.object({name:co.serialization.string(),description:co.serialization.string(),parameterDefinitions:co.serialization.property("parameter_definitions",co.serialization.record(co.serialization.string(),l9.ToolParameterDefinitionsValue).optional())});var ds={},c9=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),d9=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),f9=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&c9(t,e,r);return d9(t,e),t};Object.defineProperty(ds,"__esModule",{value:!0});ds.ChatCitation=void 0;const aa=f9(j);ds.ChatCitation=aa.serialization.object({start:aa.serialization.number(),end:aa.serialization.number(),text:aa.serialization.string(),documentIds:aa.serialization.property("document_ids",aa.serialization.list(aa.serialization.string()))});var Za={},h9=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),p9=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),y9=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&h9(t,e,r);return p9(t,e),t};Object.defineProperty(Za,"__esModule",{value:!0});Za.ChatSearchQuery=void 0;const cd=y9(j);Za.ChatSearchQuery=cd.serialization.object({text:cd.serialization.string(),generationId:cd.serialization.property("generation_id",cd.serialization.string())});var Yl={},v9=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),m9=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),_9=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&v9(t,e,r);return m9(t,e),t};Object.defineProperty(Yl,"__esModule",{value:!0});Yl.ChatSearchResultConnector=void 0;const Zw=_9(j);Yl.ChatSearchResultConnector=Zw.serialization.object({id:Zw.serialization.string()});var fs={},g9=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),b9=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),w9=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&g9(t,e,r);return b9(t,e),t};Object.defineProperty(fs,"__esModule",{value:!0});fs.ChatSearchResult=void 0;const Fn=w9(j),O9=Za,S9=Yl;fs.ChatSearchResult=Fn.serialization.object({searchQuery:Fn.serialization.property("search_query",O9.ChatSearchQuery.optional()),connector:S9.ChatSearchResultConnector,documentIds:Fn.serialization.property("document_ids",Fn.serialization.list(Fn.serialization.string())),errorMessage:Fn.serialization.property("error_message",Fn.serialization.string().optional()),continueOnFailure:Fn.serialization.property("continue_on_failure",Fn.serialization.boolean().optional())});var ki={},P9=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),j9=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),C9=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&P9(t,e,r);return j9(t,e),t};Object.defineProperty(ki,"__esModule",{value:!0});ki.FinishReason=void 0;const E9=C9(j);ki.FinishReason=E9.serialization.enum_(["COMPLETE","ERROR","ERROR_TOXIC","ERROR_LIMIT","USER_CANCEL","MAX_TOKENS"]);var Ql={},M9=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),T9=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),R9=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&M9(t,e,r);return T9(t,e),t};Object.defineProperty(Ql,"__esModule",{value:!0});Ql.NonStreamedChatResponse=void 0;const Rt=R9(j),$9=ds,x9=qi,A9=Za,I9=fs,D9=ki,z9=Gi,N9=Xa,B9=tr;Ql.NonStreamedChatResponse=Rt.serialization.object({text:Rt.serialization.string(),generationId:Rt.serialization.property("generation_id",Rt.serialization.string().optional()),citations:Rt.serialization.list($9.ChatCitation).optional(),documents:Rt.serialization.list(x9.ChatDocument).optional(),isSearchRequired:Rt.serialization.property("is_search_required",Rt.serialization.boolean().optional()),searchQueries:Rt.serialization.property("search_queries",Rt.serialization.list(A9.ChatSearchQuery).optional()),searchResults:Rt.serialization.property("search_results",Rt.serialization.list(I9.ChatSearchResult).optional()),finishReason:Rt.serialization.property("finish_reason",D9.FinishReason.optional()),toolCalls:Rt.serialization.property("tool_calls",Rt.serialization.list(z9.ToolCall).optional()),chatHistory:Rt.serialization.property("chat_history",Rt.serialization.list(N9.ChatMessage).optional()),meta:B9.ApiMeta.optional()});var on={},F9=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),L9=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),U9=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&F9(t,e,r);return L9(t,e),t};Object.defineProperty(on,"__esModule",{value:!0});on.ChatStreamEvent=void 0;const V9=U9(j);on.ChatStreamEvent=V9.serialization.object({});var ec={},K9=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),H9=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),G9=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&K9(t,e,r);return H9(t,e),t};Object.defineProperty(ec,"__esModule",{value:!0});ec.ChatStreamStartEvent=void 0;const mv=G9(j),q9=on;ec.ChatStreamStartEvent=mv.serialization.object({generationId:mv.serialization.property("generation_id",mv.serialization.string())}).extend(q9.ChatStreamEvent);var tc={},k9=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),W9=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),X9=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&k9(t,e,r);return W9(t,e),t};Object.defineProperty(tc,"__esModule",{value:!0});tc.ChatSearchQueriesGenerationEvent=void 0;const _v=X9(j),Z9=Za,J9=on;tc.ChatSearchQueriesGenerationEvent=_v.serialization.object({searchQueries:_v.serialization.property("search_queries",_v.serialization.list(Z9.ChatSearchQuery))}).extend(J9.ChatStreamEvent);var rc={},Y9=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Q9=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),eq=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Y9(t,e,r);return Q9(t,e),t};Object.defineProperty(rc,"__esModule",{value:!0});rc.ChatSearchResultsEvent=void 0;const dd=eq(j),tq=fs,rq=qi,nq=on;rc.ChatSearchResultsEvent=dd.serialization.object({searchResults:dd.serialization.property("search_results",dd.serialization.list(tq.ChatSearchResult).optional()),documents:dd.serialization.list(rq.ChatDocument).optional()}).extend(nq.ChatStreamEvent);var nc={},iq=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),aq=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),oq=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&iq(t,e,r);return aq(t,e),t};Object.defineProperty(nc,"__esModule",{value:!0});nc.ChatTextGenerationEvent=void 0;const Jw=oq(j),sq=on;nc.ChatTextGenerationEvent=Jw.serialization.object({text:Jw.serialization.string()}).extend(sq.ChatStreamEvent);var ic={},uq=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),lq=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),cq=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&uq(t,e,r);return lq(t,e),t};Object.defineProperty(ic,"__esModule",{value:!0});ic.ChatCitationGenerationEvent=void 0;const Yw=cq(j),dq=ds,fq=on;ic.ChatCitationGenerationEvent=Yw.serialization.object({citations:Yw.serialization.list(dq.ChatCitation)}).extend(fq.ChatStreamEvent);var ac={},hq=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),pq=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),yq=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&hq(t,e,r);return pq(t,e),t};Object.defineProperty(ac,"__esModule",{value:!0});ac.ChatToolCallsGenerationEvent=void 0;const gv=yq(j),vq=Gi,mq=on;ac.ChatToolCallsGenerationEvent=gv.serialization.object({toolCalls:gv.serialization.property("tool_calls",gv.serialization.list(vq.ToolCall))}).extend(mq.ChatStreamEvent);var oc={},_q=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),gq=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),bq=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&_q(t,e,r);return gq(t,e),t};Object.defineProperty(oc,"__esModule",{value:!0});oc.ChatStreamEndEventFinishReason=void 0;const wq=bq(j);oc.ChatStreamEndEventFinishReason=wq.serialization.enum_(["COMPLETE","ERROR_LIMIT","MAX_TOKENS","ERROR","ERROR_TOXIC"]);var sc={},Oq=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Sq=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Pq=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Oq(t,e,r);return Sq(t,e),t};Object.defineProperty(sc,"__esModule",{value:!0});sc.ChatStreamEndEvent=void 0;const Qw=Pq(j),jq=oc,Cq=Ql,Eq=on;sc.ChatStreamEndEvent=Qw.serialization.object({finishReason:Qw.serialization.property("finish_reason",jq.ChatStreamEndEventFinishReason),response:Cq.NonStreamedChatResponse}).extend(Eq.ChatStreamEvent);var xp={},Mq=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Tq=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Rq=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Mq(t,e,r);return Tq(t,e),t};Object.defineProperty(xp,"__esModule",{value:!0});xp.StreamedChatResponse=void 0;const e0=Rq(j),$q=ec,xq=tc,Aq=rc,Iq=nc,Dq=ic,zq=ac,Nq=sc;xp.StreamedChatResponse=e0.serialization.union(e0.serialization.discriminant("eventType","event_type"),{"stream-start":$q.ChatStreamStartEvent,"search-queries-generation":xq.ChatSearchQueriesGenerationEvent,"search-results":Aq.ChatSearchResultsEvent,"text-generation":Iq.ChatTextGenerationEvent,"citation-generation":Dq.ChatCitationGenerationEvent,"tool-calls-generation":zq.ChatToolCallsGenerationEvent,"stream-end":Nq.ChatStreamEndEvent}).transform({transform:e=>e,untransform:e=>e});var uc={},Bq=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Fq=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Lq=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Bq(t,e,r);return Fq(t,e),t};Object.defineProperty(uc,"__esModule",{value:!0});uc.SingleGenerationTokenLikelihoodsItem=void 0;const bv=Lq(j);uc.SingleGenerationTokenLikelihoodsItem=bv.serialization.object({token:bv.serialization.string(),likelihood:bv.serialization.number()});var lc={},Uq=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Vq=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Kq=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Uq(t,e,r);return Vq(t,e),t};Object.defineProperty(lc,"__esModule",{value:!0});lc.SingleGeneration=void 0;const oa=Kq(j),Hq=uc;lc.SingleGeneration=oa.serialization.object({id:oa.serialization.string(),text:oa.serialization.string(),index:oa.serialization.number().optional(),likelihood:oa.serialization.number().optional(),tokenLikelihoods:oa.serialization.property("token_likelihoods",oa.serialization.list(Hq.SingleGenerationTokenLikelihoodsItem).optional())});var Ap={},Gq=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),qq=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),kq=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Gq(t,e,r);return qq(t,e),t};Object.defineProperty(Ap,"__esModule",{value:!0});Ap.Generation=void 0;const fd=kq(j),Wq=lc,Xq=tr;Ap.Generation=fd.serialization.object({id:fd.serialization.string(),prompt:fd.serialization.string().optional(),generations:fd.serialization.list(Wq.SingleGeneration),meta:Xq.ApiMeta.optional()});var Ja={},Zq=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Jq=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Yq=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Zq(t,e,r);return Jq(t,e),t};Object.defineProperty(Ja,"__esModule",{value:!0});Ja.GenerateStreamEvent=void 0;const Qq=Yq(j);Ja.GenerateStreamEvent=Qq.serialization.object({});var cc={},e6=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),t6=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r6=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&e6(t,e,r);return t6(t,e),t};Object.defineProperty(cc,"__esModule",{value:!0});cc.GenerateStreamText=void 0;const zs=r6(j),n6=Ja;cc.GenerateStreamText=zs.serialization.object({text:zs.serialization.string(),index:zs.serialization.number().optional(),isFinished:zs.serialization.property("is_finished",zs.serialization.boolean())}).extend(n6.GenerateStreamEvent);var dc={},i6=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),a6=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o6=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&i6(t,e,r);return a6(t,e),t};Object.defineProperty(dc,"__esModule",{value:!0});dc.SingleGenerationInStream=void 0;const Ns=o6(j),s6=ki;dc.SingleGenerationInStream=Ns.serialization.object({id:Ns.serialization.string(),text:Ns.serialization.string(),index:Ns.serialization.number().optional(),finishReason:Ns.serialization.property("finish_reason",s6.FinishReason)});var fc={},u6=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),l6=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),c6=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&u6(t,e,r);return l6(t,e),t};Object.defineProperty(fc,"__esModule",{value:!0});fc.GenerateStreamEndResponse=void 0;const hd=c6(j),d6=dc;fc.GenerateStreamEndResponse=hd.serialization.object({id:hd.serialization.string(),prompt:hd.serialization.string().optional(),generations:hd.serialization.list(d6.SingleGenerationInStream).optional()});var hc={},f6=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),h6=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),p6=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&f6(t,e,r);return h6(t,e),t};Object.defineProperty(hc,"__esModule",{value:!0});hc.GenerateStreamEnd=void 0;const pd=p6(j),y6=ki,v6=fc,m6=Ja;hc.GenerateStreamEnd=pd.serialization.object({isFinished:pd.serialization.property("is_finished",pd.serialization.boolean()),finishReason:pd.serialization.property("finish_reason",y6.FinishReason.optional()),response:v6.GenerateStreamEndResponse}).extend(m6.GenerateStreamEvent);var pc={},_6=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),g6=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),b6=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&_6(t,e,r);return g6(t,e),t};Object.defineProperty(pc,"__esModule",{value:!0});pc.GenerateStreamError=void 0;const fo=b6(j),w6=ki,O6=Ja;pc.GenerateStreamError=fo.serialization.object({index:fo.serialization.number().optional(),isFinished:fo.serialization.property("is_finished",fo.serialization.boolean()),finishReason:fo.serialization.property("finish_reason",w6.FinishReason),err:fo.serialization.string()}).extend(O6.GenerateStreamEvent);var Ip={},S6=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),P6=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),j6=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&S6(t,e,r);return P6(t,e),t};Object.defineProperty(Ip,"__esModule",{value:!0});Ip.GenerateStreamedResponse=void 0;const t0=j6(j),C6=cc,E6=hc,M6=pc;Ip.GenerateStreamedResponse=t0.serialization.union(t0.serialization.discriminant("eventType","event_type"),{"text-generation":C6.GenerateStreamText,"stream-end":E6.GenerateStreamEnd,"stream-error":M6.GenerateStreamError}).transform({transform:e=>e,untransform:e=>e});var yc={},T6=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),R6=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),$6=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&T6(t,e,r);return R6(t,e),t};Object.defineProperty(yc,"__esModule",{value:!0});yc.EmbedJobStatus=void 0;const x6=$6(j);yc.EmbedJobStatus=x6.serialization.enum_(["processing","complete","cancelling","cancelled","failed"]);var vc={},A6=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),I6=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),D6=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&A6(t,e,r);return I6(t,e),t};Object.defineProperty(vc,"__esModule",{value:!0});vc.EmbedJobTruncate=void 0;const z6=D6(j);vc.EmbedJobTruncate=z6.serialization.enum_(["START","END"]);var mc={},N6=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),B6=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),F6=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&N6(t,e,r);return B6(t,e),t};Object.defineProperty(mc,"__esModule",{value:!0});mc.EmbedJob=void 0;const Wr=F6(j),L6=yc,U6=vc,V6=tr;mc.EmbedJob=Wr.serialization.object({jobId:Wr.serialization.property("job_id",Wr.serialization.string()),name:Wr.serialization.string().optional(),status:L6.EmbedJobStatus,createdAt:Wr.serialization.property("created_at",Wr.serialization.date()),inputDatasetId:Wr.serialization.property("input_dataset_id",Wr.serialization.string()),outputDatasetId:Wr.serialization.property("output_dataset_id",Wr.serialization.string().optional()),model:Wr.serialization.string(),truncate:U6.EmbedJobTruncate,meta:V6.ApiMeta.optional()});var Dp={},K6=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),H6=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),G6=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&K6(t,e,r);return H6(t,e),t};Object.defineProperty(Dp,"__esModule",{value:!0});Dp.ListEmbedJobResponse=void 0;const wv=G6(j),q6=mc;Dp.ListEmbedJobResponse=wv.serialization.object({embedJobs:wv.serialization.property("embed_jobs",wv.serialization.list(q6.EmbedJob).optional())});var zp={},k6=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),W6=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),X6=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&k6(t,e,r);return W6(t,e),t};Object.defineProperty(zp,"__esModule",{value:!0});zp.CreateEmbedJobResponse=void 0;const Ov=X6(j),Z6=tr;zp.CreateEmbedJobResponse=Ov.serialization.object({jobId:Ov.serialization.property("job_id",Ov.serialization.string()),meta:Z6.ApiMeta.optional()});var _c={},J6=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Y6=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Q6=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&J6(t,e,r);return Y6(t,e),t};Object.defineProperty(_c,"__esModule",{value:!0});_c.ClassifyExample=void 0;const Sv=Q6(j);_c.ClassifyExample=Sv.serialization.object({text:Sv.serialization.string().optional(),label:Sv.serialization.string().optional()});var Np={},ek=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),tk=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),rk=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&ek(t,e,r);return tk(t,e),t};Object.defineProperty(Np,"__esModule",{value:!0});Np.ParseInfo=void 0;const Pv=rk(j);Np.ParseInfo=Pv.serialization.object({separator:Pv.serialization.string().optional(),delimiter:Pv.serialization.string().optional()});var Bp={},nk=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),ik=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),ak=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&nk(t,e,r);return ik(t,e),t};Object.defineProperty(Bp,"__esModule",{value:!0});Bp.RerankerDataMetrics=void 0;const hr=ak(j);Bp.RerankerDataMetrics=hr.serialization.object({numTrainQueries:hr.serialization.property("num_train_queries",hr.serialization.string().optional()),numTrainRelevantPassages:hr.serialization.property("num_train_relevant_passages",hr.serialization.string().optional()),numTrainHardNegatives:hr.serialization.property("num_train_hard_negatives",hr.serialization.string().optional()),numEvalQueries:hr.serialization.property("num_eval_queries",hr.serialization.string().optional()),numEvalRelevantPassages:hr.serialization.property("num_eval_relevant_passages",hr.serialization.string().optional()),numEvalHardNegatives:hr.serialization.property("num_eval_hard_negatives",hr.serialization.string().optional())});var Fp={},ok=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),sk=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),uk=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&ok(t,e,r);return sk(t,e),t};Object.defineProperty(Fp,"__esModule",{value:!0});Fp.ChatDataMetrics=void 0;const ho=uk(j);Fp.ChatDataMetrics=ho.serialization.object({numTrainTurns:ho.serialization.property("num_train_turns",ho.serialization.string().optional()),numEvalTurns:ho.serialization.property("num_eval_turns",ho.serialization.string().optional()),preamble:ho.serialization.string().optional()});var gc={},lk=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),ck=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),dk=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&lk(t,e,r);return ck(t,e),t};Object.defineProperty(gc,"__esModule",{value:!0});gc.LabelMetric=void 0;const po=dk(j);gc.LabelMetric=po.serialization.object({totalExamples:po.serialization.property("total_examples",po.serialization.string().optional()),label:po.serialization.string().optional(),samples:po.serialization.list(po.serialization.string()).optional()});var Lp={},fk=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),hk=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),pk=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&fk(t,e,r);return hk(t,e),t};Object.defineProperty(Lp,"__esModule",{value:!0});Lp.ClassifyDataMetrics=void 0;const jv=pk(j),yk=gc;Lp.ClassifyDataMetrics=jv.serialization.object({labelMetrics:jv.serialization.property("label_metrics",jv.serialization.list(yk.LabelMetric).optional())});var bc={},vk=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),mk=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),_k=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&vk(t,e,r);return mk(t,e),t};Object.defineProperty(bc,"__esModule",{value:!0});bc.FinetuneDatasetMetrics=void 0;const pr=_k(j);bc.FinetuneDatasetMetrics=pr.serialization.object({trainableTokenCount:pr.serialization.property("trainable_token_count",pr.serialization.string().optional()),totalExamples:pr.serialization.property("total_examples",pr.serialization.string().optional()),trainExamples:pr.serialization.property("train_examples",pr.serialization.string().optional()),trainSizeBytes:pr.serialization.property("train_size_bytes",pr.serialization.string().optional()),evalExamples:pr.serialization.property("eval_examples",pr.serialization.string().optional()),evalSizeBytes:pr.serialization.property("eval_size_bytes",pr.serialization.string().optional())});var Up={},gk=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),bk=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),wk=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&gk(t,e,r);return bk(t,e),t};Object.defineProperty(Up,"__esModule",{value:!0});Up.Metrics=void 0;const r0=wk(j),Ok=bc;Up.Metrics=r0.serialization.object({finetuneDatasetMetrics:r0.serialization.property("finetune_dataset_metrics",Ok.FinetuneDatasetMetrics.optional())});var wc={},Sk=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Pk=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),jk=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Sk(t,e,r);return Pk(t,e),t};Object.defineProperty(wc,"__esModule",{value:!0});wc.ConnectorOAuth=void 0;const fn=jk(j);wc.ConnectorOAuth=fn.serialization.object({clientId:fn.serialization.property("client_id",fn.serialization.string().optional()),clientSecret:fn.serialization.property("client_secret",fn.serialization.string().optional()),authorizeUrl:fn.serialization.property("authorize_url",fn.serialization.string()),tokenUrl:fn.serialization.property("token_url",fn.serialization.string()),scope:fn.serialization.string().optional()});var Oc={},Ck=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Ek=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Mk=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Ck(t,e,r);return Ek(t,e),t};Object.defineProperty(Oc,"__esModule",{value:!0});Oc.ConnectorAuthStatus=void 0;const Tk=Mk(j);Oc.ConnectorAuthStatus=Tk.serialization.enum_(["valid","expired"]);var Wi={},Rk=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),$k=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),xk=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Rk(t,e,r);return $k(t,e),t};Object.defineProperty(Wi,"__esModule",{value:!0});Wi.Connector=void 0;const _t=xk(j),Ak=wc,Ik=Oc;Wi.Connector=_t.serialization.object({id:_t.serialization.string(),organizationId:_t.serialization.property("organization_id",_t.serialization.string().optional()),name:_t.serialization.string(),description:_t.serialization.string().optional(),url:_t.serialization.string().optional(),createdAt:_t.serialization.property("created_at",_t.serialization.date()),updatedAt:_t.serialization.property("updated_at",_t.serialization.date()),excludes:_t.serialization.list(_t.serialization.string()).optional(),authType:_t.serialization.property("auth_type",_t.serialization.string().optional()),oauth:Ak.ConnectorOAuth.optional(),authStatus:_t.serialization.property("auth_status",Ik.ConnectorAuthStatus.optional()),active:_t.serialization.boolean().optional(),continueOnFailure:_t.serialization.property("continue_on_failure",_t.serialization.boolean().optional())});var Vp={},Dk=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),zk=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Nk=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Dk(t,e,r);return zk(t,e),t};Object.defineProperty(Vp,"__esModule",{value:!0});Vp.ListConnectorsResponse=void 0;const yd=Nk(j),Bk=Wi;Vp.ListConnectorsResponse=yd.serialization.object({connectors:yd.serialization.list(Bk.Connector),totalCount:yd.serialization.property("total_count",yd.serialization.number().optional())});var Kp={},Fk=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Lk=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Uk=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Fk(t,e,r);return Lk(t,e),t};Object.defineProperty(Kp,"__esModule",{value:!0});Kp.CreateConnectorResponse=void 0;const Vk=Uk(j),Kk=Wi;Kp.CreateConnectorResponse=Vk.serialization.object({connector:Kk.Connector});var Hp={},Hk=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Gk=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),qk=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Hk(t,e,r);return Gk(t,e),t};Object.defineProperty(Hp,"__esModule",{value:!0});Hp.GetConnectorResponse=void 0;const kk=qk(j),Wk=Wi;Hp.GetConnectorResponse=kk.serialization.object({connector:Wk.Connector});var Gp={},Xk=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Zk=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Jk=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Xk(t,e,r);return Zk(t,e),t};Object.defineProperty(Gp,"__esModule",{value:!0});Gp.DeleteConnectorResponse=void 0;const Cv=Jk(j);Gp.DeleteConnectorResponse=Cv.serialization.record(Cv.serialization.string(),Cv.serialization.unknown());var qp={},Yk=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Qk=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),e8=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Yk(t,e,r);return Qk(t,e),t};Object.defineProperty(qp,"__esModule",{value:!0});qp.UpdateConnectorResponse=void 0;const t8=e8(j),r8=Wi;qp.UpdateConnectorResponse=t8.serialization.object({connector:r8.Connector});var kp={},n8=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),i8=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a8=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&n8(t,e,r);return i8(t,e),t};Object.defineProperty(kp,"__esModule",{value:!0});kp.OAuthAuthorizeResponse=void 0;const Ev=a8(j);kp.OAuthAuthorizeResponse=Ev.serialization.object({redirectUrl:Ev.serialization.property("redirect_url",Ev.serialization.string().optional())});var Sc={},o8=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),s8=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u8=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&o8(t,e,r);return s8(t,e),t};Object.defineProperty(Sc,"__esModule",{value:!0});Sc.CompatibleEndpoint=void 0;const l8=u8(j);Sc.CompatibleEndpoint=l8.serialization.enum_(["chat","embed","classify","summarize","rerank","rate","generate"]);var Pc={},c8=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),d8=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),f8=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&c8(t,e,r);return d8(t,e),t};Object.defineProperty(Pc,"__esModule",{value:!0});Pc.GetModelResponse=void 0;const hn=f8(j),n0=Sc;Pc.GetModelResponse=hn.serialization.object({name:hn.serialization.string().optional(),endpoints:hn.serialization.list(n0.CompatibleEndpoint).optional(),finetuned:hn.serialization.boolean().optional(),contextLength:hn.serialization.property("context_length",hn.serialization.number().optional()),tokenizerUrl:hn.serialization.property("tokenizer_url",hn.serialization.string().optional()),defaultEndpoints:hn.serialization.property("default_endpoints",hn.serialization.list(n0.CompatibleEndpoint).optional())});var Wp={},h8=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),p8=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),y8=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&h8(t,e,r);return p8(t,e),t};Object.defineProperty(Wp,"__esModule",{value:!0});Wp.ListModelsResponse=void 0;const vd=y8(j),v8=Pc;Wp.ListModelsResponse=vd.serialization.object({models:vd.serialization.list(v8.GetModelResponse),nextPageToken:vd.serialization.property("next_page_token",vd.serialization.string().optional())});(function(e){var t=l&&l.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=l&&l.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(Pl,e),r(Op,e),r(Sp,e),r(jl,e),r(Cl,e),r(Pp,e),r(jp,e),r(El,e),r(Ml,e),r(Tl,e),r(Rl,e),r($l,e),r(xl,e),r(Cp,e),r(Fl,e),r(Ll,e),r(Ul,e),r(Vl,e),r(Ep,e),r(Kl,e),r(Hl,e),r(Gl,e),r(ql,e),r(Mp,e),r(kl,e),r(Wl,e),r(Xl,e),r(Tp,e),r(Rp,e),r($p,e),r(Zl,e),r(Xa,e),r(ls,e),r(qi,e),r(Jl,e),r(cs,e),r(Gi,e),r(ds,e),r(Za,e),r(Yl,e),r(fs,e),r(ki,e),r(Il,e),r(Dl,e),r(zl,e),r(tr,e),r(Ql,e),r(on,e),r(ec,e),r(tc,e),r(rc,e),r(nc,e),r(ic,e),r(ac,e),r(oc,e),r(sc,e),r(xp,e),r(uc,e),r(lc,e),r(Ap,e),r(Ja,e),r(cc,e),r(dc,e),r(fc,e),r(hc,e),r(pc,e),r(Ip,e),r(ns,e),r(is,e),r(Al,e),r(Bl,e),r(Nl,e),r(yc,e),r(vc,e),r(mc,e),r(Dp,e),r(zp,e),r(_c,e),r(pl,e),r(yl,e),r(vl,e),r(Np,e),r(Bp,e),r(Fp,e),r(gc,e),r(Lp,e),r(bc,e),r(Up,e),r(as,e),r(wc,e),r(Oc,e),r(Wi,e),r(Vp,e),r(ss,e),r(Sl,e),r(us,e),r(Kp,e),r(Hp,e),r(Gp,e),r(qp,e),r(kp,e),r(Sc,e),r(Pc,e),r(Wp,e)})(LE);var UE={},VE={},Xp={},m8=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),_8=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),g8=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&m8(t,e,r);return _8(t,e),t};Object.defineProperty(Xp,"__esModule",{value:!0});Xp.ChatStreamRequest=void 0;const Te=g8(j),b8=Xa,w8=Pl,O8=ls,S8=qi,P8=cs,j8=jl;Xp.ChatStreamRequest=Te.serialization.object({message:Te.serialization.string(),model:Te.serialization.string().optional(),preamble:Te.serialization.string().optional(),chatHistory:Te.serialization.property("chat_history",Te.serialization.list(b8.ChatMessage).optional()),conversationId:Te.serialization.property("conversation_id",Te.serialization.string().optional()),promptTruncation:Te.serialization.property("prompt_truncation",w8.ChatStreamRequestPromptTruncation.optional()),connectors:Te.serialization.list(O8.ChatConnector).optional(),searchQueriesOnly:Te.serialization.property("search_queries_only",Te.serialization.boolean().optional()),documents:Te.serialization.list(S8.ChatDocument).optional(),temperature:Te.serialization.number().optional(),maxTokens:Te.serialization.property("max_tokens",Te.serialization.number().optional()),maxInputTokens:Te.serialization.property("max_input_tokens",Te.serialization.number().optional()),k:Te.serialization.number().optional(),p:Te.serialization.number().optional(),seed:Te.serialization.number().optional(),stopSequences:Te.serialization.property("stop_sequences",Te.serialization.list(Te.serialization.string()).optional()),frequencyPenalty:Te.serialization.property("frequency_penalty",Te.serialization.number().optional()),presencePenalty:Te.serialization.property("presence_penalty",Te.serialization.number().optional()),rawPrompting:Te.serialization.property("raw_prompting",Te.serialization.boolean().optional()),tools:Te.serialization.list(P8.Tool).optional(),toolResults:Te.serialization.property("tool_results",Te.serialization.list(j8.ChatStreamRequestToolResultsItem).optional())});var Zp={},C8=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),E8=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),M8=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&C8(t,e,r);return E8(t,e),t};Object.defineProperty(Zp,"__esModule",{value:!0});Zp.ChatRequest=void 0;const Re=M8(j),T8=Xa,R8=Cl,$8=ls,x8=qi,A8=cs,I8=El;Zp.ChatRequest=Re.serialization.object({message:Re.serialization.string(),model:Re.serialization.string().optional(),preamble:Re.serialization.string().optional(),chatHistory:Re.serialization.property("chat_history",Re.serialization.list(T8.ChatMessage).optional()),conversationId:Re.serialization.property("conversation_id",Re.serialization.string().optional()),promptTruncation:Re.serialization.property("prompt_truncation",R8.ChatRequestPromptTruncation.optional()),connectors:Re.serialization.list($8.ChatConnector).optional(),searchQueriesOnly:Re.serialization.property("search_queries_only",Re.serialization.boolean().optional()),documents:Re.serialization.list(x8.ChatDocument).optional(),temperature:Re.serialization.number().optional(),maxTokens:Re.serialization.property("max_tokens",Re.serialization.number().optional()),maxInputTokens:Re.serialization.property("max_input_tokens",Re.serialization.number().optional()),k:Re.serialization.number().optional(),p:Re.serialization.number().optional(),seed:Re.serialization.number().optional(),stopSequences:Re.serialization.property("stop_sequences",Re.serialization.list(Re.serialization.string()).optional()),frequencyPenalty:Re.serialization.property("frequency_penalty",Re.serialization.number().optional()),presencePenalty:Re.serialization.property("presence_penalty",Re.serialization.number().optional()),rawPrompting:Re.serialization.property("raw_prompting",Re.serialization.boolean().optional()),tools:Re.serialization.list(A8.Tool).optional(),toolResults:Re.serialization.property("tool_results",Re.serialization.list(I8.ChatRequestToolResultsItem).optional())});var Jp={},D8=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),z8=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),N8=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&D8(t,e,r);return z8(t,e),t};Object.defineProperty(Jp,"__esModule",{value:!0});Jp.GenerateStreamRequest=void 0;const qe=N8(j),B8=Ml,F8=Tl;Jp.GenerateStreamRequest=qe.serialization.object({prompt:qe.serialization.string(),model:qe.serialization.string().optional(),numGenerations:qe.serialization.property("num_generations",qe.serialization.number().optional()),maxTokens:qe.serialization.property("max_tokens",qe.serialization.number().optional()),truncate:B8.GenerateStreamRequestTruncate.optional(),temperature:qe.serialization.number().optional(),seed:qe.serialization.number().optional(),preset:qe.serialization.string().optional(),endSequences:qe.serialization.property("end_sequences",qe.serialization.list(qe.serialization.string()).optional()),stopSequences:qe.serialization.property("stop_sequences",qe.serialization.list(qe.serialization.string()).optional()),k:qe.serialization.number().optional(),p:qe.serialization.number().optional(),frequencyPenalty:qe.serialization.property("frequency_penalty",qe.serialization.number().optional()),presencePenalty:qe.serialization.property("presence_penalty",qe.serialization.number().optional()),returnLikelihoods:qe.serialization.property("return_likelihoods",F8.GenerateStreamRequestReturnLikelihoods.optional()),rawPrompting:qe.serialization.property("raw_prompting",qe.serialization.boolean().optional())});var Yp={},L8=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),U8=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),V8=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&L8(t,e,r);return U8(t,e),t};Object.defineProperty(Yp,"__esModule",{value:!0});Yp.GenerateRequest=void 0;const ke=V8(j),K8=Rl,H8=$l;Yp.GenerateRequest=ke.serialization.object({prompt:ke.serialization.string(),model:ke.serialization.string().optional(),numGenerations:ke.serialization.property("num_generations",ke.serialization.number().optional()),maxTokens:ke.serialization.property("max_tokens",ke.serialization.number().optional()),truncate:K8.GenerateRequestTruncate.optional(),temperature:ke.serialization.number().optional(),seed:ke.serialization.number().optional(),preset:ke.serialization.string().optional(),endSequences:ke.serialization.property("end_sequences",ke.serialization.list(ke.serialization.string()).optional()),stopSequences:ke.serialization.property("stop_sequences",ke.serialization.list(ke.serialization.string()).optional()),k:ke.serialization.number().optional(),p:ke.serialization.number().optional(),frequencyPenalty:ke.serialization.property("frequency_penalty",ke.serialization.number().optional()),presencePenalty:ke.serialization.property("presence_penalty",ke.serialization.number().optional()),returnLikelihoods:ke.serialization.property("return_likelihoods",H8.GenerateRequestReturnLikelihoods.optional()),rawPrompting:ke.serialization.property("raw_prompting",ke.serialization.boolean().optional())});var Qp={},G8=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),q8=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),k8=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&G8(t,e,r);return q8(t,e),t};Object.defineProperty(Qp,"__esModule",{value:!0});Qp.EmbedRequest=void 0;const sa=k8(j),W8=ns,X8=is,Z8=xl;Qp.EmbedRequest=sa.serialization.object({texts:sa.serialization.list(sa.serialization.string()),model:sa.serialization.string().optional(),inputType:sa.serialization.property("input_type",W8.EmbedInputType.optional()),embeddingTypes:sa.serialization.property("embedding_types",sa.serialization.list(X8.EmbeddingType).optional()),truncate:Z8.EmbedRequestTruncate.optional()});var ey={},J8=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Y8=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Q8=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&J8(t,e,r);return Y8(t,e),t};Object.defineProperty(ey,"__esModule",{value:!0});ey.RerankRequest=void 0;const yr=Q8(j),eW=Ll;ey.RerankRequest=yr.serialization.object({model:yr.serialization.string().optional(),query:yr.serialization.string(),documents:yr.serialization.list(eW.RerankRequestDocumentsItem),topN:yr.serialization.property("top_n",yr.serialization.number().optional()),rankFields:yr.serialization.property("rank_fields",yr.serialization.list(yr.serialization.string()).optional()),returnDocuments:yr.serialization.property("return_documents",yr.serialization.boolean().optional()),maxChunksPerDoc:yr.serialization.property("max_chunks_per_doc",yr.serialization.number().optional())});var ty={},tW=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),rW=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),nW=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&tW(t,e,r);return rW(t,e),t};Object.defineProperty(ty,"__esModule",{value:!0});ty.ClassifyRequest=void 0;const yo=nW(j),iW=_c,aW=Kl;ty.ClassifyRequest=yo.serialization.object({inputs:yo.serialization.list(yo.serialization.string()),examples:yo.serialization.list(iW.ClassifyExample),model:yo.serialization.string().optional(),preset:yo.serialization.string().optional(),truncate:aW.ClassifyRequestTruncate.optional()});var ry={},oW=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),sW=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),uW=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&oW(t,e,r);return sW(t,e),t};Object.defineProperty(ry,"__esModule",{value:!0});ry.SummarizeRequest=void 0;const vo=uW(j),lW=kl,cW=Wl,dW=Xl;ry.SummarizeRequest=vo.serialization.object({text:vo.serialization.string(),length:lW.SummarizeRequestLength.optional(),format:cW.SummarizeRequestFormat.optional(),model:vo.serialization.string().optional(),extractiveness:dW.SummarizeRequestExtractiveness.optional(),temperature:vo.serialization.number().optional(),additionalCommand:vo.serialization.property("additional_command",vo.serialization.string().optional())});var ny={},fW=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),hW=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),pW=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&fW(t,e,r);return hW(t,e),t};Object.defineProperty(ny,"__esModule",{value:!0});ny.TokenizeRequest=void 0;const Mv=pW(j);ny.TokenizeRequest=Mv.serialization.object({text:Mv.serialization.string(),model:Mv.serialization.string()});var iy={},yW=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),vW=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),mW=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&yW(t,e,r);return vW(t,e),t};Object.defineProperty(iy,"__esModule",{value:!0});iy.DetokenizeRequest=void 0;const md=mW(j);iy.DetokenizeRequest=md.serialization.object({tokens:md.serialization.list(md.serialization.number()),model:md.serialization.string()});(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DetokenizeRequest=e.TokenizeRequest=e.SummarizeRequest=e.ClassifyRequest=e.RerankRequest=e.EmbedRequest=e.GenerateRequest=e.GenerateStreamRequest=e.ChatRequest=e.ChatStreamRequest=void 0;var t=Xp;Object.defineProperty(e,"ChatStreamRequest",{enumerable:!0,get:function(){return t.ChatStreamRequest}});var r=Zp;Object.defineProperty(e,"ChatRequest",{enumerable:!0,get:function(){return r.ChatRequest}});var n=Jp;Object.defineProperty(e,"GenerateStreamRequest",{enumerable:!0,get:function(){return n.GenerateStreamRequest}});var i=Yp;Object.defineProperty(e,"GenerateRequest",{enumerable:!0,get:function(){return i.GenerateRequest}});var a=Qp;Object.defineProperty(e,"EmbedRequest",{enumerable:!0,get:function(){return a.EmbedRequest}});var o=ey;Object.defineProperty(e,"RerankRequest",{enumerable:!0,get:function(){return o.RerankRequest}});var s=ty;Object.defineProperty(e,"ClassifyRequest",{enumerable:!0,get:function(){return s.ClassifyRequest}});var u=ry;Object.defineProperty(e,"SummarizeRequest",{enumerable:!0,get:function(){return u.SummarizeRequest}});var c=ny;Object.defineProperty(e,"TokenizeRequest",{enumerable:!0,get:function(){return c.TokenizeRequest}});var d=iy;Object.defineProperty(e,"DetokenizeRequest",{enumerable:!0,get:function(){return d.DetokenizeRequest}})})(VE);(function(e){var t=l&&l.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=l&&l.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(VE,e)})(UE);(function(e){var t=l&&l.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=l&&l.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(RE,e),r(LE,e),r(UE,e)})(ka);var Ya={exports:{}};(function(e){(function(t,r,n){e.exports?e.exports=n():r[t]=n()})("urljoin",l,function(){function t(r){var n=[];if(r.length===0)return"";if(typeof r[0]!="string")throw new TypeError("Url must be a string. Received "+r[0]);if(r[0].match(/^[^/:]+:\/*$/)&&r.length>1){var i=r.shift();r[0]=i+r[0]}r[0].match(/^file:\/\/\//)?r[0]=r[0].replace(/^([^/:]+):\/*/,"$1:///"):r[0]=r[0].replace(/^([^/:]+):\/*/,"$1://");for(var a=0;a<r.length;a++){var o=r[a];if(typeof o!="string")throw new TypeError("Url must be a string. Received "+o);o!==""&&(a>0&&(o=o.replace(/^[\/]+/,"")),a<r.length-1?o=o.replace(/[\/]+$/,""):o=o.replace(/[\/]+$/,"/"),n.push(o))}var s=n.join("/");s=s.replace(/\/(\?|&|#[^!])/g,"$1");var u=s.split("?");return s=u.shift()+(u.length>0?"?":"")+u.join("&"),s}return function(){var r;return typeof arguments[0]=="object"?r=arguments[0]:r=[].slice.call(arguments),t(r)}})})(Ya);var ay={},_W=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),gW=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),jc=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&_W(t,e,r);return gW(t,e),t},Bs=l&&l.__awaiter||function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(d){try{c(n.next(d))}catch(f){o(f)}}function u(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?a(d.value):i(d.value).then(s,u)}c((n=n.apply(e,t||[])).next())})},bW=l&&l.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ay,"__esModule",{value:!0});ay.EmbedJobs=void 0;const _d=jc($n),We=jc(j),sr=jc(Vi),gd=bW(Ya.exports),bd=jc(ka),$t=jc(Ht);class wW{constructor(t={}){this._options=t}list(t){var r;return Bs(this,void 0,void 0,function*(){const n=yield We.fetcher({url:(0,gd.default)((r=yield We.Supplier.get(this._options.environment))!==null&&r!==void 0?r:_d.CohereEnvironment.Production,"embed-jobs"),method:"GET",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield We.Supplier.get(this._options.clientName))!=null?yield We.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.9.5","X-Fern-Runtime":We.RUNTIME.type,"X-Fern-Runtime-Version":We.RUNTIME.version},contentType:"application/json",timeoutMs:(t==null?void 0:t.timeoutInSeconds)!=null?t.timeoutInSeconds*1e3:3e5,maxRetries:t==null?void 0:t.maxRetries});if(n.ok)return yield bd.ListEmbedJobResponse.parseOrThrow(n.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(n.error.reason==="status-code")switch(n.error.statusCode){case 400:throw new sr.BadRequestError(n.error.body);case 429:throw new sr.TooManyRequestsError(n.error.body);case 500:throw new sr.InternalServerError(n.error.body);default:throw new $t.CohereError({statusCode:n.error.statusCode,body:n.error.body})}switch(n.error.reason){case"non-json":throw new $t.CohereError({statusCode:n.error.statusCode,body:n.error.rawBody});case"timeout":throw new $t.CohereTimeoutError;case"unknown":throw new $t.CohereError({message:n.error.errorMessage})}})}create(t,r){var n;return Bs(this,void 0,void 0,function*(){const i=yield We.fetcher({url:(0,gd.default)((n=yield We.Supplier.get(this._options.environment))!==null&&n!==void 0?n:_d.CohereEnvironment.Production,"embed-jobs"),method:"POST",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield We.Supplier.get(this._options.clientName))!=null?yield We.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.9.5","X-Fern-Runtime":We.RUNTIME.type,"X-Fern-Runtime-Version":We.RUNTIME.version},contentType:"application/json",body:yield bd.CreateEmbedJobRequest.jsonOrThrow(t,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0}),timeoutMs:(r==null?void 0:r.timeoutInSeconds)!=null?r.timeoutInSeconds*1e3:3e5,maxRetries:r==null?void 0:r.maxRetries});if(i.ok)return yield bd.CreateEmbedJobResponse.parseOrThrow(i.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(i.error.reason==="status-code")switch(i.error.statusCode){case 400:throw new sr.BadRequestError(i.error.body);case 429:throw new sr.TooManyRequestsError(i.error.body);case 500:throw new sr.InternalServerError(i.error.body);default:throw new $t.CohereError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new $t.CohereError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new $t.CohereTimeoutError;case"unknown":throw new $t.CohereError({message:i.error.errorMessage})}})}get(t,r){var n;return Bs(this,void 0,void 0,function*(){const i=yield We.fetcher({url:(0,gd.default)((n=yield We.Supplier.get(this._options.environment))!==null&&n!==void 0?n:_d.CohereEnvironment.Production,`embed-jobs/${t}`),method:"GET",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield We.Supplier.get(this._options.clientName))!=null?yield We.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.9.5","X-Fern-Runtime":We.RUNTIME.type,"X-Fern-Runtime-Version":We.RUNTIME.version},contentType:"application/json",timeoutMs:(r==null?void 0:r.timeoutInSeconds)!=null?r.timeoutInSeconds*1e3:3e5,maxRetries:r==null?void 0:r.maxRetries});if(i.ok)return yield bd.EmbedJob.parseOrThrow(i.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(i.error.reason==="status-code")switch(i.error.statusCode){case 400:throw new sr.BadRequestError(i.error.body);case 404:throw new sr.NotFoundError(i.error.body);case 429:throw new sr.TooManyRequestsError(i.error.body);case 500:throw new sr.InternalServerError(i.error.body);default:throw new $t.CohereError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new $t.CohereError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new $t.CohereTimeoutError;case"unknown":throw new $t.CohereError({message:i.error.errorMessage})}})}cancel(t,r){var n;return Bs(this,void 0,void 0,function*(){const i=yield We.fetcher({url:(0,gd.default)((n=yield We.Supplier.get(this._options.environment))!==null&&n!==void 0?n:_d.CohereEnvironment.Production,`embed-jobs/${t}/cancel`),method:"POST",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield We.Supplier.get(this._options.clientName))!=null?yield We.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.9.5","X-Fern-Runtime":We.RUNTIME.type,"X-Fern-Runtime-Version":We.RUNTIME.version},contentType:"application/json",timeoutMs:(r==null?void 0:r.timeoutInSeconds)!=null?r.timeoutInSeconds*1e3:3e5,maxRetries:r==null?void 0:r.maxRetries});if(!i.ok){if(i.error.reason==="status-code")switch(i.error.statusCode){case 400:throw new sr.BadRequestError(i.error.body);case 404:throw new sr.NotFoundError(i.error.body);case 429:throw new sr.TooManyRequestsError(i.error.body);case 500:throw new sr.InternalServerError(i.error.body);default:throw new $t.CohereError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new $t.CohereError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new $t.CohereTimeoutError;case"unknown":throw new $t.CohereError({message:i.error.errorMessage})}}})}_getAuthorizationHeader(){var t;return Bs(this,void 0,void 0,function*(){const r=(t=yield We.Supplier.get(this._options.token))!==null&&t!==void 0?t:process==null?void 0:process.env.CO_API_KEY;if(r==null)throw new $t.CohereError({message:"Please specify CO_API_KEY when instantiating the client."});return`Bearer ${r}`})}}ay.EmbedJobs=wW;var oy={},OW=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),SW=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Cc=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&OW(t,e,r);return SW(t,e),t},mo=l&&l.__awaiter||function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(d){try{c(n.next(d))}catch(f){o(f)}}function u(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?a(d.value):i(d.value).then(s,u)}c((n=n.apply(e,t||[])).next())})},KE=l&&l.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(oy,"__esModule",{value:!0});oy.Datasets=void 0;const Fs=Cc($n),Ie=Cc(j),Ls=Cc(Vi),Us=KE(Ya.exports),Vs=Cc(ka),ft=Cc(Ht),PW=KE(BC);class jW{constructor(t={}){this._options=t}list(t={},r){var n;return mo(this,void 0,void 0,function*(){const{datasetType:i,before:a,after:o,limit:s,offset:u}=t,c={};i!=null&&(c.datasetType=i),a!=null&&(c.before=a.toISOString()),o!=null&&(c.after=o.toISOString()),s!=null&&(c.limit=s.toString()),u!=null&&(c.offset=u.toString());const d=yield Ie.fetcher({url:(0,Us.default)((n=yield Ie.Supplier.get(this._options.environment))!==null&&n!==void 0?n:Fs.CohereEnvironment.Production,"datasets"),method:"GET",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield Ie.Supplier.get(this._options.clientName))!=null?yield Ie.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.9.5","X-Fern-Runtime":Ie.RUNTIME.type,"X-Fern-Runtime-Version":Ie.RUNTIME.version},contentType:"application/json",queryParameters:c,timeoutMs:(r==null?void 0:r.timeoutInSeconds)!=null?r.timeoutInSeconds*1e3:3e5,maxRetries:r==null?void 0:r.maxRetries});if(d.ok)return yield Vs.DatasetsListResponse.parseOrThrow(d.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(d.error.reason==="status-code")switch(d.error.statusCode){case 429:throw new Ls.TooManyRequestsError(d.error.body);default:throw new ft.CohereError({statusCode:d.error.statusCode,body:d.error.body})}switch(d.error.reason){case"non-json":throw new ft.CohereError({statusCode:d.error.statusCode,body:d.error.rawBody});case"timeout":throw new ft.CohereTimeoutError;case"unknown":throw new ft.CohereError({message:d.error.errorMessage})}})}create(t,r,n,i){var a;return mo(this,void 0,void 0,function*(){const o={};o.name=n.name,o.type=n.type,n.keepOriginalFile!=null&&(o.keep_original_file=n.keepOriginalFile.toString()),n.skipMalformedInput!=null&&(o.skip_malformed_input=n.skipMalformedInput.toString()),n.keepFields!=null&&(Array.isArray(n.keepFields)?o.keep_fields=n.keepFields.map(c=>c):o.keep_fields=n.keepFields),n.optionalFields!=null&&(Array.isArray(n.optionalFields)?o.optional_fields=n.optionalFields.map(c=>c):o.optional_fields=n.optionalFields),n.textSeparator!=null&&(o.text_separator=n.textSeparator),n.csvDelimiter!=null&&(o.csv_delimiter=n.csvDelimiter),n.dryRun!=null&&(o.dry_run=n.dryRun.toString());const s=new PW.default;s.append("data",t),r!=null&&s.append("eval_data",r);const u=yield Ie.fetcher({url:(0,Us.default)((a=yield Ie.Supplier.get(this._options.environment))!==null&&a!==void 0?a:Fs.CohereEnvironment.Production,"datasets"),method:"POST",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield Ie.Supplier.get(this._options.clientName))!=null?yield Ie.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.9.5","X-Fern-Runtime":Ie.RUNTIME.type,"X-Fern-Runtime-Version":Ie.RUNTIME.version},contentType:"multipart/form-data; boundary="+s.getBoundary(),queryParameters:o,body:s,timeoutMs:(i==null?void 0:i.timeoutInSeconds)!=null?i.timeoutInSeconds*1e3:3e5,maxRetries:i==null?void 0:i.maxRetries});if(u.ok)return yield Vs.DatasetsCreateResponse.parseOrThrow(u.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(u.error.reason==="status-code")switch(u.error.statusCode){case 429:throw new Ls.TooManyRequestsError(u.error.body);default:throw new ft.CohereError({statusCode:u.error.statusCode,body:u.error.body})}switch(u.error.reason){case"non-json":throw new ft.CohereError({statusCode:u.error.statusCode,body:u.error.rawBody});case"timeout":throw new ft.CohereTimeoutError;case"unknown":throw new ft.CohereError({message:u.error.errorMessage})}})}getUsage(t){var r;return mo(this,void 0,void 0,function*(){const n=yield Ie.fetcher({url:(0,Us.default)((r=yield Ie.Supplier.get(this._options.environment))!==null&&r!==void 0?r:Fs.CohereEnvironment.Production,"datasets/usage"),method:"GET",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield Ie.Supplier.get(this._options.clientName))!=null?yield Ie.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.9.5","X-Fern-Runtime":Ie.RUNTIME.type,"X-Fern-Runtime-Version":Ie.RUNTIME.version},contentType:"application/json",timeoutMs:(t==null?void 0:t.timeoutInSeconds)!=null?t.timeoutInSeconds*1e3:3e5,maxRetries:t==null?void 0:t.maxRetries});if(n.ok)return yield Vs.DatasetsGetUsageResponse.parseOrThrow(n.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(n.error.reason==="status-code")switch(n.error.statusCode){case 429:throw new Ls.TooManyRequestsError(n.error.body);default:throw new ft.CohereError({statusCode:n.error.statusCode,body:n.error.body})}switch(n.error.reason){case"non-json":throw new ft.CohereError({statusCode:n.error.statusCode,body:n.error.rawBody});case"timeout":throw new ft.CohereTimeoutError;case"unknown":throw new ft.CohereError({message:n.error.errorMessage})}})}get(t,r){var n;return mo(this,void 0,void 0,function*(){const i=yield Ie.fetcher({url:(0,Us.default)((n=yield Ie.Supplier.get(this._options.environment))!==null&&n!==void 0?n:Fs.CohereEnvironment.Production,`datasets/${t}`),method:"GET",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield Ie.Supplier.get(this._options.clientName))!=null?yield Ie.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.9.5","X-Fern-Runtime":Ie.RUNTIME.type,"X-Fern-Runtime-Version":Ie.RUNTIME.version},contentType:"application/json",timeoutMs:(r==null?void 0:r.timeoutInSeconds)!=null?r.timeoutInSeconds*1e3:3e5,maxRetries:r==null?void 0:r.maxRetries});if(i.ok)return yield Vs.DatasetsGetResponse.parseOrThrow(i.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(i.error.reason==="status-code")switch(i.error.statusCode){case 429:throw new Ls.TooManyRequestsError(i.error.body);default:throw new ft.CohereError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new ft.CohereError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new ft.CohereTimeoutError;case"unknown":throw new ft.CohereError({message:i.error.errorMessage})}})}delete(t,r){var n;return mo(this,void 0,void 0,function*(){const i=yield Ie.fetcher({url:(0,Us.default)((n=yield Ie.Supplier.get(this._options.environment))!==null&&n!==void 0?n:Fs.CohereEnvironment.Production,`datasets/${t}`),method:"DELETE",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield Ie.Supplier.get(this._options.clientName))!=null?yield Ie.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.9.5","X-Fern-Runtime":Ie.RUNTIME.type,"X-Fern-Runtime-Version":Ie.RUNTIME.version},contentType:"application/json",timeoutMs:(r==null?void 0:r.timeoutInSeconds)!=null?r.timeoutInSeconds*1e3:3e5,maxRetries:r==null?void 0:r.maxRetries});if(i.ok)return yield Vs.datasets.delete.Response.parseOrThrow(i.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(i.error.reason==="status-code")switch(i.error.statusCode){case 429:throw new Ls.TooManyRequestsError(i.error.body);default:throw new ft.CohereError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new ft.CohereError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new ft.CohereTimeoutError;case"unknown":throw new ft.CohereError({message:i.error.errorMessage})}})}_getAuthorizationHeader(){var t;return mo(this,void 0,void 0,function*(){const r=(t=yield Ie.Supplier.get(this._options.token))!==null&&t!==void 0?t:process==null?void 0:process.env.CO_API_KEY;if(r==null)throw new ft.CohereError({message:"Please specify CO_API_KEY when instantiating the client."});return`Bearer ${r}`})}}oy.Datasets=jW;var sy={},CW=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),EW=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Ec=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&CW(t,e,r);return EW(t,e),t},ua=l&&l.__awaiter||function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(d){try{c(n.next(d))}catch(f){o(f)}}function u(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?a(d.value):i(d.value).then(s,u)}c((n=n.apply(e,t||[])).next())})},MW=l&&l.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(sy,"__esModule",{value:!0});sy.Connectors=void 0;const _o=Ec($n),we=Ec(j),Xe=Ec(Vi),go=MW(Ya.exports),ci=Ec(ka),Ze=Ec(Ht);class TW{constructor(t={}){this._options=t}list(t={},r){var n;return ua(this,void 0,void 0,function*(){const{limit:i,offset:a}=t,o={};i!=null&&(o.limit=i.toString()),a!=null&&(o.offset=a.toString());const s=yield we.fetcher({url:(0,go.default)((n=yield we.Supplier.get(this._options.environment))!==null&&n!==void 0?n:_o.CohereEnvironment.Production,"connectors"),method:"GET",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield we.Supplier.get(this._options.clientName))!=null?yield we.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.9.5","X-Fern-Runtime":we.RUNTIME.type,"X-Fern-Runtime-Version":we.RUNTIME.version},contentType:"application/json",queryParameters:o,timeoutMs:(r==null?void 0:r.timeoutInSeconds)!=null?r.timeoutInSeconds*1e3:3e5,maxRetries:r==null?void 0:r.maxRetries});if(s.ok)return yield ci.ListConnectorsResponse.parseOrThrow(s.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(s.error.reason==="status-code")switch(s.error.statusCode){case 400:throw new Xe.BadRequestError(s.error.body);case 429:throw new Xe.TooManyRequestsError(s.error.body);case 500:throw new Xe.InternalServerError(s.error.body);default:throw new Ze.CohereError({statusCode:s.error.statusCode,body:s.error.body})}switch(s.error.reason){case"non-json":throw new Ze.CohereError({statusCode:s.error.statusCode,body:s.error.rawBody});case"timeout":throw new Ze.CohereTimeoutError;case"unknown":throw new Ze.CohereError({message:s.error.errorMessage})}})}create(t,r){var n;return ua(this,void 0,void 0,function*(){const i=yield we.fetcher({url:(0,go.default)((n=yield we.Supplier.get(this._options.environment))!==null&&n!==void 0?n:_o.CohereEnvironment.Production,"connectors"),method:"POST",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield we.Supplier.get(this._options.clientName))!=null?yield we.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.9.5","X-Fern-Runtime":we.RUNTIME.type,"X-Fern-Runtime-Version":we.RUNTIME.version},contentType:"application/json",body:yield ci.CreateConnectorRequest.jsonOrThrow(t,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0}),timeoutMs:(r==null?void 0:r.timeoutInSeconds)!=null?r.timeoutInSeconds*1e3:3e5,maxRetries:r==null?void 0:r.maxRetries});if(i.ok)return yield ci.CreateConnectorResponse.parseOrThrow(i.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(i.error.reason==="status-code")switch(i.error.statusCode){case 400:throw new Xe.BadRequestError(i.error.body);case 403:throw new Xe.ForbiddenError(i.error.body);case 429:throw new Xe.TooManyRequestsError(i.error.body);case 500:throw new Xe.InternalServerError(i.error.body);default:throw new Ze.CohereError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new Ze.CohereError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new Ze.CohereTimeoutError;case"unknown":throw new Ze.CohereError({message:i.error.errorMessage})}})}get(t,r){var n;return ua(this,void 0,void 0,function*(){const i=yield we.fetcher({url:(0,go.default)((n=yield we.Supplier.get(this._options.environment))!==null&&n!==void 0?n:_o.CohereEnvironment.Production,`connectors/${t}`),method:"GET",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield we.Supplier.get(this._options.clientName))!=null?yield we.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.9.5","X-Fern-Runtime":we.RUNTIME.type,"X-Fern-Runtime-Version":we.RUNTIME.version},contentType:"application/json",timeoutMs:(r==null?void 0:r.timeoutInSeconds)!=null?r.timeoutInSeconds*1e3:3e5,maxRetries:r==null?void 0:r.maxRetries});if(i.ok)return yield ci.GetConnectorResponse.parseOrThrow(i.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(i.error.reason==="status-code")switch(i.error.statusCode){case 400:throw new Xe.BadRequestError(i.error.body);case 404:throw new Xe.NotFoundError(i.error.body);case 429:throw new Xe.TooManyRequestsError(i.error.body);case 500:throw new Xe.InternalServerError(i.error.body);default:throw new Ze.CohereError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new Ze.CohereError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new Ze.CohereTimeoutError;case"unknown":throw new Ze.CohereError({message:i.error.errorMessage})}})}delete(t,r){var n;return ua(this,void 0,void 0,function*(){const i=yield we.fetcher({url:(0,go.default)((n=yield we.Supplier.get(this._options.environment))!==null&&n!==void 0?n:_o.CohereEnvironment.Production,`connectors/${t}`),method:"DELETE",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield we.Supplier.get(this._options.clientName))!=null?yield we.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.9.5","X-Fern-Runtime":we.RUNTIME.type,"X-Fern-Runtime-Version":we.RUNTIME.version},contentType:"application/json",timeoutMs:(r==null?void 0:r.timeoutInSeconds)!=null?r.timeoutInSeconds*1e3:3e5,maxRetries:r==null?void 0:r.maxRetries});if(i.ok)return yield ci.DeleteConnectorResponse.parseOrThrow(i.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(i.error.reason==="status-code")switch(i.error.statusCode){case 400:throw new Xe.BadRequestError(i.error.body);case 403:throw new Xe.ForbiddenError(i.error.body);case 404:throw new Xe.NotFoundError(i.error.body);case 429:throw new Xe.TooManyRequestsError(i.error.body);case 500:throw new Xe.InternalServerError(i.error.body);default:throw new Ze.CohereError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new Ze.CohereError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new Ze.CohereTimeoutError;case"unknown":throw new Ze.CohereError({message:i.error.errorMessage})}})}update(t,r={},n){var i;return ua(this,void 0,void 0,function*(){const a=yield we.fetcher({url:(0,go.default)((i=yield we.Supplier.get(this._options.environment))!==null&&i!==void 0?i:_o.CohereEnvironment.Production,`connectors/${t}`),method:"PATCH",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield we.Supplier.get(this._options.clientName))!=null?yield we.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.9.5","X-Fern-Runtime":we.RUNTIME.type,"X-Fern-Runtime-Version":we.RUNTIME.version},contentType:"application/json",body:yield ci.UpdateConnectorRequest.jsonOrThrow(r,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0}),timeoutMs:(n==null?void 0:n.timeoutInSeconds)!=null?n.timeoutInSeconds*1e3:3e5,maxRetries:n==null?void 0:n.maxRetries});if(a.ok)return yield ci.UpdateConnectorResponse.parseOrThrow(a.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(a.error.reason==="status-code")switch(a.error.statusCode){case 400:throw new Xe.BadRequestError(a.error.body);case 403:throw new Xe.ForbiddenError(a.error.body);case 404:throw new Xe.NotFoundError(a.error.body);case 429:throw new Xe.TooManyRequestsError(a.error.body);case 500:throw new Xe.InternalServerError(a.error.body);default:throw new Ze.CohereError({statusCode:a.error.statusCode,body:a.error.body})}switch(a.error.reason){case"non-json":throw new Ze.CohereError({statusCode:a.error.statusCode,body:a.error.rawBody});case"timeout":throw new Ze.CohereTimeoutError;case"unknown":throw new Ze.CohereError({message:a.error.errorMessage})}})}oAuthAuthorize(t,r={},n){var i;return ua(this,void 0,void 0,function*(){const{afterTokenRedirect:a}=r,o={};a!=null&&(o.after_token_redirect=a);const s=yield we.fetcher({url:(0,go.default)((i=yield we.Supplier.get(this._options.environment))!==null&&i!==void 0?i:_o.CohereEnvironment.Production,`connectors/${t}/oauth/authorize`),method:"POST",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield we.Supplier.get(this._options.clientName))!=null?yield we.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.9.5","X-Fern-Runtime":we.RUNTIME.type,"X-Fern-Runtime-Version":we.RUNTIME.version},contentType:"application/json",queryParameters:o,timeoutMs:(n==null?void 0:n.timeoutInSeconds)!=null?n.timeoutInSeconds*1e3:3e5,maxRetries:n==null?void 0:n.maxRetries});if(s.ok)return yield ci.OAuthAuthorizeResponse.parseOrThrow(s.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(s.error.reason==="status-code")switch(s.error.statusCode){case 400:throw new Xe.BadRequestError(s.error.body);case 404:throw new Xe.NotFoundError(s.error.body);case 429:throw new Xe.TooManyRequestsError(s.error.body);case 500:throw new Xe.InternalServerError(s.error.body);default:throw new Ze.CohereError({statusCode:s.error.statusCode,body:s.error.body})}switch(s.error.reason){case"non-json":throw new Ze.CohereError({statusCode:s.error.statusCode,body:s.error.rawBody});case"timeout":throw new Ze.CohereTimeoutError;case"unknown":throw new Ze.CohereError({message:s.error.errorMessage})}})}_getAuthorizationHeader(){var t;return ua(this,void 0,void 0,function*(){const r=(t=yield we.Supplier.get(this._options.token))!==null&&t!==void 0?t:process==null?void 0:process.env.CO_API_KEY;if(r==null)throw new Ze.CohereError({message:"Please specify CO_API_KEY when instantiating the client."});return`Bearer ${r}`})}}sy.Connectors=TW;var uy={},RW=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),$W=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Mc=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&RW(t,e,r);return $W(t,e),t},Tv=l&&l.__awaiter||function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(d){try{c(n.next(d))}catch(f){o(f)}}function u(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?a(d.value):i(d.value).then(s,u)}c((n=n.apply(e,t||[])).next())})},xW=l&&l.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(uy,"__esModule",{value:!0});uy.Models=void 0;const i0=Mc($n),vr=Mc(j),wd=Mc(Vi),a0=xW(Ya.exports),o0=Mc(ka),Ln=Mc(Ht);class AW{constructor(t={}){this._options=t}get(t,r){var n;return Tv(this,void 0,void 0,function*(){const i=yield vr.fetcher({url:(0,a0.default)((n=yield vr.Supplier.get(this._options.environment))!==null&&n!==void 0?n:i0.CohereEnvironment.Production,`models/${t}`),method:"GET",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield vr.Supplier.get(this._options.clientName))!=null?yield vr.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.9.5","X-Fern-Runtime":vr.RUNTIME.type,"X-Fern-Runtime-Version":vr.RUNTIME.version},contentType:"application/json",timeoutMs:(r==null?void 0:r.timeoutInSeconds)!=null?r.timeoutInSeconds*1e3:3e5,maxRetries:r==null?void 0:r.maxRetries});if(i.ok)return yield o0.GetModelResponse.parseOrThrow(i.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(i.error.reason==="status-code")switch(i.error.statusCode){case 400:throw new wd.BadRequestError(i.error.body);case 429:throw new wd.TooManyRequestsError(i.error.body);case 500:throw new wd.InternalServerError(i.error.body);default:throw new Ln.CohereError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new Ln.CohereError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new Ln.CohereTimeoutError;case"unknown":throw new Ln.CohereError({message:i.error.errorMessage})}})}list(t={},r){var n;return Tv(this,void 0,void 0,function*(){const{pageSize:i,pageToken:a,endpoint:o,defaultOnly:s}=t,u={};i!=null&&(u.page_size=i.toString()),a!=null&&(u.page_token=a),o!=null&&(u.endpoint=o),s!=null&&(u.default_only=s.toString());const c=yield vr.fetcher({url:(0,a0.default)((n=yield vr.Supplier.get(this._options.environment))!==null&&n!==void 0?n:i0.CohereEnvironment.Production,"models"),method:"GET",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield vr.Supplier.get(this._options.clientName))!=null?yield vr.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.9.5","X-Fern-Runtime":vr.RUNTIME.type,"X-Fern-Runtime-Version":vr.RUNTIME.version},contentType:"application/json",queryParameters:u,timeoutMs:(r==null?void 0:r.timeoutInSeconds)!=null?r.timeoutInSeconds*1e3:3e5,maxRetries:r==null?void 0:r.maxRetries});if(c.ok)return yield o0.ListModelsResponse.parseOrThrow(c.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(c.error.reason==="status-code")switch(c.error.statusCode){case 429:throw new wd.TooManyRequestsError(c.error.body);default:throw new Ln.CohereError({statusCode:c.error.statusCode,body:c.error.body})}switch(c.error.reason){case"non-json":throw new Ln.CohereError({statusCode:c.error.statusCode,body:c.error.rawBody});case"timeout":throw new Ln.CohereTimeoutError;case"unknown":throw new Ln.CohereError({message:c.error.errorMessage})}})}_getAuthorizationHeader(){var t;return Tv(this,void 0,void 0,function*(){const r=(t=yield vr.Supplier.get(this._options.token))!==null&&t!==void 0?t:process==null?void 0:process.env.CO_API_KEY;if(r==null)throw new Ln.CohereError({message:"Please specify CO_API_KEY when instantiating the client."});return`Bearer ${r}`})}}uy.Models=AW;var ly={},IW=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),DW=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Tc=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&IW(t,e,r);return DW(t,e),t},di=l&&l.__awaiter||function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(d){try{c(n.next(d))}catch(f){o(f)}}function u(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?a(d.value):i(d.value).then(s,u)}c((n=n.apply(e,t||[])).next())})},zW=l&&l.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ly,"__esModule",{value:!0});ly.Finetuning=void 0;const la=Tc($n),ye=Tc(j),ve=Tc(Vi),ca=zW(Ya.exports),at=Tc(ka),Ne=Tc(Ht);class NW{constructor(t={}){this._options=t}listFinetunedModels(t={},r){var n;return di(this,void 0,void 0,function*(){const{pageSize:i,pageToken:a,orderBy:o}=t,s={};i!=null&&(s.page_size=i.toString()),a!=null&&(s.page_token=a),o!=null&&(s.order_by=o);const u=yield ye.fetcher({url:(0,ca.default)((n=yield ye.Supplier.get(this._options.environment))!==null&&n!==void 0?n:la.CohereEnvironment.Production,"finetuning/finetuned-models"),method:"GET",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield ye.Supplier.get(this._options.clientName))!=null?yield ye.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.9.5","X-Fern-Runtime":ye.RUNTIME.type,"X-Fern-Runtime-Version":ye.RUNTIME.version},contentType:"application/json",queryParameters:s,timeoutMs:(r==null?void 0:r.timeoutInSeconds)!=null?r.timeoutInSeconds*1e3:3e5,maxRetries:r==null?void 0:r.maxRetries});if(u.ok)return yield at.finetuning.ListFinetunedModelsResponse.parseOrThrow(u.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(u.error.reason==="status-code")switch(u.error.statusCode){case 400:throw new ve.BadRequestError(u.error.body);case 401:throw new ve.UnauthorizedError(yield at.finetuning.Error_.parseOrThrow(u.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 403:throw new ve.ForbiddenError(u.error.body);case 404:throw new ve.NotFoundError(u.error.body);case 500:throw new ve.InternalServerError(u.error.body);case 503:throw new ve.ServiceUnavailableError(yield at.finetuning.Error_.parseOrThrow(u.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));default:throw new Ne.CohereError({statusCode:u.error.statusCode,body:u.error.body})}switch(u.error.reason){case"non-json":throw new Ne.CohereError({statusCode:u.error.statusCode,body:u.error.rawBody});case"timeout":throw new Ne.CohereTimeoutError;case"unknown":throw new Ne.CohereError({message:u.error.errorMessage})}})}createFinetunedModel(t,r){var n;return di(this,void 0,void 0,function*(){const i=yield ye.fetcher({url:(0,ca.default)((n=yield ye.Supplier.get(this._options.environment))!==null&&n!==void 0?n:la.CohereEnvironment.Production,"finetuning/finetuned-models"),method:"POST",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield ye.Supplier.get(this._options.clientName))!=null?yield ye.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.9.5","X-Fern-Runtime":ye.RUNTIME.type,"X-Fern-Runtime-Version":ye.RUNTIME.version},contentType:"application/json",body:yield at.finetuning.FinetunedModel.jsonOrThrow(t,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0}),timeoutMs:(r==null?void 0:r.timeoutInSeconds)!=null?r.timeoutInSeconds*1e3:3e5,maxRetries:r==null?void 0:r.maxRetries});if(i.ok)return yield at.finetuning.CreateFinetunedModelResponse.parseOrThrow(i.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(i.error.reason==="status-code")switch(i.error.statusCode){case 400:throw new ve.BadRequestError(i.error.body);case 401:throw new ve.UnauthorizedError(yield at.finetuning.Error_.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 403:throw new ve.ForbiddenError(i.error.body);case 404:throw new ve.NotFoundError(i.error.body);case 500:throw new ve.InternalServerError(i.error.body);case 503:throw new ve.ServiceUnavailableError(yield at.finetuning.Error_.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));default:throw new Ne.CohereError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new Ne.CohereError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new Ne.CohereTimeoutError;case"unknown":throw new Ne.CohereError({message:i.error.errorMessage})}})}getFinetunedModel(t,r){var n;return di(this,void 0,void 0,function*(){const i=yield ye.fetcher({url:(0,ca.default)((n=yield ye.Supplier.get(this._options.environment))!==null&&n!==void 0?n:la.CohereEnvironment.Production,`finetuning/finetuned-models/${t}`),method:"GET",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield ye.Supplier.get(this._options.clientName))!=null?yield ye.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.9.5","X-Fern-Runtime":ye.RUNTIME.type,"X-Fern-Runtime-Version":ye.RUNTIME.version},contentType:"application/json",timeoutMs:(r==null?void 0:r.timeoutInSeconds)!=null?r.timeoutInSeconds*1e3:3e5,maxRetries:r==null?void 0:r.maxRetries});if(i.ok)return yield at.finetuning.GetFinetunedModelResponse.parseOrThrow(i.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(i.error.reason==="status-code")switch(i.error.statusCode){case 400:throw new ve.BadRequestError(i.error.body);case 401:throw new ve.UnauthorizedError(yield at.finetuning.Error_.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 403:throw new ve.ForbiddenError(i.error.body);case 404:throw new ve.NotFoundError(i.error.body);case 500:throw new ve.InternalServerError(i.error.body);case 503:throw new ve.ServiceUnavailableError(yield at.finetuning.Error_.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));default:throw new Ne.CohereError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new Ne.CohereError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new Ne.CohereTimeoutError;case"unknown":throw new Ne.CohereError({message:i.error.errorMessage})}})}deleteFinetunedModel(t,r){var n;return di(this,void 0,void 0,function*(){const i=yield ye.fetcher({url:(0,ca.default)((n=yield ye.Supplier.get(this._options.environment))!==null&&n!==void 0?n:la.CohereEnvironment.Production,`finetuning/finetuned-models/${t}`),method:"DELETE",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield ye.Supplier.get(this._options.clientName))!=null?yield ye.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.9.5","X-Fern-Runtime":ye.RUNTIME.type,"X-Fern-Runtime-Version":ye.RUNTIME.version},contentType:"application/json",timeoutMs:(r==null?void 0:r.timeoutInSeconds)!=null?r.timeoutInSeconds*1e3:3e5,maxRetries:r==null?void 0:r.maxRetries});if(i.ok)return yield at.finetuning.DeleteFinetunedModelResponse.parseOrThrow(i.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(i.error.reason==="status-code")switch(i.error.statusCode){case 400:throw new ve.BadRequestError(i.error.body);case 401:throw new ve.UnauthorizedError(yield at.finetuning.Error_.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 403:throw new ve.ForbiddenError(i.error.body);case 404:throw new ve.NotFoundError(i.error.body);case 500:throw new ve.InternalServerError(i.error.body);case 503:throw new ve.ServiceUnavailableError(yield at.finetuning.Error_.parseOrThrow(i.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));default:throw new Ne.CohereError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new Ne.CohereError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new Ne.CohereTimeoutError;case"unknown":throw new Ne.CohereError({message:i.error.errorMessage})}})}updateFinetunedModel(t,r,n){var i;return di(this,void 0,void 0,function*(){const a=yield ye.fetcher({url:(0,ca.default)((i=yield ye.Supplier.get(this._options.environment))!==null&&i!==void 0?i:la.CohereEnvironment.Production,`finetuning/finetuned-models/${t}`),method:"PATCH",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield ye.Supplier.get(this._options.clientName))!=null?yield ye.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.9.5","X-Fern-Runtime":ye.RUNTIME.type,"X-Fern-Runtime-Version":ye.RUNTIME.version},contentType:"application/json",body:yield at.FinetuningUpdateFinetunedModelRequest.jsonOrThrow(r,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0}),timeoutMs:(n==null?void 0:n.timeoutInSeconds)!=null?n.timeoutInSeconds*1e3:3e5,maxRetries:n==null?void 0:n.maxRetries});if(a.ok)return yield at.finetuning.UpdateFinetunedModelResponse.parseOrThrow(a.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(a.error.reason==="status-code")switch(a.error.statusCode){case 400:throw new ve.BadRequestError(a.error.body);case 401:throw new ve.UnauthorizedError(yield at.finetuning.Error_.parseOrThrow(a.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 403:throw new ve.ForbiddenError(a.error.body);case 404:throw new ve.NotFoundError(a.error.body);case 500:throw new ve.InternalServerError(a.error.body);case 503:throw new ve.ServiceUnavailableError(yield at.finetuning.Error_.parseOrThrow(a.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));default:throw new Ne.CohereError({statusCode:a.error.statusCode,body:a.error.body})}switch(a.error.reason){case"non-json":throw new Ne.CohereError({statusCode:a.error.statusCode,body:a.error.rawBody});case"timeout":throw new Ne.CohereTimeoutError;case"unknown":throw new Ne.CohereError({message:a.error.errorMessage})}})}listEvents(t,r={},n){var i;return di(this,void 0,void 0,function*(){const{pageSize:a,pageToken:o,orderBy:s}=r,u={};a!=null&&(u.page_size=a.toString()),o!=null&&(u.page_token=o),s!=null&&(u.order_by=s);const c=yield ye.fetcher({url:(0,ca.default)((i=yield ye.Supplier.get(this._options.environment))!==null&&i!==void 0?i:la.CohereEnvironment.Production,`finetuning/finetuned-models/${t}/events`),method:"GET",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield ye.Supplier.get(this._options.clientName))!=null?yield ye.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.9.5","X-Fern-Runtime":ye.RUNTIME.type,"X-Fern-Runtime-Version":ye.RUNTIME.version},contentType:"application/json",queryParameters:u,timeoutMs:(n==null?void 0:n.timeoutInSeconds)!=null?n.timeoutInSeconds*1e3:3e5,maxRetries:n==null?void 0:n.maxRetries});if(c.ok)return yield at.finetuning.ListEventsResponse.parseOrThrow(c.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(c.error.reason==="status-code")switch(c.error.statusCode){case 400:throw new ve.BadRequestError(c.error.body);case 401:throw new ve.UnauthorizedError(yield at.finetuning.Error_.parseOrThrow(c.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 403:throw new ve.ForbiddenError(c.error.body);case 404:throw new ve.NotFoundError(c.error.body);case 500:throw new ve.InternalServerError(c.error.body);case 503:throw new ve.ServiceUnavailableError(yield at.finetuning.Error_.parseOrThrow(c.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));default:throw new Ne.CohereError({statusCode:c.error.statusCode,body:c.error.body})}switch(c.error.reason){case"non-json":throw new Ne.CohereError({statusCode:c.error.statusCode,body:c.error.rawBody});case"timeout":throw new Ne.CohereTimeoutError;case"unknown":throw new Ne.CohereError({message:c.error.errorMessage})}})}listTrainingStepMetrics(t,r={},n){var i;return di(this,void 0,void 0,function*(){const{pageSize:a,pageToken:o}=r,s={};a!=null&&(s.page_size=a.toString()),o!=null&&(s.page_token=o);const u=yield ye.fetcher({url:(0,ca.default)((i=yield ye.Supplier.get(this._options.environment))!==null&&i!==void 0?i:la.CohereEnvironment.Production,`finetuning/finetuned-models/${t}/metrics`),method:"GET",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield ye.Supplier.get(this._options.clientName))!=null?yield ye.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.9.5","X-Fern-Runtime":ye.RUNTIME.type,"X-Fern-Runtime-Version":ye.RUNTIME.version},contentType:"application/json",queryParameters:s,timeoutMs:(n==null?void 0:n.timeoutInSeconds)!=null?n.timeoutInSeconds*1e3:3e5,maxRetries:n==null?void 0:n.maxRetries});if(u.ok)return yield at.finetuning.ListTrainingStepMetricsResponse.parseOrThrow(u.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(u.error.reason==="status-code")switch(u.error.statusCode){case 400:throw new ve.BadRequestError(u.error.body);case 401:throw new ve.UnauthorizedError(yield at.finetuning.Error_.parseOrThrow(u.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));case 403:throw new ve.ForbiddenError(u.error.body);case 404:throw new ve.NotFoundError(u.error.body);case 500:throw new ve.InternalServerError(u.error.body);case 503:throw new ve.ServiceUnavailableError(yield at.finetuning.Error_.parseOrThrow(u.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}));default:throw new Ne.CohereError({statusCode:u.error.statusCode,body:u.error.body})}switch(u.error.reason){case"non-json":throw new Ne.CohereError({statusCode:u.error.statusCode,body:u.error.rawBody});case"timeout":throw new Ne.CohereTimeoutError;case"unknown":throw new Ne.CohereError({message:u.error.errorMessage})}})}_getAuthorizationHeader(){var t;return di(this,void 0,void 0,function*(){const r=(t=yield ye.Supplier.get(this._options.token))!==null&&t!==void 0?t:process==null?void 0:process.env.CO_API_KEY;if(r==null)throw new Ne.CohereError({message:"Please specify CO_API_KEY when instantiating the client."});return`Bearer ${r}`})}}ly.Finetuning=NW;var BW=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),FW=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Rc=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&BW(t,e,r);return FW(t,e),t},mr=l&&l.__awaiter||function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(d){try{c(n.next(d))}catch(f){o(f)}}function u(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?a(d.value):i(d.value).then(s,u)}c((n=n.apply(e,t||[])).next())})},LW=l&&l.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($h,"__esModule",{value:!0});$h.CohereClient=void 0;const pn=Rc($n),Q=Rc(j),pt=Rc(Vi),yt=Rc(ka),yn=LW(Ya.exports),_e=Rc(Ht),UW=ay,VW=oy,KW=sy,HW=uy,GW=ly;class qW{constructor(t={}){this._options=t}chatStream(t,r){var n;return mr(this,void 0,void 0,function*(){const i=yield Q.fetcher({url:(0,yn.default)((n=yield Q.Supplier.get(this._options.environment))!==null&&n!==void 0?n:pn.CohereEnvironment.Production,"chat"),method:"POST",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield Q.Supplier.get(this._options.clientName))!=null?yield Q.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.9.5","X-Fern-Runtime":Q.RUNTIME.type,"X-Fern-Runtime-Version":Q.RUNTIME.version,accept:"*/*, text/event-stream, application/stream+json"},contentType:"application/json",body:Object.assign(Object.assign({},yield yt.ChatStreamRequest.jsonOrThrow(t,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0})),{stream:!0}),responseType:"streaming",timeoutMs:(r==null?void 0:r.timeoutInSeconds)!=null?r.timeoutInSeconds*1e3:3e5,maxRetries:r==null?void 0:r.maxRetries});if(i.ok)return new Q.Stream({response:i,terminator:`
`,parse:a=>mr(this,void 0,void 0,function*(){return yield yt.StreamedChatResponse.parseOrThrow(a,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]})})});if(i.error.reason==="status-code")switch(i.error.statusCode){case 429:throw new pt.TooManyRequestsError(i.error.body);default:throw new _e.CohereError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new _e.CohereError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new _e.CohereTimeoutError;case"unknown":throw new _e.CohereError({message:i.error.errorMessage})}})}chat(t,r){var n;return mr(this,void 0,void 0,function*(){const i=yield Q.fetcher({url:(0,yn.default)((n=yield Q.Supplier.get(this._options.environment))!==null&&n!==void 0?n:pn.CohereEnvironment.Production,"chat"),method:"POST",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield Q.Supplier.get(this._options.clientName))!=null?yield Q.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.9.5","X-Fern-Runtime":Q.RUNTIME.type,"X-Fern-Runtime-Version":Q.RUNTIME.version},contentType:"application/json",body:Object.assign(Object.assign({},yield yt.ChatRequest.jsonOrThrow(t,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0})),{stream:!1}),timeoutMs:(r==null?void 0:r.timeoutInSeconds)!=null?r.timeoutInSeconds*1e3:3e5,maxRetries:r==null?void 0:r.maxRetries});if(i.ok)return yield yt.NonStreamedChatResponse.parseOrThrow(i.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(i.error.reason==="status-code")switch(i.error.statusCode){case 429:throw new pt.TooManyRequestsError(i.error.body);default:throw new _e.CohereError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new _e.CohereError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new _e.CohereTimeoutError;case"unknown":throw new _e.CohereError({message:i.error.errorMessage})}})}generateStream(t,r){var n;return mr(this,void 0,void 0,function*(){const i=yield Q.fetcher({url:(0,yn.default)((n=yield Q.Supplier.get(this._options.environment))!==null&&n!==void 0?n:pn.CohereEnvironment.Production,"generate"),method:"POST",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield Q.Supplier.get(this._options.clientName))!=null?yield Q.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.9.5","X-Fern-Runtime":Q.RUNTIME.type,"X-Fern-Runtime-Version":Q.RUNTIME.version,accept:"*/*, text/event-stream, application/stream+json"},contentType:"application/json",body:Object.assign(Object.assign({},yield yt.GenerateStreamRequest.jsonOrThrow(t,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0})),{stream:!0}),responseType:"streaming",timeoutMs:(r==null?void 0:r.timeoutInSeconds)!=null?r.timeoutInSeconds*1e3:3e5,maxRetries:r==null?void 0:r.maxRetries});if(i.ok)return new Q.Stream({response:i,terminator:`
`,parse:a=>mr(this,void 0,void 0,function*(){return yield yt.GenerateStreamedResponse.parseOrThrow(a,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]})})});if(i.error.reason==="status-code")switch(i.error.statusCode){case 400:throw new pt.BadRequestError(i.error.body);case 429:throw new pt.TooManyRequestsError(i.error.body);case 500:throw new pt.InternalServerError(i.error.body);default:throw new _e.CohereError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new _e.CohereError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new _e.CohereTimeoutError;case"unknown":throw new _e.CohereError({message:i.error.errorMessage})}})}generate(t,r){var n;return mr(this,void 0,void 0,function*(){const i=yield Q.fetcher({url:(0,yn.default)((n=yield Q.Supplier.get(this._options.environment))!==null&&n!==void 0?n:pn.CohereEnvironment.Production,"generate"),method:"POST",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield Q.Supplier.get(this._options.clientName))!=null?yield Q.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.9.5","X-Fern-Runtime":Q.RUNTIME.type,"X-Fern-Runtime-Version":Q.RUNTIME.version},contentType:"application/json",body:Object.assign(Object.assign({},yield yt.GenerateRequest.jsonOrThrow(t,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0})),{stream:!1}),timeoutMs:(r==null?void 0:r.timeoutInSeconds)!=null?r.timeoutInSeconds*1e3:3e5,maxRetries:r==null?void 0:r.maxRetries});if(i.ok)return yield yt.Generation.parseOrThrow(i.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(i.error.reason==="status-code")switch(i.error.statusCode){case 400:throw new pt.BadRequestError(i.error.body);case 429:throw new pt.TooManyRequestsError(i.error.body);case 500:throw new pt.InternalServerError(i.error.body);default:throw new _e.CohereError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new _e.CohereError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new _e.CohereTimeoutError;case"unknown":throw new _e.CohereError({message:i.error.errorMessage})}})}embed(t,r){var n;return mr(this,void 0,void 0,function*(){const i=yield Q.fetcher({url:(0,yn.default)((n=yield Q.Supplier.get(this._options.environment))!==null&&n!==void 0?n:pn.CohereEnvironment.Production,"embed"),method:"POST",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield Q.Supplier.get(this._options.clientName))!=null?yield Q.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.9.5","X-Fern-Runtime":Q.RUNTIME.type,"X-Fern-Runtime-Version":Q.RUNTIME.version},contentType:"application/json",body:yield yt.EmbedRequest.jsonOrThrow(t,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0}),timeoutMs:(r==null?void 0:r.timeoutInSeconds)!=null?r.timeoutInSeconds*1e3:3e5,maxRetries:r==null?void 0:r.maxRetries});if(i.ok)return yield yt.EmbedResponse.parseOrThrow(i.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(i.error.reason==="status-code")switch(i.error.statusCode){case 400:throw new pt.BadRequestError(i.error.body);case 429:throw new pt.TooManyRequestsError(i.error.body);case 500:throw new pt.InternalServerError(i.error.body);default:throw new _e.CohereError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new _e.CohereError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new _e.CohereTimeoutError;case"unknown":throw new _e.CohereError({message:i.error.errorMessage})}})}rerank(t,r){var n;return mr(this,void 0,void 0,function*(){const i=yield Q.fetcher({url:(0,yn.default)((n=yield Q.Supplier.get(this._options.environment))!==null&&n!==void 0?n:pn.CohereEnvironment.Production,"rerank"),method:"POST",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield Q.Supplier.get(this._options.clientName))!=null?yield Q.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.9.5","X-Fern-Runtime":Q.RUNTIME.type,"X-Fern-Runtime-Version":Q.RUNTIME.version},contentType:"application/json",body:yield yt.RerankRequest.jsonOrThrow(t,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0}),timeoutMs:(r==null?void 0:r.timeoutInSeconds)!=null?r.timeoutInSeconds*1e3:3e5,maxRetries:r==null?void 0:r.maxRetries});if(i.ok)return yield yt.RerankResponse.parseOrThrow(i.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(i.error.reason==="status-code")switch(i.error.statusCode){case 429:throw new pt.TooManyRequestsError(i.error.body);default:throw new _e.CohereError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new _e.CohereError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new _e.CohereTimeoutError;case"unknown":throw new _e.CohereError({message:i.error.errorMessage})}})}classify(t,r){var n;return mr(this,void 0,void 0,function*(){const i=yield Q.fetcher({url:(0,yn.default)((n=yield Q.Supplier.get(this._options.environment))!==null&&n!==void 0?n:pn.CohereEnvironment.Production,"classify"),method:"POST",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield Q.Supplier.get(this._options.clientName))!=null?yield Q.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.9.5","X-Fern-Runtime":Q.RUNTIME.type,"X-Fern-Runtime-Version":Q.RUNTIME.version},contentType:"application/json",body:yield yt.ClassifyRequest.jsonOrThrow(t,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0}),timeoutMs:(r==null?void 0:r.timeoutInSeconds)!=null?r.timeoutInSeconds*1e3:3e5,maxRetries:r==null?void 0:r.maxRetries});if(i.ok)return yield yt.ClassifyResponse.parseOrThrow(i.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(i.error.reason==="status-code")switch(i.error.statusCode){case 400:throw new pt.BadRequestError(i.error.body);case 429:throw new pt.TooManyRequestsError(i.error.body);case 500:throw new pt.InternalServerError(i.error.body);default:throw new _e.CohereError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new _e.CohereError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new _e.CohereTimeoutError;case"unknown":throw new _e.CohereError({message:i.error.errorMessage})}})}summarize(t,r){var n;return mr(this,void 0,void 0,function*(){const i=yield Q.fetcher({url:(0,yn.default)((n=yield Q.Supplier.get(this._options.environment))!==null&&n!==void 0?n:pn.CohereEnvironment.Production,"summarize"),method:"POST",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield Q.Supplier.get(this._options.clientName))!=null?yield Q.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.9.5","X-Fern-Runtime":Q.RUNTIME.type,"X-Fern-Runtime-Version":Q.RUNTIME.version},contentType:"application/json",body:yield yt.SummarizeRequest.jsonOrThrow(t,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0}),timeoutMs:(r==null?void 0:r.timeoutInSeconds)!=null?r.timeoutInSeconds*1e3:3e5,maxRetries:r==null?void 0:r.maxRetries});if(i.ok)return yield yt.SummarizeResponse.parseOrThrow(i.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(i.error.reason==="status-code")switch(i.error.statusCode){case 429:throw new pt.TooManyRequestsError(i.error.body);default:throw new _e.CohereError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new _e.CohereError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new _e.CohereTimeoutError;case"unknown":throw new _e.CohereError({message:i.error.errorMessage})}})}tokenize(t,r){var n;return mr(this,void 0,void 0,function*(){const i=yield Q.fetcher({url:(0,yn.default)((n=yield Q.Supplier.get(this._options.environment))!==null&&n!==void 0?n:pn.CohereEnvironment.Production,"tokenize"),method:"POST",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield Q.Supplier.get(this._options.clientName))!=null?yield Q.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.9.5","X-Fern-Runtime":Q.RUNTIME.type,"X-Fern-Runtime-Version":Q.RUNTIME.version},contentType:"application/json",body:yield yt.TokenizeRequest.jsonOrThrow(t,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0}),timeoutMs:(r==null?void 0:r.timeoutInSeconds)!=null?r.timeoutInSeconds*1e3:3e5,maxRetries:r==null?void 0:r.maxRetries});if(i.ok)return yield yt.TokenizeResponse.parseOrThrow(i.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(i.error.reason==="status-code")switch(i.error.statusCode){case 400:throw new pt.BadRequestError(i.error.body);case 429:throw new pt.TooManyRequestsError(i.error.body);case 500:throw new pt.InternalServerError(i.error.body);default:throw new _e.CohereError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new _e.CohereError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new _e.CohereTimeoutError;case"unknown":throw new _e.CohereError({message:i.error.errorMessage})}})}detokenize(t,r){var n;return mr(this,void 0,void 0,function*(){const i=yield Q.fetcher({url:(0,yn.default)((n=yield Q.Supplier.get(this._options.environment))!==null&&n!==void 0?n:pn.CohereEnvironment.Production,"detokenize"),method:"POST",headers:{Authorization:yield this._getAuthorizationHeader(),"X-Client-Name":(yield Q.Supplier.get(this._options.clientName))!=null?yield Q.Supplier.get(this._options.clientName):void 0,"X-Fern-Language":"JavaScript","X-Fern-SDK-Name":"cohere-ai","X-Fern-SDK-Version":"7.9.5","X-Fern-Runtime":Q.RUNTIME.type,"X-Fern-Runtime-Version":Q.RUNTIME.version},contentType:"application/json",body:yield yt.DetokenizeRequest.jsonOrThrow(t,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0}),timeoutMs:(r==null?void 0:r.timeoutInSeconds)!=null?r.timeoutInSeconds*1e3:3e5,maxRetries:r==null?void 0:r.maxRetries});if(i.ok)return yield yt.DetokenizeResponse.parseOrThrow(i.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]});if(i.error.reason==="status-code")switch(i.error.statusCode){case 429:throw new pt.TooManyRequestsError(i.error.body);default:throw new _e.CohereError({statusCode:i.error.statusCode,body:i.error.body})}switch(i.error.reason){case"non-json":throw new _e.CohereError({statusCode:i.error.statusCode,body:i.error.rawBody});case"timeout":throw new _e.CohereTimeoutError;case"unknown":throw new _e.CohereError({message:i.error.errorMessage})}})}get embedJobs(){var t;return(t=this._embedJobs)!==null&&t!==void 0?t:this._embedJobs=new UW.EmbedJobs(this._options)}get datasets(){var t;return(t=this._datasets)!==null&&t!==void 0?t:this._datasets=new VW.Datasets(this._options)}get connectors(){var t;return(t=this._connectors)!==null&&t!==void 0?t:this._connectors=new KW.Connectors(this._options)}get models(){var t;return(t=this._models)!==null&&t!==void 0?t:this._models=new HW.Models(this._options)}get finetuning(){var t;return(t=this._finetuning)!==null&&t!==void 0?t:this._finetuning=new GW.Finetuning(this._options)}_getAuthorizationHeader(){var t;return mr(this,void 0,void 0,function*(){const r=(t=yield Q.Supplier.get(this._options.token))!==null&&t!==void 0?t:process==null?void 0:process.env.CO_API_KEY;if(r==null)throw new _e.CohereError({message:"Please specify CO_API_KEY when instantiating the client."});return`Bearer ${r}`})}}$h.CohereClient=qW;(function(e){var t=l&&l.__createBinding||(Object.create?function(s,u,c,d){d===void 0&&(d=c);var f=Object.getOwnPropertyDescriptor(u,c);(!f||("get"in f?!u.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return u[c]}}),Object.defineProperty(s,d,f)}:function(s,u,c,d){d===void 0&&(d=c),s[d]=u[c]}),r=l&&l.__setModuleDefault||(Object.create?function(s,u){Object.defineProperty(s,"default",{enumerable:!0,value:u})}:function(s,u){s.default=u}),n=l&&l.__importStar||function(s){if(s&&s.__esModule)return s;var u={};if(s!=null)for(var c in s)c!=="default"&&Object.prototype.hasOwnProperty.call(s,c)&&t(u,s,c);return r(u,s),u};Object.defineProperty(e,"__esModule",{value:!0}),e.CohereTimeoutError=e.CohereError=e.CohereEnvironment=e.CohereClient=e.Cohere=void 0,e.Cohere=n(Vi);var i=$h;Object.defineProperty(e,"CohereClient",{enumerable:!0,get:function(){return i.CohereClient}});var a=$n;Object.defineProperty(e,"CohereEnvironment",{enumerable:!0,get:function(){return a.CohereEnvironment}});var o=Ht;Object.defineProperty(e,"CohereError",{enumerable:!0,get:function(){return o.CohereError}}),Object.defineProperty(e,"CohereTimeoutError",{enumerable:!0,get:function(){return o.CohereTimeoutError}})})(RP);class kW extends Fz{constructor(t){var i,a;const r={maxConcurrency:2,...t};super(r),Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:"small"}),Object.defineProperty(this,"batchSize",{enumerable:!0,configurable:!0,writable:!0,value:48}),Object.defineProperty(this,"inputType",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0});const n=(r==null?void 0:r.apiKey)||Mi("COHERE_API_KEY");if(!n)throw new Error("Cohere API key not found");this.client=new RP.CohereClient({token:n}),this.model=(i=r==null?void 0:r.model)!=null?i:this.model,this.batchSize=(a=r==null?void 0:r.batchSize)!=null?a:this.batchSize,this.inputType=r==null?void 0:r.inputType}async embedDocuments(t){const r=Bz(t,this.batchSize),n=r.map(o=>this.embeddingWithRetry({model:this.model,texts:o,inputType:this.inputType})),i=await Promise.all(n),a=[];for(let o=0;o<i.length;o+=1){const s=r[o],{embeddings:u}=i[o];for(let c=0;c<s.length;c+=1)"float"in u&&u.float?a.push(u.float[c]):Array.isArray(u)&&a.push(u[c])}return a}async embedQuery(t){const{embeddings:r}=await this.embeddingWithRetry({model:this.model,texts:[t],inputType:this.inputType});if("float"in r&&r.float)return r.float[0];if(Array.isArray(r))return r[0];throw new Error(`Invalid response from Cohere API. Received: ${JSON.stringify(r,null,2)}`)}async embeddingWithRetry(t){return this.caller.call(async()=>{var n;let r;try{r=await this.client.embed(t)}catch(i){throw i.status=(n=i.status)!=null?n:i.statusCode,i}return r})}get lc_secrets(){return{apiKey:"COHERE_API_KEY",api_key:"COHERE_API_KEY"}}get lc_aliases(){return{apiKey:"cohere_api_key",api_key:"cohere_api_key"}}}const HE=(e,t)=>{const r=e.__vccOpts||e;for(const[n,i]of t)r[n]=i;return r};const Sr=typeof window<"u",ng=Sr&&"IntersectionObserver"in window,WW=Sr&&("ontouchstart"in window||window.navigator.maxTouchPoints>0);function GE(e,t,r){const n=t.length-1;if(n<0)return e===void 0?r:e;for(let i=0;i<n;i++){if(e==null)return r;e=e[t[i]]}return e==null||e[t[n]]===void 0?r:e[t[n]]}function $c(e,t){if(e===t)return!0;if(e instanceof Date&&t instanceof Date&&e.getTime()!==t.getTime()||e!==Object(e)||t!==Object(t))return!1;const r=Object.keys(e);return r.length!==Object.keys(t).length?!1:r.every(n=>$c(e[n],t[n]))}function mm(e,t,r){return e==null||!t||typeof t!="string"?r:e[t]!==void 0?e[t]:(t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,""),GE(e,t.split("."),r))}function Ks(e,t,r){if(t===!0)return e===void 0?r:e;if(t==null||typeof t=="boolean")return r;if(e!==Object(e)){if(typeof t!="function")return r;const i=t(e,r);return typeof i>"u"?r:i}if(typeof t=="string")return mm(e,t,r);if(Array.isArray(t))return GE(e,t,r);if(typeof t!="function")return r;const n=t(e,r);return typeof n>"u"?r:n}function qE(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Array.from({length:e},(r,n)=>t+n)}function Be(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(!(e==null||e===""))return isNaN(+e)?String(e):isFinite(+e)?`${Number(e)}${t}`:void 0}function _m(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}function s0(e){if(e&&"$el"in e){const t=e.$el;return(t==null?void 0:t.nodeType)===Node.TEXT_NODE?t.nextElementSibling:t}return e}const u0=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16});Object.freeze({enter:"Enter",tab:"Tab",delete:"Delete",esc:"Escape",space:"Space",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",end:"End",home:"Home",del:"Delete",backspace:"Backspace",insert:"Insert",pageup:"PageUp",pagedown:"PageDown",shift:"Shift"});function Rv(e,t){return t.every(r=>e.hasOwnProperty(r))}function kE(e,t){const r={},n=new Set(Object.keys(e));for(const i of t)n.has(i)&&(r[i]=e[i]);return r}function l0(e,t,r){const n=Object.create(null),i=Object.create(null);for(const a in e)t.some(o=>o instanceof RegExp?o.test(a):o===a)&&!(r!=null&&r.some(o=>o===a))?n[a]=e[a]:i[a]=e[a];return[n,i]}function WE(e,t){const r={...e};return t.forEach(n=>delete r[n]),r}const XE=/^on[^a-z]/,XW=e=>XE.test(e),ZW=["onAfterscriptexecute","onAnimationcancel","onAnimationend","onAnimationiteration","onAnimationstart","onAuxclick","onBeforeinput","onBeforescriptexecute","onChange","onClick","onCompositionend","onCompositionstart","onCompositionupdate","onContextmenu","onCopy","onCut","onDblclick","onFocusin","onFocusout","onFullscreenchange","onFullscreenerror","onGesturechange","onGestureend","onGesturestart","onGotpointercapture","onInput","onKeydown","onKeypress","onKeyup","onLostpointercapture","onMousedown","onMousemove","onMouseout","onMouseover","onMouseup","onMousewheel","onPaste","onPointercancel","onPointerdown","onPointerenter","onPointerleave","onPointermove","onPointerout","onPointerover","onPointerup","onReset","onSelect","onSubmit","onTouchcancel","onTouchend","onTouchmove","onTouchstart","onTransitioncancel","onTransitionend","onTransitionrun","onTransitionstart","onWheel"];function JW(e){const[t,r]=l0(e,[XE]),n=WE(t,ZW),[i,a]=l0(r,["class","style","id",/^data-/]);return Object.assign(i,t),Object.assign(a,n),[i,a]}function cu(e){return e==null?[]:Array.isArray(e)?e:[e]}function ZE(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(t,Math.min(r,e))}function c0(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";return e+r.repeat(Math.max(0,t-e.length))}function d0(e,t){return(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0").repeat(Math.max(0,t-e.length))+e}function YW(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const r=[];let n=0;for(;n<e.length;)r.push(e.substr(n,t)),n+=t;return r}function Pr(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;const n={};for(const i in e)n[i]=e[i];for(const i in t){const a=e[i],o=t[i];if(_m(a)&&_m(o)){n[i]=Pr(a,o,r);continue}if(Array.isArray(a)&&Array.isArray(o)&&r){n[i]=r(a,o);continue}n[i]=o}return n}function JE(e){return e.map(t=>t.type===rt?JE(t.children):t).flat()}function Aa(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(Aa.cache.has(e))return Aa.cache.get(e);const t=e.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase();return Aa.cache.set(e,t),t}Aa.cache=new Map;function du(e,t){if(!t||typeof t!="object")return[];if(Array.isArray(t))return t.map(r=>du(e,r)).flat(1);if(Array.isArray(t.children))return t.children.map(r=>du(e,r)).flat(1);if(t.component){if(Object.getOwnPropertySymbols(t.component.provides).includes(e))return[t.component];if(t.component.subTree)return du(e,t.component.subTree).flat(1)}return[]}function YE(e){const t=br({}),r=P(e);return qu(()=>{for(const n in r.value)t[n]=r.value[n]},{flush:"sync"}),Km(t)}function gm(e,t){return e.includes(t)}const Qr=()=>[Function,Array];function f0(e,t){return t="on"+ko(t),!!(e[t]||e[`${t}Once`]||e[`${t}Capture`]||e[`${t}OnceCapture`]||e[`${t}CaptureOnce`])}function QW(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(Array.isArray(e))for(const i of e)i(...r);else typeof e=="function"&&e(...r)}function QE(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const r=["button","[href]",'input:not([type="hidden"])',"select","textarea","[tabindex]"].map(n=>`${n}${t?':not([tabindex="-1"])':""}:not([disabled])`).join(", ");return[...e.querySelectorAll(r)]}function eX(e,t,r){var o;let n,i=e.indexOf(document.activeElement);const a=t==="next"?1:-1;do i+=a,n=e[i];while((!n||n.offsetParent==null||!((o=r==null?void 0:r(n))==null||o))&&i<e.length&&i>=0);return n}function eM(e,t){var n,i,a,o;const r=QE(e);if(!t)(e===document.activeElement||!e.contains(document.activeElement))&&((n=r[0])==null||n.focus());else if(t==="first")(i=r[0])==null||i.focus();else if(t==="last")(a=r.at(-1))==null||a.focus();else if(typeof t=="number")(o=r[t])==null||o.focus();else{const s=eX(r,t);s?s.focus():eM(e,t==="next"?"first":"last")}}const tX=["top","bottom"],rX=["start","end","left","right"];function nX(e,t){let[r,n]=e.split(" ");return n||(n=gm(tX,r)?"start":gm(rX,r)?"top":"center"),{side:h0(r,t),align:h0(n,t)}}function h0(e,t){return e==="start"?t?"right":"left":e==="end"?t?"left":"right":e}class $v{constructor(t){let{x:r,y:n,width:i,height:a}=t;this.x=r,this.y=n,this.width=i,this.height=a}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function iX(e){const t=e.getBoundingClientRect(),r=getComputedStyle(e),n=r.transform;if(n){let i,a,o,s,u;if(n.startsWith("matrix3d("))i=n.slice(9,-1).split(/, /),a=+i[0],o=+i[5],s=+i[12],u=+i[13];else if(n.startsWith("matrix("))i=n.slice(7,-1).split(/, /),a=+i[0],o=+i[3],s=+i[4],u=+i[5];else return new $v(t);const c=r.transformOrigin,d=t.x-s-(1-a)*parseFloat(c),f=t.y-u-(1-o)*parseFloat(c.slice(c.indexOf(" ")+1)),h=a?t.width/a:e.offsetWidth+1,p=o?t.height/o:e.offsetHeight+1;return new $v({x:d,y:f,width:h,height:p})}else return new $v(t)}function aX(e,t,r){if(typeof e.animate>"u")return{finished:Promise.resolve()};let n;try{n=e.animate(t,r)}catch{return{finished:Promise.resolve()}}return typeof n.finished>"u"&&(n.finished=new Promise(i=>{n.onfinish=()=>{i(n)}})),n}const bo=2.4,p0=.2126729,y0=.7151522,v0=.072175,oX=.55,sX=.58,uX=.57,lX=.62,Od=.03,m0=1.45,cX=5e-4,dX=1.25,fX=1.25,_0=.078,g0=12.82051282051282,Sd=.06,b0=.001;function w0(e,t){const r=(e.r/255)**bo,n=(e.g/255)**bo,i=(e.b/255)**bo,a=(t.r/255)**bo,o=(t.g/255)**bo,s=(t.b/255)**bo;let u=r*p0+n*y0+i*v0,c=a*p0+o*y0+s*v0;if(u<=Od&&(u+=(Od-u)**m0),c<=Od&&(c+=(Od-c)**m0),Math.abs(c-u)<cX)return 0;let d;if(c>u){const f=(c**oX-u**sX)*dX;d=f<b0?0:f<_0?f-f*g0*Sd:f-Sd}else{const f=(c**lX-u**uX)*fX;d=f>-b0?0:f>-_0?f-f*g0*Sd:f+Sd}return d*100}function hX(e,t){t=Array.isArray(t)?t.slice(0,-1).map(r=>`'${r}'`).join(", ")+` or '${t.at(-1)}'`:`'${t}'`}const gf=.20689655172413793,pX=e=>e>gf**3?Math.cbrt(e):e/(3*gf**2)+4/29,yX=e=>e>gf?e**3:3*gf**2*(e-4/29);function tM(e){const t=pX,r=t(e[1]);return[116*r-16,500*(t(e[0]/.95047)-r),200*(r-t(e[2]/1.08883))]}function rM(e){const t=yX,r=(e[0]+16)/116;return[t(r+e[1]/500)*.95047,t(r),t(r-e[2]/200)*1.08883]}const vX=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],mX=e=>e<=.0031308?e*12.92:1.055*e**(1/2.4)-.055,_X=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],gX=e=>e<=.04045?e/12.92:((e+.055)/1.055)**2.4;function nM(e){const t=Array(3),r=mX,n=vX;for(let i=0;i<3;++i)t[i]=Math.round(ZE(r(n[i][0]*e[0]+n[i][1]*e[1]+n[i][2]*e[2]))*255);return{r:t[0],g:t[1],b:t[2]}}function ig(e){let{r:t,g:r,b:n}=e;const i=[0,0,0],a=gX,o=_X;t=a(t/255),r=a(r/255),n=a(n/255);for(let s=0;s<3;++s)i[s]=o[s][0]*t+o[s][1]*r+o[s][2]*n;return i}function bm(e){return!!e&&/^(#|var\(--|(rgb|hsl)a?\()/.test(e)}function bX(e){return bm(e)&&!/^((rgb|hsl)a?\()?var\(--/.test(e)}const O0=/^(?<fn>(?:rgb|hsl)a?)\((?<values>.+)\)/,wX={rgb:(e,t,r,n)=>({r:e,g:t,b:r,a:n}),rgba:(e,t,r,n)=>({r:e,g:t,b:r,a:n}),hsl:(e,t,r,n)=>S0({h:e,s:t,l:r,a:n}),hsla:(e,t,r,n)=>S0({h:e,s:t,l:r,a:n}),hsv:(e,t,r,n)=>Fu({h:e,s:t,v:r,a:n}),hsva:(e,t,r,n)=>Fu({h:e,s:t,v:r,a:n})};function Pn(e){if(typeof e=="number")return{r:(e&16711680)>>16,g:(e&65280)>>8,b:e&255};if(typeof e=="string"&&O0.test(e)){const{groups:t}=e.match(O0),{fn:r,values:n}=t,i=n.split(/,\s*/).map(a=>a.endsWith("%")&&["hsl","hsla","hsv","hsva"].includes(r)?parseFloat(a)/100:parseFloat(a));return wX[r](...i)}else if(typeof e=="string"){let t=e.startsWith("#")?e.slice(1):e;return[3,4].includes(t.length)?t=t.split("").map(r=>r+r).join(""):[6,8].includes(t.length),SX(t)}else if(typeof e=="object"){if(Rv(e,["r","g","b"]))return e;if(Rv(e,["h","s","l"]))return Fu(iM(e));if(Rv(e,["h","s","v"]))return Fu(e)}throw new TypeError(`Invalid color: ${e==null?e:String(e)||e.constructor.name}
Expected #hex, #hexa, rgb(), rgba(), hsl(), hsla(), object or number`)}function Fu(e){const{h:t,s:r,v:n,a:i}=e,a=s=>{const u=(s+t/60)%6;return n-n*r*Math.max(Math.min(u,4-u,1),0)},o=[a(5),a(3),a(1)].map(s=>Math.round(s*255));return{r:o[0],g:o[1],b:o[2],a:i}}function S0(e){return Fu(iM(e))}function iM(e){const{h:t,s:r,l:n,a:i}=e,a=n+r*Math.min(n,1-n),o=a===0?0:2-2*n/a;return{h:t,s:o,v:a,a:i}}function Pd(e){const t=Math.round(e).toString(16);return("00".substr(0,2-t.length)+t).toUpperCase()}function OX(e){let{r:t,g:r,b:n,a:i}=e;return`#${[Pd(t),Pd(r),Pd(n),i!==void 0?Pd(Math.round(i*255)):""].join("")}`}function SX(e){e=PX(e);let[t,r,n,i]=YW(e,2).map(a=>parseInt(a,16));return i=i===void 0?i:i/255,{r:t,g:r,b:n,a:i}}function PX(e){return e.startsWith("#")&&(e=e.slice(1)),e=e.replace(/([^0-9a-f])/gi,"F"),(e.length===3||e.length===4)&&(e=e.split("").map(t=>t+t).join("")),e.length!==6&&(e=c0(c0(e,6),8,"F")),e}function jX(e,t){const r=tM(ig(e));return r[0]=r[0]+t*10,nM(rM(r))}function CX(e,t){const r=tM(ig(e));return r[0]=r[0]-t*10,nM(rM(r))}function EX(e){const t=Pn(e);return ig(t)[1]}function aM(e){const t=Math.abs(w0(Pn(0),Pn(e)));return Math.abs(w0(Pn(16777215),Pn(e)))>Math.min(t,50)?"#fff":"#000"}function ne(e,t){return r=>Object.keys(e).reduce((n,i)=>{const o=typeof e[i]=="object"&&e[i]!=null&&!Array.isArray(e[i])?e[i]:{type:e[i]};return r&&i in r?n[i]={...o,default:r[i]}:n[i]=o,t&&!n[i].source&&(n[i].source=t),n},{})}const Ve=ne({class:[String,Array],style:{type:[String,Array,Object],default:null}},"component");function hs(e){var t,r;if(e._setup=(t=e._setup)!=null?t:e.setup,!e.name)return e;if(e._setup){e.props=ne((r=e.props)!=null?r:{},e.name)();const n=Object.keys(e.props).filter(i=>i!=="class"&&i!=="style");e.filterProps=function(a){return kE(a,n)},e.props._as=String,e.setup=function(a,o){var f;const s=ag();if(!s.value)return e._setup(a,o);const{props:u,provideSubDefaults:c}=xX(a,(f=a._as)!=null?f:e.name,s),d=e._setup(u,o);return c(),d}}return e}function Ce(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return t=>(e?hs:b1)(t)}function xc(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",r=arguments.length>2?arguments[2]:void 0;return Ce()({name:r!=null?r:ko(Br(e.replace(/__/g,"-"))),props:{tag:{type:String,default:t},...Ve()},setup(n,i){let{slots:a}=i;return()=>{var o;return Xo(n.tag,{class:[e,n.class],style:n.style},(o=a.default)==null?void 0:o.call(a))}}})}const MX="cubic-bezier(0.4, 0, 0.2, 1)";function $r(e,t){const r=t_();if(!r)throw new Error(`[Vuetify] ${e} ${t||"must be called from inside a setup function"}`);return r}function xn(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";const t=$r(e).type;return Aa((t==null?void 0:t.aliasName)||(t==null?void 0:t.name))}let oM=0,Dd=new WeakMap;function Qa(){const e=$r("getUid");if(Dd.has(e))return Dd.get(e);{const t=oM++;return Dd.set(e,t),t}}Qa.reset=()=>{oM=0,Dd=new WeakMap};function TX(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$r("injectSelf");const{provides:r}=t;if(r&&e in r)return r[e]}function Ke(e){const t=$r("useRender");t.render=e}const qo=Symbol.for("vuetify:defaults");function RX(e){return xe(e)}function ag(){const e=Et(qo);if(!e)throw new Error("[Vuetify] Could not find defaults instance");return e}function Ac(e,t){const r=ag(),n=xe(e),i=P(()=>{if(On(t==null?void 0:t.disabled))return r.value;const o=On(t==null?void 0:t.scoped),s=On(t==null?void 0:t.reset),u=On(t==null?void 0:t.root);if(n.value==null&&!(o||s||u))return r.value;let c=Pr(n.value,{prev:r.value});if(o)return c;if(s||u){const d=Number(s||1/0);for(let f=0;f<=d&&!(!c||!("prev"in c));f++)c=c.prev;return c&&typeof u=="string"&&u in c&&(c=Pr(Pr(c,{prev:c}),c[u])),c}return c.prev?Pr(c.prev,c):c});return rn(qo,i),i}function $X(e,t){var r,n;return typeof((r=e.props)==null?void 0:r[t])<"u"||typeof((n=e.props)==null?void 0:n[Aa(t)])<"u"}function xX(){var u;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ag();const n=$r("useDefaults");if(t=(u=t!=null?t:n.type.name)!=null?u:n.type.__name,!t)throw new Error("[Vuetify] Could not determine component name");const i=P(()=>{var c,d;return(d=r.value)==null?void 0:d[(c=e._as)!=null?c:t]}),a=new Proxy(e,{get(c,d){var h,p,y,v,m,b;const f=Reflect.get(c,d);return d==="class"||d==="style"?[(h=i.value)==null?void 0:h[d],f].filter(O=>O!=null):typeof d=="string"&&!$X(n.vnode,d)&&(b=(m=(p=i.value)==null?void 0:p[d])!=null?m:(v=(y=r.value)==null?void 0:y.global)==null?void 0:v[d])!=null?b:f}}),o=He();qu(()=>{if(i.value){const c=Object.entries(i.value).filter(d=>{let[f]=d;return f.startsWith(f[0].toUpperCase())});o.value=c.length?Object.fromEntries(c):void 0}else o.value=void 0});function s(){const c=TX(qo,n);rn(qo,P(()=>{var d;return o.value?Pr((d=c==null?void 0:c.value)!=null?d:{},o.value):c==null?void 0:c.value}))}return{props:a,provideSubDefaults:s}}const AX=ne({defaults:Object,disabled:Boolean,reset:[Number,String],root:[Boolean,String],scoped:Boolean},"VDefaultsProvider"),Jt=Ce(!1)({name:"VDefaultsProvider",props:AX(),setup(e,t){let{slots:r}=t;const{defaults:n,disabled:i,reset:a,root:o,scoped:s}=Km(e);return Ac(n,{reset:a,root:o,scoped:s,disabled:i}),()=>{var u;return(u=r.default)==null?void 0:u.call(r)}}});function og(e){return YE(()=>{const t=[],r={};if(e.value.background)if(bm(e.value.background)){if(r.backgroundColor=e.value.background,!e.value.text&&bX(e.value.background)){const n=Pn(e.value.background);if(n.a==null||n.a===1){const i=aM(n);r.color=i,r.caretColor=i}}}else t.push(`bg-${e.value.background}`);return e.value.text&&(bm(e.value.text)?(r.color=e.value.text,r.caretColor=e.value.text):t.push(`text-${e.value.text}`)),{colorClasses:t,colorStyles:r}})}function Fi(e,t){const r=P(()=>({text:dt(e)?e.value:t?e[t]:null})),{colorClasses:n,colorStyles:i}=og(r);return{textColorClasses:n,textColorStyles:i}}function Lu(e,t){const r=P(()=>({background:dt(e)?e.value:t?e[t]:null})),{colorClasses:n,colorStyles:i}=og(r);return{backgroundColorClasses:n,backgroundColorStyles:i}}const IX={collapse:"mdi-chevron-up",complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close-circle",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-alert-circle",error:"mdi-close-circle",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sortAsc:"mdi-arrow-up",sortDesc:"mdi-arrow-down",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus",calendar:"mdi-calendar",treeviewCollapse:"mdi-menu-down",treeviewExpand:"mdi-menu-right",eyeDropper:"mdi-eyedropper"},DX={component:e=>Xo(uM,{...e,class:"mdi"})},Ye=[String,Function,Object,Array],wm=Symbol.for("vuetify:icons"),cy=ne({icon:{type:Ye},tag:{type:String,required:!0}},"icon"),P0=Ce()({name:"VComponentIcon",props:cy(),setup(e,t){let{slots:r}=t;return()=>{const n=e.icon;return _(e.tag,null,{default:()=>{var i;return[e.icon?_(n,null,null):(i=r.default)==null?void 0:i.call(r)]}})}}}),sM=hs({name:"VSvgIcon",inheritAttrs:!1,props:cy(),setup(e,t){let{attrs:r}=t;return()=>_(e.tag,jr(r,{style:null}),{default:()=>[_("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[Array.isArray(e.icon)?e.icon.map(n=>Array.isArray(n)?_("path",{d:n[0],"fill-opacity":n[1]},null):_("path",{d:n},null)):_("path",{d:e.icon},null)])]})}});hs({name:"VLigatureIcon",props:cy(),setup(e){return()=>_(e.tag,null,{default:()=>[e.icon]})}});const uM=hs({name:"VClassIcon",props:cy(),setup(e){return()=>_(e.tag,{class:e.icon},null)}});function zX(){return{svg:{component:sM},class:{component:uM}}}function NX(e){var n;const t=zX(),r=(n=e==null?void 0:e.defaultSet)!=null?n:"mdi";return r==="mdi"&&!t.mdi&&(t.mdi=DX),Pr({defaultSet:r,sets:t,aliases:{...IX,vuetify:["M8.2241 14.2009L12 21L22 3H14.4459L8.2241 14.2009Z",["M7.26303 12.4733L7.00113 12L2 3H12.5261C12.5261 3 12.5261 3 12.5261 3L7.26303 12.4733Z",.6]],"vuetify-outline":"svg:M7.26 12.47 12.53 3H2L7.26 12.47ZM14.45 3 8.22 14.2 12 21 22 3H14.45ZM18.6 5 12 16.88 10.51 14.2 15.62 5ZM7.26 8.35 5.4 5H9.13L7.26 8.35Z"}},e)}const BX=e=>{const t=Et(wm);if(!t)throw new Error("Missing Vuetify Icons provide!");return{iconData:P(()=>{var u;const n=On(e);if(!n)return{component:P0};let i=n;if(typeof i=="string"&&(i=i.trim(),i.startsWith("$")&&(i=(u=t.aliases)==null?void 0:u[i.slice(1)])),Array.isArray(i))return{component:sM,icon:i};if(typeof i!="string")return{component:P0,icon:i};const a=Object.keys(t.sets).find(c=>typeof i=="string"&&i.startsWith(`${c}:`)),o=a?i.slice(a.length+1):i;return{component:t.sets[a!=null?a:t.defaultSet].component,icon:o}})}},FX=["x-small","small","default","large","x-large"],Ic=ne({size:{type:[String,Number],default:"default"}},"size");function Dc(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xn();return YE(()=>{let r,n;return gm(FX,e.size)?r=`${t}--size-${e.size}`:e.size&&(n={width:Be(e.size),height:Be(e.size)}),{sizeClasses:r,sizeStyles:n}})}const rr=ne({tag:{type:String,default:"div"}},"tag"),bf=Symbol.for("vuetify:theme"),qt=ne({theme:String},"theme");function j0(){return{defaultTheme:"light",variations:{colors:[],lighten:0,darken:0},themes:{light:{dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-bright":"#FFFFFF","surface-light":"#EEEEEE","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#1867C0","primary-darken-1":"#1F5592",secondary:"#48A9A6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#F5F5F5","theme-on-code":"#000000"}},dark:{dark:!0,colors:{background:"#121212",surface:"#212121","surface-bright":"#ccbfd6","surface-light":"#424242","surface-variant":"#a3a3a3","on-surface-variant":"#424242",primary:"#2196F3","primary-darken-1":"#277CC1",secondary:"#54B6B2","secondary-darken-1":"#48A9A6",error:"#CF6679",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":1,"medium-emphasis-opacity":.7,"disabled-opacity":.5,"idle-opacity":.1,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.16,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#343434","theme-on-code":"#CCCCCC"}}}}}function LX(){var n,i,a;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:j0();const t=j0();if(!e)return{...t,isDisabled:!0};const r={};for(const[o,s]of Object.entries((n=e.themes)!=null?n:{})){const u=s.dark||o==="dark"?(i=t.themes)==null?void 0:i.dark:(a=t.themes)==null?void 0:a.light;r[o]=Pr(u,s)}return Pr(t,{...e,themes:r})}function UX(e){const t=LX(e),r=xe(t.defaultTheme),n=xe(t.themes),i=P(()=>{const d={};for(const[f,h]of Object.entries(n.value)){const p=d[f]={...h,colors:{...h.colors}};if(t.variations)for(const y of t.variations.colors){const v=p.colors[y];if(!!v)for(const m of["lighten","darken"]){const b=m==="lighten"?jX:CX;for(const O of qE(t.variations[m],1))p.colors[`${y}-${m}-${O}`]=OX(b(Pn(v),O))}}for(const y of Object.keys(p.colors)){if(/^on-[a-z]/.test(y)||p.colors[`on-${y}`])continue;const v=`on-${y}`,m=Pn(p.colors[y]);p.colors[v]=aM(m)}}return d}),a=P(()=>i.value[r.value]),o=P(()=>{var y;const d=[];(y=a.value)!=null&&y.dark&&da(d,":root",["color-scheme: dark"]),da(d,":root",C0(a.value));for(const[v,m]of Object.entries(i.value))da(d,`.v-theme--${v}`,[`color-scheme: ${m.dark?"dark":"normal"}`,...C0(m)]);const f=[],h=[],p=new Set(Object.values(i.value).flatMap(v=>Object.keys(v.colors)));for(const v of p)/^on-[a-z]/.test(v)?da(h,`.${v}`,[`color: rgb(var(--v-theme-${v})) !important`]):(da(f,`.bg-${v}`,[`--v-theme-overlay-multiplier: var(--v-theme-${v}-overlay-multiplier)`,`background-color: rgb(var(--v-theme-${v})) !important`,`color: rgb(var(--v-theme-on-${v})) !important`]),da(h,`.text-${v}`,[`color: rgb(var(--v-theme-${v})) !important`]),da(h,`.border-${v}`,[`--v-border-color: var(--v-theme-${v})`]));return d.push(...f,...h),d.map((v,m)=>m===0?v:`    ${v}`).join("")});function s(){return{style:[{children:o.value,id:"vuetify-theme-stylesheet",nonce:t.cspNonce||!1}]}}function u(d){if(t.isDisabled)return;const f=d._context.provides.usehead;if(f)if(f.push){const h=f.push(s);Sr&&st(o,()=>{h.patch(s)})}else Sr?(f.addHeadObjs(P(s)),qu(()=>f.updateDOM())):f.addHeadObjs(s());else{let p=function(){if(typeof document<"u"&&!h){const y=document.createElement("style");y.type="text/css",y.id="vuetify-theme-stylesheet",t.cspNonce&&y.setAttribute("nonce",t.cspNonce),h=y,document.head.appendChild(h)}h&&(h.innerHTML=o.value)},h=Sr?document.getElementById("vuetify-theme-stylesheet"):null;Sr?st(o,p,{immediate:!0}):p()}}const c=P(()=>t.isDisabled?void 0:`v-theme--${r.value}`);return{install:u,isDisabled:t.isDisabled,name:r,themes:n,current:a,computedThemes:i,themeClasses:c,styles:o,global:{name:r,current:a}}}function nr(e){$r("provideTheme");const t=Et(bf,null);if(!t)throw new Error("Could not find Vuetify theme injection");const r=P(()=>{var o;return(o=e.theme)!=null?o:t.name.value}),n=P(()=>t.themes.value[r.value]),i=P(()=>t.isDisabled?void 0:`v-theme--${r.value}`),a={...t,name:r,current:n,themeClasses:i};return rn(bf,a),a}function da(e,t,r){e.push(`${t} {
`,...r.map(n=>`  ${n};
`),`}
`)}function C0(e){const t=e.dark?2:1,r=e.dark?1:2,n=[];for(const[i,a]of Object.entries(e.colors)){const o=Pn(a);n.push(`--v-theme-${i}: ${o.r},${o.g},${o.b}`),i.startsWith("on-")||n.push(`--v-theme-${i}-overlay-multiplier: ${EX(a)>.18?t:r}`)}for(const[i,a]of Object.entries(e.variables)){const o=typeof a=="string"&&a.startsWith("#")?Pn(a):void 0,s=o?`${o.r}, ${o.g}, ${o.b}`:void 0;n.push(`--v-${i}: ${s!=null?s:a}`)}return n}const VX=ne({color:String,disabled:Boolean,start:Boolean,end:Boolean,icon:Ye,...Ve(),...Ic(),...rr({tag:"i"}),...qt()},"VIcon"),Yt=Ce()({name:"VIcon",props:VX(),setup(e,t){let{attrs:r,slots:n}=t;const i=xe(),{themeClasses:a}=nr(e),{iconData:o}=BX(P(()=>i.value||e.icon)),{sizeClasses:s}=Dc(e),{textColorClasses:u,textColorStyles:c}=Fi(Ee(e,"color"));return Ke(()=>{var h,p;const d=(h=n.default)==null?void 0:h.call(n);d&&(i.value=(p=JE(d).filter(y=>y.type===ku&&y.children&&typeof y.children=="string")[0])==null?void 0:p.children);const f=!!(r.onClick||r.onClickOnce);return _(o.value.component,{tag:e.tag,icon:o.value.icon,class:["v-icon","notranslate",a.value,s.value,u.value,{"v-icon--clickable":f,"v-icon--disabled":e.disabled,"v-icon--start":e.start,"v-icon--end":e.end},e.class],style:[s.value?void 0:{fontSize:Be(e.size),height:Be(e.size),width:Be(e.size)},c.value,e.style],role:f?"button":void 0,"aria-hidden":!f,tabindex:f?e.disabled?-1:0:void 0},{default:()=>[d]})}),{}}});const zc=ne({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function Nc(e){return{dimensionStyles:P(()=>({height:Be(e.height),maxHeight:Be(e.maxHeight),maxWidth:Be(e.maxWidth),minHeight:Be(e.minHeight),minWidth:Be(e.minWidth),width:Be(e.width)}))}}function KX(e){return{aspectStyles:P(()=>{const t=Number(e.aspectRatio);return t?{paddingBottom:String(1/t*100)+"%"}:void 0})}}const lM=ne({aspectRatio:[String,Number],contentClass:String,inline:Boolean,...Ve(),...zc()},"VResponsive"),E0=Ce()({name:"VResponsive",props:lM(),setup(e,t){let{slots:r}=t;const{aspectStyles:n}=KX(e),{dimensionStyles:i}=Nc(e);return Ke(()=>{var a;return _("div",{class:["v-responsive",{"v-responsive--inline":e.inline},e.class],style:[i.value,e.style]},[_("div",{class:"v-responsive__sizer",style:n.value},null),(a=r.additional)==null?void 0:a.call(r),r.default&&_("div",{class:["v-responsive__content",e.contentClass]},[r.default()])])}),{}}}),An=ne({rounded:{type:[Boolean,Number,String],default:void 0},tile:Boolean},"rounded");function In(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xn();return{roundedClasses:P(()=>{const n=dt(e)?e.value:e.rounded,i=dt(e)?e.value:e.tile,a=[];if(n===!0||n==="")a.push(`${t}--rounded`);else if(typeof n=="string"||n===0)for(const o of String(n).split(" "))a.push(`rounded-${o}`);else(i||n===!1)&&a.push("rounded-0");return a})}}const sg=ne({transition:{type:[Boolean,String,Object],default:"fade-transition",validator:e=>e!==!0}},"transition"),Pa=(e,t)=>{let{slots:r}=t;const{transition:n,disabled:i,group:a,...o}=e,{component:s=a?iS:Zo,...u}=typeof n=="object"?n:{};return Xo(s,jr(typeof n=="string"?{name:i?"":n}:u,typeof n=="string"?{}:Object.fromEntries(Object.entries({disabled:i,group:a}).filter(c=>{let[d,f]=c;return f!==void 0})),o),r)};function HX(e,t){if(!ng)return;const r=t.modifiers||{},n=t.value,{handler:i,options:a}=typeof n=="object"?n:{handler:n,options:{}},o=new IntersectionObserver(function(){var f;let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],u=arguments.length>1?arguments[1]:void 0;const c=(f=e._observe)==null?void 0:f[t.instance.$.uid];if(!c)return;const d=s.some(h=>h.isIntersecting);i&&(!r.quiet||c.init)&&(!r.once||d||c.init)&&i(d,s,u),d&&r.once?cM(e,t):c.init=!0},a);e._observe=Object(e._observe),e._observe[t.instance.$.uid]={init:!1,observer:o},o.observe(e)}function cM(e,t){var n;const r=(n=e._observe)==null?void 0:n[t.instance.$.uid];!r||(r.observer.unobserve(e),delete e._observe[t.instance.$.uid])}const GX={mounted:HX,unmounted:cM},dM=GX,qX=ne({alt:String,cover:Boolean,color:String,draggable:{type:[Boolean,String],default:void 0},eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},crossorigin:String,referrerpolicy:String,srcset:String,position:String,...lM(),...Ve(),...An(),...sg()},"VImg"),ug=Ce()({name:"VImg",directives:{intersect:dM},props:qX(),emits:{loadstart:e=>!0,load:e=>!0,error:e=>!0},setup(e,t){let{emit:r,slots:n}=t;const{backgroundColorClasses:i,backgroundColorStyles:a}=Lu(Ee(e,"color")),{roundedClasses:o}=In(e),s=$r("VImg"),u=He(""),c=xe(),d=He(e.eager?"loading":"idle"),f=He(),h=He(),p=P(()=>e.src&&typeof e.src=="object"?{src:e.src.src,srcset:e.srcset||e.src.srcset,lazySrc:e.lazySrc||e.src.lazySrc,aspect:Number(e.aspectRatio||e.src.aspect||0)}:{src:e.src,srcset:e.srcset,lazySrc:e.lazySrc,aspect:Number(e.aspectRatio||0)}),y=P(()=>p.value.aspect||f.value/h.value||0);st(()=>e.src,()=>{v(d.value!=="idle")}),st(y,(E,F)=>{!E&&F&&c.value&&T(c.value)}),Zm(()=>v());function v(E){if(!(e.eager&&E)&&!(ng&&!E&&!e.eager)){if(d.value="loading",p.value.lazySrc){const F=new Image;F.src=p.value.lazySrc,T(F,null)}!p.value.src||Ia(()=>{var F;r("loadstart",((F=c.value)==null?void 0:F.currentSrc)||p.value.src),setTimeout(()=>{var H;if(!s.isUnmounted)if((H=c.value)!=null&&H.complete){if(c.value.naturalWidth||b(),d.value==="error")return;y.value||T(c.value,null),d.value==="loading"&&m()}else y.value||T(c.value),O()})})}}function m(){var E;s.isUnmounted||(O(),T(c.value),d.value="loaded",r("load",((E=c.value)==null?void 0:E.currentSrc)||p.value.src))}function b(){var E;s.isUnmounted||(d.value="error",r("error",((E=c.value)==null?void 0:E.currentSrc)||p.value.src))}function O(){const E=c.value;E&&(u.value=E.currentSrc||E.src)}let S=-1;Rn(()=>{clearTimeout(S)});function T(E){let F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const H=()=>{if(clearTimeout(S),s.isUnmounted)return;const{naturalHeight:oe,naturalWidth:re}=E;oe||re?(f.value=re,h.value=oe):!E.complete&&d.value==="loading"&&F!=null?S=window.setTimeout(H,F):(E.currentSrc.endsWith(".svg")||E.currentSrc.startsWith("data:image/svg+xml"))&&(f.value=1,h.value=1)};H()}const x=P(()=>({"v-img__img--cover":e.cover,"v-img__img--contain":!e.cover})),M=()=>{var H;if(!p.value.src||d.value==="idle")return null;const E=_("img",{class:["v-img__img",x.value],style:{objectPosition:e.position},src:p.value.src,srcset:p.value.srcset,alt:e.alt,crossorigin:e.crossorigin,referrerpolicy:e.referrerpolicy,draggable:e.draggable,sizes:e.sizes,ref:c,onLoad:m,onError:b},null),F=(H=n.sources)==null?void 0:H.call(n);return _(Pa,{transition:e.transition,appear:!0},{default:()=>[Er(F?_("picture",{class:"v-img__picture"},[F,E]):E,[[Da,d.value==="loaded"]])]})},I=()=>_(Pa,{transition:e.transition},{default:()=>[p.value.lazySrc&&d.value!=="loaded"&&_("img",{class:["v-img__img","v-img__img--preload",x.value],style:{objectPosition:e.position},src:p.value.lazySrc,alt:e.alt,crossorigin:e.crossorigin,referrerpolicy:e.referrerpolicy,draggable:e.draggable},null)]}),C=()=>n.placeholder?_(Pa,{transition:e.transition,appear:!0},{default:()=>[(d.value==="loading"||d.value==="error"&&!n.error)&&_("div",{class:"v-img__placeholder"},[n.placeholder()])]}):null,A=()=>n.error?_(Pa,{transition:e.transition,appear:!0},{default:()=>[d.value==="error"&&_("div",{class:"v-img__error"},[n.error()])]}):null,K=()=>e.gradient?_("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${e.gradient})`}},null):null,X=He(!1);{const E=st(y,F=>{F&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{X.value=!0})}),E())})}return Ke(()=>{const E=E0.filterProps(e);return Er(_(E0,jr({class:["v-img",{"v-img--booting":!X.value},i.value,o.value,e.class],style:[{width:Be(e.width==="auto"?f.value:e.width)},a.value,e.style]},E,{aspectRatio:y.value,"aria-label":e.alt,role:e.alt?"img":void 0}),{additional:()=>_(rt,null,[_(M,null,null),_(I,null,null),_(K,null,null),_(C,null,null),_(A,null,null)]),default:n.default}),[[Gu("intersect"),{handler:v,options:e.options},null,{once:!0}]])}),{currentSrc:u,image:c,state:d,naturalWidth:f,naturalHeight:h}}}),kX=[null,"default","comfortable","compact"],Qn=ne({density:{type:String,default:"default",validator:e=>kX.includes(e)}},"density");function Xi(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xn();return{densityClasses:P(()=>`${t}--density-${e.density}`)}}const WX=["elevated","flat","tonal","outlined","text","plain"];function Bc(e,t){return _(rt,null,[e&&_("span",{key:"overlay",class:`${t}__overlay`},null),_("span",{key:"underlay",class:`${t}__underlay`},null)])}const Zi=ne({color:String,variant:{type:String,default:"elevated",validator:e=>WX.includes(e)}},"variant");function Fc(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xn();const r=P(()=>{const{variant:a}=On(e);return`${t}--variant-${a}`}),{colorClasses:n,colorStyles:i}=og(P(()=>{const{variant:a,color:o}=On(e);return{[["elevated","flat"].includes(a)?"background":"text"]:o}}));return{colorClasses:n,colorStyles:i,variantClasses:r}}const XX=ne({start:Boolean,end:Boolean,icon:Ye,image:String,text:String,...Ve(),...Qn(),...An(),...Ic(),...rr(),...qt(),...Zi({variant:"flat"})},"VAvatar"),Ka=Ce()({name:"VAvatar",props:XX(),setup(e,t){let{slots:r}=t;const{themeClasses:n}=nr(e),{colorClasses:i,colorStyles:a,variantClasses:o}=Fc(e),{densityClasses:s}=Xi(e),{roundedClasses:u}=In(e),{sizeClasses:c,sizeStyles:d}=Dc(e);return Ke(()=>_(e.tag,{class:["v-avatar",{"v-avatar--start":e.start,"v-avatar--end":e.end},n.value,i.value,s.value,u.value,c.value,o.value,e.class],style:[a.value,d.value,e.style]},{default:()=>[r.default?_(Jt,{key:"content-defaults",defaults:{VImg:{cover:!0,image:e.image},VIcon:{icon:e.icon}}},{default:()=>[r.default()]}):e.image?_(ug,{key:"image",src:e.image,alt:"",cover:!0},null):e.icon?_(Yt,{key:"icon",icon:e.icon},null):e.text,Bc(!1,"v-avatar")]})),{}}});const ps=ne({border:[Boolean,Number,String]},"border");function ys(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xn();return{borderClasses:P(()=>{const n=dt(e)?e.value:e.border,i=[];if(n===!0||n==="")i.push(`${t}--border`);else if(typeof n=="string"||n===0)for(const a of String(n).split(" "))i.push(`border-${a}`);return i})}}const vs=ne({elevation:{type:[Number,String],validator(e){const t=parseInt(e);return!isNaN(t)&&t>=0&&t<=24}}},"elevation");function ms(e){return{elevationClasses:P(()=>{const r=dt(e)?e.value:e.elevation,n=[];return r==null||n.push(`elevation-${r}`),n})}}const fM=ne({divided:Boolean,...ps(),...Ve(),...Qn(),...vs(),...An(),...rr(),...qt(),...Zi()},"VBtnGroup"),M0=Ce()({name:"VBtnGroup",props:fM(),setup(e,t){let{slots:r}=t;const{themeClasses:n}=nr(e),{densityClasses:i}=Xi(e),{borderClasses:a}=ys(e),{elevationClasses:o}=ms(e),{roundedClasses:s}=In(e);Ac({VBtn:{height:"auto",color:Ee(e,"color"),density:Ee(e,"density"),flat:!0,variant:Ee(e,"variant")}}),Ke(()=>_(e.tag,{class:["v-btn-group",{"v-btn-group--divided":e.divided},n.value,a.value,i.value,o.value,s.value,e.class],style:e.style},r))}});function Om(e,t){let r;function n(){r=PT(),r.run(()=>t.length?t(()=>{r==null||r.stop(),n()}):t())}st(e,i=>{i&&!r?n():i||(r==null||r.stop(),r=void 0)},{immediate:!0}),ET(()=>{r==null||r.stop()})}function Cn(e,t,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:f=>f,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:f=>f;const a=$r("useProxiedModel"),o=xe(e[t]!==void 0?e[t]:r),s=Aa(t),c=P(s!==t?()=>{var f,h,p,y;return e[t],!!((((f=a.vnode.props)==null?void 0:f.hasOwnProperty(t))||((h=a.vnode.props)==null?void 0:h.hasOwnProperty(s)))&&(((p=a.vnode.props)==null?void 0:p.hasOwnProperty(`onUpdate:${t}`))||((y=a.vnode.props)==null?void 0:y.hasOwnProperty(`onUpdate:${s}`))))}:()=>{var f,h;return e[t],!!(((f=a.vnode.props)==null?void 0:f.hasOwnProperty(t))&&((h=a.vnode.props)==null?void 0:h.hasOwnProperty(`onUpdate:${t}`)))});Om(()=>!c.value,()=>{st(()=>e[t],f=>{o.value=f})});const d=P({get(){const f=e[t];return n(c.value?f:o.value)},set(f){const h=i(f),p=fe(c.value?e[t]:o.value);p===h||n(p)===f||(o.value=h,a==null||a.emit(`update:${t}`,h))}});return Object.defineProperty(d,"externalValue",{get:()=>c.value?e[t]:o.value}),d}const lg=ne({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),hM=ne({value:null,disabled:Boolean,selectedClass:String},"group-item");function pM(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const n=$r("useGroupItem");if(!n)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const i=Qa();rn(Symbol.for(`${t.description}:id`),i);const a=Et(t,null);if(!a){if(!r)return a;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${t.description}`)}const o=Ee(e,"value"),s=P(()=>!!(a.disabled.value||e.disabled));a.register({id:i,value:o,disabled:s},n),Rn(()=>{a.unregister(i)});const u=P(()=>a.isSelected(i)),c=P(()=>u.value&&[a.selectedClass.value,e.selectedClass]);return st(u,d=>{n.emit("group:selected",{value:d})},{flush:"sync"}),{id:i,isSelected:u,toggle:()=>a.select(i,!u.value),select:d=>a.select(i,d),selectedClass:c,value:o,disabled:s,group:a}}function cg(e,t){let r=!1;const n=br([]),i=Cn(e,"modelValue",[],h=>h==null?[]:yM(n,cu(h)),h=>{const p=JX(n,h);return e.multiple?p:p[0]}),a=$r("useGroup");function o(h,p){const y=h,v=Symbol.for(`${t.description}:id`),b=du(v,a==null?void 0:a.vnode).indexOf(p);On(y.value)==null&&(y.value=b,y.useIndexAsValue=!0),b>-1?n.splice(b,0,y):n.push(y)}function s(h){if(r)return;u();const p=n.findIndex(y=>y.id===h);n.splice(p,1)}function u(){const h=n.find(p=>!p.disabled);h&&e.mandatory==="force"&&!i.value.length&&(i.value=[h.id])}Wo(()=>{u()}),Rn(()=>{r=!0}),Jm(()=>{for(let h=0;h<n.length;h++)n[h].useIndexAsValue&&(n[h].value=h)});function c(h,p){const y=n.find(v=>v.id===h);if(!(p&&(y==null?void 0:y.disabled)))if(e.multiple){const v=i.value.slice(),m=v.findIndex(O=>O===h),b=~m;if(p=p!=null?p:!b,b&&e.mandatory&&v.length<=1||!b&&e.max!=null&&v.length+1>e.max)return;m<0&&p?v.push(h):m>=0&&!p&&v.splice(m,1),i.value=v}else{const v=i.value.includes(h);if(e.mandatory&&v)return;i.value=(p!=null?p:!v)?[h]:[]}}function d(h){if(e.multiple,i.value.length){const p=i.value[0],y=n.findIndex(b=>b.id===p);let v=(y+h)%n.length,m=n[v];for(;m.disabled&&v!==y;)v=(v+h)%n.length,m=n[v];if(m.disabled)return;i.value=[n[v].id]}else{const p=n.find(y=>!y.disabled);p&&(i.value=[p.id])}}const f={register:o,unregister:s,selected:i,select:c,disabled:Ee(e,"disabled"),prev:()=>d(n.length-1),next:()=>d(1),isSelected:h=>i.value.includes(h),selectedClass:P(()=>e.selectedClass),items:P(()=>n),getItemIndex:h=>ZX(n,h)};return rn(t,f),f}function ZX(e,t){const r=yM(e,[t]);return r.length?e.findIndex(n=>n.id===r[0]):-1}function yM(e,t){const r=[];return t.forEach(n=>{const i=e.find(o=>$c(n,o.value)),a=e[n];(i==null?void 0:i.value)!=null?r.push(i.id):a!=null&&r.push(a.id)}),r}function JX(e,t){const r=[];return t.forEach(n=>{const i=e.findIndex(a=>a.id===n);if(~i){const a=e[i];r.push(a.value!=null?a.value:i)}}),r}const vM=Symbol.for("vuetify:v-btn-toggle"),YX=ne({...fM(),...lg()},"VBtnToggle");Ce()({name:"VBtnToggle",props:YX(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:r}=t;const{isSelected:n,next:i,prev:a,select:o,selected:s}=cg(e,vM);return Ke(()=>{const u=M0.filterProps(e);return _(M0,jr({class:["v-btn-toggle",e.class]},u,{style:e.style}),{default:()=>{var c;return[(c=r.default)==null?void 0:c.call(r,{isSelected:n,next:i,prev:a,select:o,selected:s})]}})}),{next:i,prev:a,select:o}}});function mM(e,t){const r=xe(),n=He(!1);if(ng){const i=new IntersectionObserver(a=>{e==null||e(a,i),n.value=!!a.find(o=>o.isIntersecting)},t);Rn(()=>{i.disconnect()}),st(r,(a,o)=>{o&&(i.unobserve(o),n.value=!1),a&&i.observe(a)},{flush:"post"})}return{intersectionRef:r,isIntersecting:n}}function wf(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const r=xe(),n=xe();if(Sr){const i=new ResizeObserver(a=>{e==null||e(a,i),a.length&&(t==="content"?n.value=a[0].contentRect:n.value=a[0].target.getBoundingClientRect())});Rn(()=>{i.disconnect()}),st(r,(a,o)=>{o&&(i.unobserve(s0(o)),n.value=void 0),a&&i.observe(s0(a))},{flush:"post"})}return{resizeRef:r,contentRect:Mf(n)}}const QX=ne({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...Ve(),...Ic(),...rr({tag:"div"}),...qt()},"VProgressCircular"),_M=Ce()({name:"VProgressCircular",props:QX(),setup(e,t){let{slots:r}=t;const n=20,i=2*Math.PI*n,a=xe(),{themeClasses:o}=nr(e),{sizeClasses:s,sizeStyles:u}=Dc(e),{textColorClasses:c,textColorStyles:d}=Fi(Ee(e,"color")),{textColorClasses:f,textColorStyles:h}=Fi(Ee(e,"bgColor")),{intersectionRef:p,isIntersecting:y}=mM(),{resizeRef:v,contentRect:m}=wf(),b=P(()=>Math.max(0,Math.min(100,parseFloat(e.modelValue)))),O=P(()=>Number(e.width)),S=P(()=>u.value?Number(e.size):m.value?m.value.width:Math.max(O.value,32)),T=P(()=>n/(1-O.value/S.value)*2),x=P(()=>O.value/S.value*T.value),M=P(()=>Be((100-b.value)/100*i));return qu(()=>{p.value=a.value,v.value=a.value}),Ke(()=>_(e.tag,{ref:a,class:["v-progress-circular",{"v-progress-circular--indeterminate":!!e.indeterminate,"v-progress-circular--visible":y.value,"v-progress-circular--disable-shrink":e.indeterminate==="disable-shrink"},o.value,s.value,c.value,e.class],style:[u.value,d.value,e.style],role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":e.indeterminate?void 0:b.value},{default:()=>[_("svg",{style:{transform:`rotate(calc(-90deg + ${Number(e.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${T.value} ${T.value}`},[_("circle",{class:["v-progress-circular__underlay",f.value],style:h.value,fill:"transparent",cx:"50%",cy:"50%",r:n,"stroke-width":x.value,"stroke-dasharray":i,"stroke-dashoffset":0},null),_("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r:n,"stroke-width":x.value,"stroke-dasharray":i,"stroke-dashoffset":M.value},null)]),r.default&&_("div",{class:"v-progress-circular__content"},[r.default({value:b.value})])]})),{}}});const eZ={badge:"Badge",open:"Open",close:"Close",dismiss:"Dismiss",confirmEdit:{ok:"OK",cancel:"Cancel"},dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},dateRangeInput:{divider:"to"},datePicker:{itemsSelected:"{0} selected",range:{title:"Select dates",header:"Enter dates"},title:"Select date",header:"Enter date",input:{placeholder:"Enter date"}},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more",today:"Today"},input:{clear:"Clear {0}",prependAction:"{0} prepended action",appendAction:"{0} appended action",otp:"Please enter OTP character {0}"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},timePicker:{am:"AM",pm:"PM",title:"Select Time"},pagination:{ariaLabel:{root:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Go to page {0}",currentPage:"Page {0}, Current page",first:"First page",last:"Last page"}},stepper:{next:"Next",prev:"Previous"},rating:{ariaLabel:{item:"Rating {0} of {1}"}},loading:"Loading...",infiniteScroll:{loadMore:"Load more",empty:"No more"}},T0="$vuetify.",R0=(e,t)=>e.replace(/\{(\d+)\}/g,(r,n)=>String(t[+n])),gM=(e,t,r)=>function(n){for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];if(!n.startsWith(T0))return R0(n,a);const s=n.replace(T0,""),u=e.value&&r.value[e.value],c=t.value&&r.value[t.value];let d=mm(u,s,null);return d||(`${n}${e.value}`,d=mm(c,s,null)),d||(d=n),typeof d!="string"&&(d=n),R0(d,a)};function bM(e,t){return(r,n)=>new Intl.NumberFormat([e.value,t.value],n).format(r)}function xv(e,t,r){var i,a;const n=Cn(e,t,(i=e[t])!=null?i:r.value);return n.value=(a=e[t])!=null?a:r.value,st(r,o=>{e[t]==null&&(n.value=r.value)}),n}function wM(e){return t=>{const r=xv(t,"locale",e.current),n=xv(t,"fallback",e.fallback),i=xv(t,"messages",e.messages);return{name:"vuetify",current:r,fallback:n,messages:i,t:gM(r,n,i),n:bM(r,n),provide:wM({current:r,fallback:n,messages:i})}}}function tZ(e){var i,a;const t=He((i=e==null?void 0:e.locale)!=null?i:"en"),r=He((a=e==null?void 0:e.fallback)!=null?a:"en"),n=xe({en:eZ,...e==null?void 0:e.messages});return{name:"vuetify",current:t,fallback:r,messages:n,t:gM(t,r,n),n:bM(t,r),provide:wM({current:t,fallback:r,messages:n})}}const Of=Symbol.for("vuetify:locale");function rZ(e){return e.name!=null}function nZ(e){const t=(e==null?void 0:e.adapter)&&rZ(e==null?void 0:e.adapter)?e==null?void 0:e.adapter:tZ(e),r=aZ(t,e);return{...t,...r}}function OM(){const e=Et(Of);if(!e)throw new Error("[Vuetify] Could not find injected locale instance");return e}function iZ(){return{af:!1,ar:!0,bg:!1,ca:!1,ckb:!1,cs:!1,de:!1,el:!1,en:!1,es:!1,et:!1,fa:!0,fi:!1,fr:!1,hr:!1,hu:!1,he:!0,id:!1,it:!1,ja:!1,km:!1,ko:!1,lv:!1,lt:!1,nl:!1,no:!1,pl:!1,pt:!1,ro:!1,ru:!1,sk:!1,sl:!1,srCyrl:!1,srLatn:!1,sv:!1,th:!1,tr:!1,az:!1,uk:!1,vi:!1,zhHans:!1,zhHant:!1}}function aZ(e,t){var i;const r=xe((i=t==null?void 0:t.rtl)!=null?i:iZ()),n=P(()=>{var a;return(a=r.value[e.current.value])!=null?a:!1});return{isRtl:n,rtl:r,rtlClasses:P(()=>`v-locale--is-${n.value?"rtl":"ltr"}`)}}function _s(){const e=Et(Of);if(!e)throw new Error("[Vuetify] Could not find injected rtl instance");return{isRtl:e.isRtl,rtlClasses:e.rtlClasses}}const $0={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},dg=ne({location:String},"location");function fg(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2?arguments[2]:void 0;const{isRtl:n}=_s();return{locationStyles:P(()=>{if(!e.location)return{};const{side:a,align:o}=nX(e.location.split(" ").length>1?e.location:`${e.location} center`,n.value);function s(c){return r?r(c):0}const u={};return a!=="center"&&(t?u[$0[a]]=`calc(100% - ${s(a)}px)`:u[a]=0),o!=="center"?t?u[$0[o]]=`calc(100% - ${s(o)}px)`:u[o]=0:(a==="center"?u.top=u.left="50%":u[{top:"left",bottom:"left",left:"top",right:"top"}[a]]="50%",u.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[a]),u})}}const oZ=ne({absolute:Boolean,active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...Ve(),...dg({location:"top"}),...An(),...rr(),...qt()},"VProgressLinear"),sZ=Ce()({name:"VProgressLinear",props:oZ(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:r}=t;const n=Cn(e,"modelValue"),{isRtl:i,rtlClasses:a}=_s(),{themeClasses:o}=nr(e),{locationStyles:s}=fg(e),{textColorClasses:u,textColorStyles:c}=Fi(e,"color"),{backgroundColorClasses:d,backgroundColorStyles:f}=Lu(P(()=>e.bgColor||e.color)),{backgroundColorClasses:h,backgroundColorStyles:p}=Lu(e,"color"),{roundedClasses:y}=In(e),{intersectionRef:v,isIntersecting:m}=mM(),b=P(()=>parseInt(e.max,10)),O=P(()=>parseInt(e.height,10)),S=P(()=>parseFloat(e.bufferValue)/b.value*100),T=P(()=>parseFloat(n.value)/b.value*100),x=P(()=>i.value!==e.reverse),M=P(()=>e.indeterminate?"fade-transition":"slide-x-transition"),I=P(()=>e.bgOpacity==null?e.bgOpacity:parseFloat(e.bgOpacity));function C(A){if(!v.value)return;const{left:K,right:X,width:E}=v.value.getBoundingClientRect(),F=x.value?E-A.clientX+(X-E):A.clientX-K;n.value=Math.round(F/E*b.value)}return Ke(()=>_(e.tag,{ref:v,class:["v-progress-linear",{"v-progress-linear--absolute":e.absolute,"v-progress-linear--active":e.active&&m.value,"v-progress-linear--reverse":x.value,"v-progress-linear--rounded":e.rounded,"v-progress-linear--rounded-bar":e.roundedBar,"v-progress-linear--striped":e.striped},y.value,o.value,a.value,e.class],style:[{bottom:e.location==="bottom"?0:void 0,top:e.location==="top"?0:void 0,height:e.active?Be(O.value):0,"--v-progress-linear-height":Be(O.value),...e.absolute?s.value:{}},e.style],role:"progressbar","aria-hidden":e.active?"false":"true","aria-valuemin":"0","aria-valuemax":e.max,"aria-valuenow":e.indeterminate?void 0:T.value,onClick:e.clickable&&C},{default:()=>[e.stream&&_("div",{key:"stream",class:["v-progress-linear__stream",u.value],style:{...c.value,[x.value?"left":"right"]:Be(-O.value),borderTop:`${Be(O.value/2)} dotted`,opacity:I.value,top:`calc(50% - ${Be(O.value/4)})`,width:Be(100-S.value,"%"),"--v-progress-linear-stream-to":Be(O.value*(x.value?1:-1))}},null),_("div",{class:["v-progress-linear__background",d.value],style:[f.value,{opacity:I.value,width:Be(e.stream?S.value:100,"%")}]},null),_(Zo,{name:M.value},{default:()=>[e.indeterminate?_("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(A=>_("div",{key:A,class:["v-progress-linear__indeterminate",A,h.value],style:p.value},null))]):_("div",{class:["v-progress-linear__determinate",h.value],style:[p.value,{width:Be(T.value,"%")}]},null)]}),r.default&&_("div",{class:"v-progress-linear__content"},[r.default({value:T.value,buffer:S.value})])]})),{}}}),hg=ne({loading:[Boolean,String]},"loader");function pg(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xn();return{loaderClasses:P(()=>({[`${t}--loading`]:e.loading}))}}function SM(e,t){var n;let{slots:r}=t;return _("div",{class:`${e.name}__loader`},[((n=r.default)==null?void 0:n.call(r,{color:e.color,isActive:e.active}))||_(sZ,{absolute:e.absolute,active:e.active,color:e.color,height:"2",indeterminate:!0},null)])}const uZ=["static","relative","fixed","absolute","sticky"],PM=ne({position:{type:String,validator:e=>uZ.includes(e)}},"position");function jM(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xn();return{positionClasses:P(()=>e.position?`${t}--${e.position}`:void 0)}}function lZ(){const e=$r("useRoute");return P(()=>{var t;return(t=e==null?void 0:e.proxy)==null?void 0:t.$route})}function dy(e,t){var c,d;const r=f1("RouterLink"),n=P(()=>!!(e.href||e.to)),i=P(()=>(n==null?void 0:n.value)||f0(t,"click")||f0(e,"click"));if(typeof r=="string"||!("useLink"in r))return{isLink:n,isClickable:i,href:Ee(e,"href")};const a=P(()=>({...e,to:Ee(()=>e.to||"")})),o=r.useLink(a.value),s=P(()=>e.to?o:void 0),u=lZ();return{isLink:n,isClickable:i,route:(c=s.value)==null?void 0:c.route,navigate:(d=s.value)==null?void 0:d.navigate,isActive:P(()=>{var f,h,p,y,v;return s.value?e.exact?u.value?((v=s.value.isExactActive)==null?void 0:v.value)&&$c(s.value.route.value.query,u.value.query):(y=(p=s.value.isExactActive)==null?void 0:p.value)!=null?y:!1:(h=(f=s.value.isActive)==null?void 0:f.value)!=null?h:!1:!1}),href:P(()=>{var f;return e.to?(f=s.value)==null?void 0:f.route.value.href:e.href})}}const fy=ne({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");function cZ(e,t){st(()=>{var r;return(r=e.isActive)==null?void 0:r.value},r=>{e.isLink.value&&r&&t&&Ia(()=>{t(!0)})},{immediate:!0})}const Sm=Symbol("rippleStop"),dZ=80;function x0(e,t){e.style.transform=t,e.style.webkitTransform=t}function Pm(e){return e.constructor.name==="TouchEvent"}function CM(e){return e.constructor.name==="KeyboardEvent"}const fZ=function(e,t){var f;let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=0,i=0;if(!CM(e)){const h=t.getBoundingClientRect(),p=Pm(e)?e.touches[e.touches.length-1]:e;n=p.clientX-h.left,i=p.clientY-h.top}let a=0,o=.3;(f=t._ripple)!=null&&f.circle?(o=.15,a=t.clientWidth/2,a=r.center?a:a+Math.sqrt((n-a)**2+(i-a)**2)/4):a=Math.sqrt(t.clientWidth**2+t.clientHeight**2)/2;const s=`${(t.clientWidth-a*2)/2}px`,u=`${(t.clientHeight-a*2)/2}px`,c=r.center?s:`${n-a}px`,d=r.center?u:`${i-a}px`;return{radius:a,scale:o,x:c,y:d,centerX:s,centerY:u}},Sf={show(e,t){var p;let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!((p=t==null?void 0:t._ripple)!=null&&p.enabled))return;const n=document.createElement("span"),i=document.createElement("span");n.appendChild(i),n.className="v-ripple__container",r.class&&(n.className+=` ${r.class}`);const{radius:a,scale:o,x:s,y:u,centerX:c,centerY:d}=fZ(e,t,r),f=`${a*2}px`;i.className="v-ripple__animation",i.style.width=f,i.style.height=f,t.appendChild(n);const h=window.getComputedStyle(t);h&&h.position==="static"&&(t.style.position="relative",t.dataset.previousPosition="static"),i.classList.add("v-ripple__animation--enter"),i.classList.add("v-ripple__animation--visible"),x0(i,`translate(${s}, ${u}) scale3d(${o},${o},${o})`),i.dataset.activated=String(performance.now()),setTimeout(()=>{i.classList.remove("v-ripple__animation--enter"),i.classList.add("v-ripple__animation--in"),x0(i,`translate(${c}, ${d}) scale3d(1,1,1)`)},0)},hide(e){var a;if(!((a=e==null?void 0:e._ripple)!=null&&a.enabled))return;const t=e.getElementsByClassName("v-ripple__animation");if(t.length===0)return;const r=t[t.length-1];if(r.dataset.isHiding)return;r.dataset.isHiding="true";const n=performance.now()-Number(r.dataset.activated),i=Math.max(250-n,0);setTimeout(()=>{r.classList.remove("v-ripple__animation--in"),r.classList.add("v-ripple__animation--out"),setTimeout(()=>{var s;e.getElementsByClassName("v-ripple__animation").length===1&&e.dataset.previousPosition&&(e.style.position=e.dataset.previousPosition,delete e.dataset.previousPosition),((s=r.parentNode)==null?void 0:s.parentNode)===e&&e.removeChild(r.parentNode)},300)},i)}};function EM(e){return typeof e>"u"||!!e}function Uu(e){const t={},r=e.currentTarget;if(!(!(r!=null&&r._ripple)||r._ripple.touched||e[Sm])){if(e[Sm]=!0,Pm(e))r._ripple.touched=!0,r._ripple.isTouch=!0;else if(r._ripple.isTouch)return;if(t.center=r._ripple.centered||CM(e),r._ripple.class&&(t.class=r._ripple.class),Pm(e)){if(r._ripple.showTimerCommit)return;r._ripple.showTimerCommit=()=>{Sf.show(e,r,t)},r._ripple.showTimer=window.setTimeout(()=>{var n;(n=r==null?void 0:r._ripple)!=null&&n.showTimerCommit&&(r._ripple.showTimerCommit(),r._ripple.showTimerCommit=null)},dZ)}else Sf.show(e,r,t)}}function A0(e){e[Sm]=!0}function wr(e){const t=e.currentTarget;if(!!(t!=null&&t._ripple)){if(window.clearTimeout(t._ripple.showTimer),e.type==="touchend"&&t._ripple.showTimerCommit){t._ripple.showTimerCommit(),t._ripple.showTimerCommit=null,t._ripple.showTimer=window.setTimeout(()=>{wr(e)});return}window.setTimeout(()=>{t._ripple&&(t._ripple.touched=!1)}),Sf.hide(t)}}function MM(e){const t=e.currentTarget;!(t!=null&&t._ripple)||(t._ripple.showTimerCommit&&(t._ripple.showTimerCommit=null),window.clearTimeout(t._ripple.showTimer))}let Vu=!1;function TM(e){!Vu&&(e.keyCode===u0.enter||e.keyCode===u0.space)&&(Vu=!0,Uu(e))}function RM(e){Vu=!1,wr(e)}function $M(e){Vu&&(Vu=!1,wr(e))}function xM(e,t,r){var o;const{value:n,modifiers:i}=t,a=EM(n);if(a||Sf.hide(e),e._ripple=(o=e._ripple)!=null?o:{},e._ripple.enabled=a,e._ripple.centered=i.center,e._ripple.circle=i.circle,_m(n)&&n.class&&(e._ripple.class=n.class),a&&!r){if(i.stop){e.addEventListener("touchstart",A0,{passive:!0}),e.addEventListener("mousedown",A0);return}e.addEventListener("touchstart",Uu,{passive:!0}),e.addEventListener("touchend",wr,{passive:!0}),e.addEventListener("touchmove",MM,{passive:!0}),e.addEventListener("touchcancel",wr),e.addEventListener("mousedown",Uu),e.addEventListener("mouseup",wr),e.addEventListener("mouseleave",wr),e.addEventListener("keydown",TM),e.addEventListener("keyup",RM),e.addEventListener("blur",$M),e.addEventListener("dragstart",wr,{passive:!0})}else!a&&r&&AM(e)}function AM(e){e.removeEventListener("mousedown",Uu),e.removeEventListener("touchstart",Uu),e.removeEventListener("touchend",wr),e.removeEventListener("touchmove",MM),e.removeEventListener("touchcancel",wr),e.removeEventListener("mouseup",wr),e.removeEventListener("mouseleave",wr),e.removeEventListener("keydown",TM),e.removeEventListener("keyup",RM),e.removeEventListener("dragstart",wr),e.removeEventListener("blur",$M)}function hZ(e,t){xM(e,t,!1)}function pZ(e){delete e._ripple,AM(e)}function yZ(e,t){if(t.value===t.oldValue)return;const r=EM(t.oldValue);xM(e,t,r)}const hy={mounted:hZ,unmounted:pZ,updated:yZ},vZ=ne({active:{type:Boolean,default:void 0},symbol:{type:null,default:vM},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:Ye,appendIcon:Ye,block:Boolean,slim:Boolean,stacked:Boolean,ripple:{type:[Boolean,Object],default:!0},text:String,...ps(),...Ve(),...Qn(),...zc(),...vs(),...hM(),...hg(),...dg(),...PM(),...An(),...fy(),...Ic(),...rr({tag:"button"}),...qt(),...Zi({variant:"elevated"})},"VBtn"),I0=Ce()({name:"VBtn",props:vZ(),emits:{"group:selected":e=>!0},setup(e,t){let{attrs:r,slots:n}=t;const{themeClasses:i}=nr(e),{borderClasses:a}=ys(e),{colorClasses:o,colorStyles:s,variantClasses:u}=Fc(e),{densityClasses:c}=Xi(e),{dimensionStyles:d}=Nc(e),{elevationClasses:f}=ms(e),{loaderClasses:h}=pg(e),{locationStyles:p}=fg(e),{positionClasses:y}=jM(e),{roundedClasses:v}=In(e),{sizeClasses:m,sizeStyles:b}=Dc(e),O=pM(e,e.symbol,!1),S=dy(e,r),T=P(()=>{var A;return e.active!==void 0?e.active:S.isLink.value?(A=S.isActive)==null?void 0:A.value:O==null?void 0:O.isSelected.value}),x=P(()=>(O==null?void 0:O.disabled.value)||e.disabled),M=P(()=>e.variant==="elevated"&&!(e.disabled||e.flat||e.border)),I=P(()=>{if(!(e.value===void 0||typeof e.value=="symbol"))return Object(e.value)===e.value?JSON.stringify(e.value,null,0):e.value});function C(A){var K;x.value||S.isLink.value&&(A.metaKey||A.ctrlKey||A.shiftKey||A.button!==0||r.target==="_blank")||((K=S.navigate)==null||K.call(S,A),O==null||O.toggle())}return cZ(S,O==null?void 0:O.select),Ke(()=>{var H,oe;const A=S.isLink.value?"a":e.tag,K=!!(e.prependIcon||n.prepend),X=!!(e.appendIcon||n.append),E=!!(e.icon&&e.icon!==!0),F=(O==null?void 0:O.isSelected.value)&&(!S.isLink.value||((H=S.isActive)==null?void 0:H.value))||!O||((oe=S.isActive)==null?void 0:oe.value);return Er(_(A,{type:A==="a"?void 0:"button",class:["v-btn",O==null?void 0:O.selectedClass.value,{"v-btn--active":T.value,"v-btn--block":e.block,"v-btn--disabled":x.value,"v-btn--elevated":M.value,"v-btn--flat":e.flat,"v-btn--icon":!!e.icon,"v-btn--loading":e.loading,"v-btn--slim":e.slim,"v-btn--stacked":e.stacked},i.value,a.value,F?o.value:void 0,c.value,f.value,h.value,y.value,v.value,m.value,u.value,e.class],style:[F?s.value:void 0,d.value,p.value,b.value,e.style],"aria-busy":e.loading?!0:void 0,disabled:x.value||void 0,href:S.href.value,tabindex:e.loading?-1:void 0,onClick:C,value:I.value},{default:()=>{var re,ue;return[Bc(!0,"v-btn"),!e.icon&&K&&_("span",{key:"prepend",class:"v-btn__prepend"},[n.prepend?_(Jt,{key:"prepend-defaults",disabled:!e.prependIcon,defaults:{VIcon:{icon:e.prependIcon}}},n.prepend):_(Yt,{key:"prepend-icon",icon:e.prependIcon},null)]),_("span",{class:"v-btn__content","data-no-activator":""},[!n.default&&E?_(Yt,{key:"content-icon",icon:e.icon},null):_(Jt,{key:"content-defaults",disabled:!E,defaults:{VIcon:{icon:e.icon}}},{default:()=>{var ie,De;return[(De=(ie=n.default)==null?void 0:ie.call(n))!=null?De:e.text]}})]),!e.icon&&X&&_("span",{key:"append",class:"v-btn__append"},[n.append?_(Jt,{key:"append-defaults",disabled:!e.appendIcon,defaults:{VIcon:{icon:e.appendIcon}}},n.append):_(Yt,{key:"append-icon",icon:e.appendIcon},null)]),!!e.loading&&_("span",{key:"loader",class:"v-btn__loader"},[(ue=(re=n.loader)==null?void 0:re.call(n))!=null?ue:_(_M,{color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0,width:"2"},null)])]}}),[[hy,!x.value&&!!e.ripple,"",{center:!!e.icon}]])}),{group:O}}});const IM=Ce()({name:"VCardActions",props:Ve(),setup(e,t){let{slots:r}=t;return Ac({VBtn:{slim:!0,variant:"text"}}),Ke(()=>{var n;return _("div",{class:["v-card-actions",e.class],style:e.style},[(n=r.default)==null?void 0:n.call(r)])}),{}}}),mZ=xc("v-card-subtitle"),_Z=xc("v-card-title"),gZ=ne({appendAvatar:String,appendIcon:Ye,prependAvatar:String,prependIcon:Ye,subtitle:[String,Number],title:[String,Number],...Ve(),...Qn()},"VCardItem"),bZ=Ce()({name:"VCardItem",props:gZ(),setup(e,t){let{slots:r}=t;return Ke(()=>{var c;const n=!!(e.prependAvatar||e.prependIcon),i=!!(n||r.prepend),a=!!(e.appendAvatar||e.appendIcon),o=!!(a||r.append),s=!!(e.title!=null||r.title),u=!!(e.subtitle!=null||r.subtitle);return _("div",{class:["v-card-item",e.class],style:e.style},[i&&_("div",{key:"prepend",class:"v-card-item__prepend"},[r.prepend?_(Jt,{key:"prepend-defaults",disabled:!n,defaults:{VAvatar:{density:e.density,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon}}},r.prepend):_(rt,null,[e.prependAvatar&&_(Ka,{key:"prepend-avatar",density:e.density,image:e.prependAvatar},null),e.prependIcon&&_(Yt,{key:"prepend-icon",density:e.density,icon:e.prependIcon},null)])]),_("div",{class:"v-card-item__content"},[s&&_(_Z,{key:"title"},{default:()=>{var d,f;return[(f=(d=r.title)==null?void 0:d.call(r))!=null?f:e.title]}}),u&&_(mZ,{key:"subtitle"},{default:()=>{var d,f;return[(f=(d=r.subtitle)==null?void 0:d.call(r))!=null?f:e.subtitle]}}),(c=r.default)==null?void 0:c.call(r)]),o&&_("div",{key:"append",class:"v-card-item__append"},[r.append?_(Jt,{key:"append-defaults",disabled:!a,defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon}}},r.append):_(rt,null,[e.appendIcon&&_(Yt,{key:"append-icon",density:e.density,icon:e.appendIcon},null),e.appendAvatar&&_(Ka,{key:"append-avatar",density:e.density,image:e.appendAvatar},null)])])])}),{}}}),DM=xc("v-card-text"),wZ=ne({appendAvatar:String,appendIcon:Ye,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:Ye,ripple:{type:[Boolean,Object],default:!0},subtitle:[String,Number],text:[String,Number],title:[String,Number],...ps(),...Ve(),...Qn(),...zc(),...vs(),...hg(),...dg(),...PM(),...An(),...fy(),...rr(),...qt(),...Zi({variant:"elevated"})},"VCard"),OZ=Ce()({name:"VCard",directives:{Ripple:hy},props:wZ(),setup(e,t){let{attrs:r,slots:n}=t;const{themeClasses:i}=nr(e),{borderClasses:a}=ys(e),{colorClasses:o,colorStyles:s,variantClasses:u}=Fc(e),{densityClasses:c}=Xi(e),{dimensionStyles:d}=Nc(e),{elevationClasses:f}=ms(e),{loaderClasses:h}=pg(e),{locationStyles:p}=fg(e),{positionClasses:y}=jM(e),{roundedClasses:v}=In(e),m=dy(e,r),b=P(()=>e.link!==!1&&m.isLink.value),O=P(()=>!e.disabled&&e.link!==!1&&(e.link||m.isClickable.value));return Ke(()=>{const S=b.value?"a":e.tag,T=!!(n.title||e.title!=null),x=!!(n.subtitle||e.subtitle!=null),M=T||x,I=!!(n.append||e.appendAvatar||e.appendIcon),C=!!(n.prepend||e.prependAvatar||e.prependIcon),A=!!(n.image||e.image),K=M||C||I,X=!!(n.text||e.text!=null);return Er(_(S,{class:["v-card",{"v-card--disabled":e.disabled,"v-card--flat":e.flat,"v-card--hover":e.hover&&!(e.disabled||e.flat),"v-card--link":O.value},i.value,a.value,o.value,c.value,f.value,h.value,y.value,v.value,u.value,e.class],style:[s.value,d.value,p.value,e.style],href:m.href.value,onClick:O.value&&m.navigate,tabindex:e.disabled?-1:void 0},{default:()=>{var E;return[A&&_("div",{key:"image",class:"v-card__image"},[n.image?_(Jt,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},n.image):_(ug,{key:"image-img",cover:!0,src:e.image},null)]),_(SM,{name:"v-card",active:!!e.loading,color:typeof e.loading=="boolean"?void 0:e.loading},{default:n.loader}),K&&_(bZ,{key:"item",prependAvatar:e.prependAvatar,prependIcon:e.prependIcon,title:e.title,subtitle:e.subtitle,appendAvatar:e.appendAvatar,appendIcon:e.appendIcon},{default:n.item,prepend:n.prepend,title:n.title,subtitle:n.subtitle,append:n.append}),X&&_(DM,{key:"text"},{default:()=>{var F,H;return[(H=(F=n.text)==null?void 0:F.call(n))!=null?H:e.text]}}),(E=n.default)==null?void 0:E.call(n),n.actions&&_(IM,null,{default:n.actions}),Bc(O.value,"v-card")]}}),[[Gu("ripple"),O.value&&e.ripple]])}),{}}});const SZ=ne({disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:String,origin:String},"transition");function xr(e,t,r){return Ce()({name:e,props:SZ({mode:r,origin:t}),setup(n,i){let{slots:a}=i;const o={onBeforeEnter(s){n.origin&&(s.style.transformOrigin=n.origin)},onLeave(s){if(n.leaveAbsolute){const{offsetTop:u,offsetLeft:c,offsetWidth:d,offsetHeight:f}=s;s._transitionInitialStyles={position:s.style.position,top:s.style.top,left:s.style.left,width:s.style.width,height:s.style.height},s.style.position="absolute",s.style.top=`${u}px`,s.style.left=`${c}px`,s.style.width=`${d}px`,s.style.height=`${f}px`}n.hideOnLeave&&s.style.setProperty("display","none","important")},onAfterLeave(s){if(n.leaveAbsolute&&(s==null?void 0:s._transitionInitialStyles)){const{position:u,top:c,left:d,width:f,height:h}=s._transitionInitialStyles;delete s._transitionInitialStyles,s.style.position=u||"",s.style.top=c||"",s.style.left=d||"",s.style.width=f||"",s.style.height=h||""}}};return()=>{const s=n.group?iS:Zo;return Xo(s,{name:n.disabled?"":e,css:!n.disabled,...n.group?void 0:{mode:n.mode},...n.disabled?{}:o},a.default)}}})}function zM(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return Ce()({name:e,props:{mode:{type:String,default:r},disabled:Boolean},setup(n,i){let{slots:a}=i;return()=>Xo(Zo,{name:n.disabled?"":e,css:!n.disabled,...n.disabled?{}:t},a.default)}})}function NM(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const r=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",n=Br(`offset-${r}`);return{onBeforeEnter(o){o._parent=o.parentNode,o._initialStyle={transition:o.style.transition,overflow:o.style.overflow,[r]:o.style[r]}},onEnter(o){const s=o._initialStyle;o.style.setProperty("transition","none","important"),o.style.overflow="hidden";const u=`${o[n]}px`;o.style[r]="0",o.offsetHeight,o.style.transition=s.transition,e&&o._parent&&o._parent.classList.add(e),requestAnimationFrame(()=>{o.style[r]=u})},onAfterEnter:a,onEnterCancelled:a,onLeave(o){o._initialStyle={transition:"",overflow:o.style.overflow,[r]:o.style[r]},o.style.overflow="hidden",o.style[r]=`${o[n]}px`,o.offsetHeight,requestAnimationFrame(()=>o.style[r]="0")},onAfterLeave:i,onLeaveCancelled:i};function i(o){e&&o._parent&&o._parent.classList.remove(e),a(o)}function a(o){const s=o._initialStyle[r];o.style.overflow=o._initialStyle.overflow,s!=null&&(o.style[r]=s),delete o._initialStyle}}xr("fab-transition","center center","out-in");xr("dialog-bottom-transition");xr("dialog-top-transition");const D0=xr("fade-transition");xr("scale-transition");xr("scroll-x-transition");xr("scroll-x-reverse-transition");xr("scroll-y-transition");xr("scroll-y-reverse-transition");xr("slide-x-transition");xr("slide-x-reverse-transition");const BM=xr("slide-y-transition");xr("slide-y-reverse-transition");const PZ=zM("expand-transition",NM()),FM=zM("expand-x-transition",NM("",!0));const jm=Symbol.for("vuetify:display"),z0={mobileBreakpoint:"lg",thresholds:{xs:0,sm:600,md:960,lg:1280,xl:1920,xxl:2560}},jZ=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:z0;return Pr(z0,e)};function N0(e){return Sr&&!e?window.innerWidth:typeof e=="object"&&e.clientWidth||0}function B0(e){return Sr&&!e?window.innerHeight:typeof e=="object"&&e.clientHeight||0}function F0(e){const t=Sr&&!e?window.navigator.userAgent:"ssr";function r(y){return Boolean(t.match(y))}const n=r(/android/i),i=r(/iphone|ipad|ipod/i),a=r(/cordova/i),o=r(/electron/i),s=r(/chrome/i),u=r(/edge/i),c=r(/firefox/i),d=r(/opera/i),f=r(/win/i),h=r(/mac/i),p=r(/linux/i);return{android:n,ios:i,cordova:a,electron:o,chrome:s,edge:u,firefox:c,opera:d,win:f,mac:h,linux:p,touch:WW,ssr:t==="ssr"}}function CZ(e,t){const{thresholds:r,mobileBreakpoint:n}=jZ(e),i=He(B0(t)),a=He(F0(t)),o=br({}),s=He(N0(t));function u(){i.value=B0(),s.value=N0()}function c(){u(),a.value=F0()}return qu(()=>{const d=s.value<r.sm,f=s.value<r.md&&!d,h=s.value<r.lg&&!(f||d),p=s.value<r.xl&&!(h||f||d),y=s.value<r.xxl&&!(p||h||f||d),v=s.value>=r.xxl,m=d?"xs":f?"sm":h?"md":p?"lg":y?"xl":"xxl",b=typeof n=="number"?n:r[n],O=s.value<b;o.xs=d,o.sm=f,o.md=h,o.lg=p,o.xl=y,o.xxl=v,o.smAndUp=!d,o.mdAndUp=!(d||f),o.lgAndUp=!(d||f||h),o.xlAndUp=!(d||f||h||p),o.smAndDown=!(h||p||y||v),o.mdAndDown=!(p||y||v),o.lgAndDown=!(y||v),o.xlAndDown=!v,o.name=m,o.height=i.value,o.width=s.value,o.mobile=O,o.mobileBreakpoint=n,o.platform=a.value,o.thresholds=r}),Sr&&window.addEventListener("resize",u,{passive:!0}),{...Km(o),update:c,ssr:!!t}}const EZ=ne({mobileBreakpoint:[Number,String]},"display");function MZ(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xn();const r=Et(jm);if(!r)throw new Error("Could not find Vuetify display injection");const n=P(()=>{if(!e.mobileBreakpoint)return r.mobile.value;const a=typeof e.mobileBreakpoint=="number"?e.mobileBreakpoint:r.thresholds.value[e.mobileBreakpoint];return r.width.value<a}),i=P(()=>t?{[`${t}--mobile`]:n.value}:{});return{...r,displayClasses:i,mobile:n}}function L0(e){const r=Math.abs(e);return Math.sign(e)*(r/((1/.501-2)*(1-r)+1))}function U0(e){let{selectedElement:t,containerSize:r,contentSize:n,isRtl:i,currentScrollOffset:a,isHorizontal:o}=e;const s=o?t.clientWidth:t.clientHeight,u=o?t.offsetLeft:t.offsetTop,c=i&&o?n-u-s:u,d=r+a,f=s+c,h=s*.4;return c<=a?a=Math.max(c-h,0):d<=f&&(a=Math.min(a-(d-f-h),n-r)),a}function TZ(e){let{selectedElement:t,containerSize:r,contentSize:n,isRtl:i,isHorizontal:a}=e;const o=a?t.clientWidth:t.clientHeight,s=a?t.offsetLeft:t.offsetTop,u=i&&a?n-s-o/2-r/2:s+o/2-r/2;return Math.min(n-r,Math.max(0,u))}const RZ=Symbol.for("vuetify:v-slide-group"),LM=ne({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:RZ},nextIcon:{type:Ye,default:"$next"},prevIcon:{type:Ye,default:"$prev"},showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["always","desktop","mobile"].includes(e)},...Ve(),...EZ(),...rr(),...lg({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),V0=Ce()({name:"VSlideGroup",props:LM(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:r}=t;const{isRtl:n}=_s(),{displayClasses:i,mobile:a}=MZ(e),o=cg(e,e.symbol),s=He(!1),u=He(0),c=He(0),d=He(0),f=P(()=>e.direction==="horizontal"),{resizeRef:h,contentRect:p}=wf(),{resizeRef:y,contentRect:v}=wf(),m=P(()=>o.selected.value.length?o.items.value.findIndex(Y=>Y.id===o.selected.value[0]):-1),b=P(()=>o.selected.value.length?o.items.value.findIndex(Y=>Y.id===o.selected.value[o.selected.value.length-1]):-1);if(Sr){let Y=-1;st(()=>[o.selected.value,p.value,v.value,f.value],()=>{cancelAnimationFrame(Y),Y=requestAnimationFrame(()=>{if(p.value&&v.value){const ee=f.value?"width":"height";c.value=p.value[ee],d.value=v.value[ee],s.value=c.value+1<d.value}if(m.value>=0&&y.value){const ee=y.value.children[b.value];m.value===0||!s.value?u.value=0:e.centerActive?u.value=TZ({selectedElement:ee,containerSize:c.value,contentSize:d.value,isRtl:n.value,isHorizontal:f.value}):s.value&&(u.value=U0({selectedElement:ee,containerSize:c.value,contentSize:d.value,isRtl:n.value,currentScrollOffset:u.value,isHorizontal:f.value}))}})})}const O=He(!1);let S=0,T=0;function x(Y){const ee=f.value?"clientX":"clientY";T=(n.value&&f.value?-1:1)*u.value,S=Y.touches[0][ee],O.value=!0}function M(Y){if(!s.value)return;const ee=f.value?"clientX":"clientY",ze=n.value&&f.value?-1:1;u.value=ze*(T+S-Y.touches[0][ee])}function I(Y){const ee=d.value-c.value;u.value<0||!s.value?u.value=0:u.value>=ee&&(u.value=ee),O.value=!1}function C(){!h.value||(h.value[f.value?"scrollLeft":"scrollTop"]=0)}const A=He(!1);function K(Y){if(A.value=!0,!(!s.value||!y.value)){for(const ee of Y.composedPath())for(const ze of y.value.children)if(ze===ee){u.value=U0({selectedElement:ze,containerSize:c.value,contentSize:d.value,isRtl:n.value,currentScrollOffset:u.value,isHorizontal:f.value});return}}}function X(Y){A.value=!1}function E(Y){var ee;!A.value&&!(Y.relatedTarget&&((ee=y.value)==null?void 0:ee.contains(Y.relatedTarget)))&&H()}function F(Y){!y.value||(f.value?Y.key==="ArrowRight"?H(n.value?"prev":"next"):Y.key==="ArrowLeft"&&H(n.value?"next":"prev"):Y.key==="ArrowDown"?H("next"):Y.key==="ArrowUp"&&H("prev"),Y.key==="Home"?H("first"):Y.key==="End"&&H("last"))}function H(Y){var ee,ze,Mt,Tt,je;if(!!y.value)if(!Y)(ee=QE(y.value)[0])==null||ee.focus();else if(Y==="next"){const R=(ze=y.value.querySelector(":focus"))==null?void 0:ze.nextElementSibling;R?R.focus():H("first")}else if(Y==="prev"){const R=(Mt=y.value.querySelector(":focus"))==null?void 0:Mt.previousElementSibling;R?R.focus():H("last")}else Y==="first"?(Tt=y.value.firstElementChild)==null||Tt.focus():Y==="last"&&((je=y.value.lastElementChild)==null||je.focus())}function oe(Y){const ee=u.value+(Y==="prev"?-1:1)*c.value;u.value=ZE(ee,0,d.value-c.value)}const re=P(()=>{let Y=u.value>d.value-c.value?-(d.value-c.value)+L0(d.value-c.value-u.value):-u.value;u.value<=0&&(Y=L0(-u.value));const ee=n.value&&f.value?-1:1;return{transform:`translate${f.value?"X":"Y"}(${ee*Y}px)`,transition:O.value?"none":"",willChange:O.value?"transform":""}}),ue=P(()=>({next:o.next,prev:o.prev,select:o.select,isSelected:o.isSelected})),ie=P(()=>{switch(e.showArrows){case"always":return!0;case"desktop":return!a.value;case!0:return s.value||Math.abs(u.value)>0;case"mobile":return a.value||s.value||Math.abs(u.value)>0;default:return!a.value&&(s.value||Math.abs(u.value)>0)}}),De=P(()=>Math.abs(u.value)>0),le=P(()=>d.value>Math.abs(u.value)+c.value);return Ke(()=>_(e.tag,{class:["v-slide-group",{"v-slide-group--vertical":!f.value,"v-slide-group--has-affixes":ie.value,"v-slide-group--is-overflowing":s.value},i.value,e.class],style:e.style,tabindex:A.value||o.selected.value.length?-1:0,onFocus:E},{default:()=>{var Y,ee,ze,Mt,Tt;return[ie.value&&_("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!De.value}],onClick:()=>De.value&&oe("prev")},[(ee=(Y=r.prev)==null?void 0:Y.call(r,ue.value))!=null?ee:_(D0,null,{default:()=>[_(Yt,{icon:n.value?e.nextIcon:e.prevIcon},null)]})]),_("div",{key:"container",ref:h,class:"v-slide-group__container",onScroll:C},[_("div",{ref:y,class:"v-slide-group__content",style:re.value,onTouchstartPassive:x,onTouchmovePassive:M,onTouchendPassive:I,onFocusin:K,onFocusout:X,onKeydown:F},[(ze=r.default)==null?void 0:ze.call(r,ue.value)])]),ie.value&&_("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!le.value}],onClick:()=>le.value&&oe("next")},[(Tt=(Mt=r.next)==null?void 0:Mt.call(r,ue.value))!=null?Tt:_(D0,null,{default:()=>[_(Yt,{icon:n.value?e.prevIcon:e.nextIcon},null)]})])]}})),{selected:o.selected,scrollTo:oe,scrollOffset:u,focus:H}}}),UM=Symbol.for("vuetify:v-chip-group"),$Z=ne({column:Boolean,filter:Boolean,valueComparator:{type:Function,default:$c},...LM(),...Ve(),...lg({selectedClass:"v-chip--selected"}),...rr(),...qt(),...Zi({variant:"tonal"})},"VChipGroup");Ce()({name:"VChipGroup",props:$Z(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:r}=t;const{themeClasses:n}=nr(e),{isSelected:i,select:a,next:o,prev:s,selected:u}=cg(e,UM);return Ac({VChip:{color:Ee(e,"color"),disabled:Ee(e,"disabled"),filter:Ee(e,"filter"),variant:Ee(e,"variant")}}),Ke(()=>{const c=V0.filterProps(e);return _(V0,jr(c,{class:["v-chip-group",{"v-chip-group--column":e.column},n.value,e.class],style:e.style}),{default:()=>{var d;return[(d=r.default)==null?void 0:d.call(r,{isSelected:i,select:a,next:o,prev:s,selected:u.value})]}})}),{}}});const xZ=ne({activeClass:String,appendAvatar:String,appendIcon:Ye,closable:Boolean,closeIcon:{type:Ye,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:Ye,ripple:{type:[Boolean,Object],default:!0},text:String,modelValue:{type:Boolean,default:!0},onClick:Qr(),onClickOnce:Qr(),...ps(),...Ve(),...Qn(),...vs(),...hM(),...An(),...fy(),...Ic(),...rr({tag:"span"}),...qt(),...Zi({variant:"tonal"})},"VChip"),AZ=Ce()({name:"VChip",directives:{Ripple:hy},props:xZ(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0,"group:selected":e=>!0,click:e=>!0},setup(e,t){let{attrs:r,emit:n,slots:i}=t;const{t:a}=OM(),{borderClasses:o}=ys(e),{colorClasses:s,colorStyles:u,variantClasses:c}=Fc(e),{densityClasses:d}=Xi(e),{elevationClasses:f}=ms(e),{roundedClasses:h}=In(e),{sizeClasses:p}=Dc(e),{themeClasses:y}=nr(e),v=Cn(e,"modelValue"),m=pM(e,UM,!1),b=dy(e,r),O=P(()=>e.link!==!1&&b.isLink.value),S=P(()=>!e.disabled&&e.link!==!1&&(!!m||e.link||b.isClickable.value)),T=P(()=>({"aria-label":a(e.closeLabel),onClick(I){I.preventDefault(),I.stopPropagation(),v.value=!1,n("click:close",I)}}));function x(I){var C;n("click",I),S.value&&((C=b.navigate)==null||C.call(b,I),m==null||m.toggle())}function M(I){(I.key==="Enter"||I.key===" ")&&(I.preventDefault(),x(I))}return()=>{const I=b.isLink.value?"a":e.tag,C=!!(e.appendIcon||e.appendAvatar),A=!!(C||i.append),K=!!(i.close||e.closable),X=!!(i.filter||e.filter)&&m,E=!!(e.prependIcon||e.prependAvatar),F=!!(E||i.prepend),H=!m||m.isSelected.value;return v.value&&Er(_(I,{class:["v-chip",{"v-chip--disabled":e.disabled,"v-chip--label":e.label,"v-chip--link":S.value,"v-chip--filter":X,"v-chip--pill":e.pill},y.value,o.value,H?s.value:void 0,d.value,f.value,h.value,p.value,c.value,m==null?void 0:m.selectedClass.value,e.class],style:[H?u.value:void 0,e.style],disabled:e.disabled||void 0,draggable:e.draggable,href:b.href.value,tabindex:S.value?0:void 0,onClick:x,onKeydown:S.value&&!O.value&&M},{default:()=>{var oe,re;return[Bc(S.value,"v-chip"),X&&_(FM,{key:"filter"},{default:()=>[Er(_("div",{class:"v-chip__filter"},[i.filter?_(Jt,{key:"filter-defaults",disabled:!e.filterIcon,defaults:{VIcon:{icon:e.filterIcon}}},i.filter):_(Yt,{key:"filter-icon",icon:e.filterIcon},null)]),[[Da,m.isSelected.value]])]}),F&&_("div",{key:"prepend",class:"v-chip__prepend"},[i.prepend?_(Jt,{key:"prepend-defaults",disabled:!E,defaults:{VAvatar:{image:e.prependAvatar,start:!0},VIcon:{icon:e.prependIcon,start:!0}}},i.prepend):_(rt,null,[e.prependIcon&&_(Yt,{key:"prepend-icon",icon:e.prependIcon,start:!0},null),e.prependAvatar&&_(Ka,{key:"prepend-avatar",image:e.prependAvatar,start:!0},null)])]),_("div",{class:"v-chip__content","data-no-activator":""},[(re=(oe=i.default)==null?void 0:oe.call(i,{isSelected:m==null?void 0:m.isSelected.value,selectedClass:m==null?void 0:m.selectedClass.value,select:m==null?void 0:m.select,toggle:m==null?void 0:m.toggle,value:m==null?void 0:m.value.value,disabled:e.disabled}))!=null?re:e.text]),A&&_("div",{key:"append",class:"v-chip__append"},[i.append?_(Jt,{key:"append-defaults",disabled:!C,defaults:{VAvatar:{end:!0,image:e.appendAvatar},VIcon:{end:!0,icon:e.appendIcon}}},i.append):_(rt,null,[e.appendIcon&&_(Yt,{key:"append-icon",end:!0,icon:e.appendIcon},null),e.appendAvatar&&_(Ka,{key:"append-avatar",end:!0,image:e.appendAvatar},null)])]),K&&_("button",jr({key:"close",class:"v-chip__close",type:"button"},T.value),[i.close?_(Jt,{key:"close-defaults",defaults:{VIcon:{icon:e.closeIcon,size:"x-small"}}},i.close):_(Yt,{key:"close-icon",icon:e.closeIcon,size:"x-small"},null)])]}}),[[Gu("ripple"),S.value&&e.ripple,null]])}}});const Cm=Symbol.for("vuetify:list");function VM(){const e=Et(Cm,{hasPrepend:He(!1),updateHasPrepend:()=>null}),t={hasPrepend:He(!1),updateHasPrepend:r=>{r&&(t.hasPrepend.value=r)}};return rn(Cm,t),e}function KM(){return Et(Cm,null)}const yg=e=>{const t={activate:r=>{let{id:n,value:i,activated:a}=r;return n=fe(n),e&&!i&&a.size===1&&a.has(n)||(i?a.add(n):a.delete(n)),a},in:(r,n,i)=>{let a=new Set;for(const o of r||[])a=t.activate({id:o,value:!0,activated:new Set(a),children:n,parents:i});return a},out:r=>Array.from(r)};return t},HM=e=>{const t=yg(e);return{activate:n=>{let{activated:i,id:a,...o}=n;a=fe(a);const s=i.has(a)?new Set([a]):new Set;return t.activate({...o,id:a,activated:s})},in:(n,i,a)=>{let o=new Set;return n!=null&&n.length&&(o=t.in(n.slice(0,1),i,a)),o},out:(n,i,a)=>t.out(n,i,a)}},IZ=e=>{const t=yg(e);return{activate:n=>{let{id:i,activated:a,children:o,...s}=n;return i=fe(i),o.has(i)?a:t.activate({id:i,activated:a,children:o,...s})},in:t.in,out:t.out}},DZ=e=>{const t=HM(e);return{activate:n=>{let{id:i,activated:a,children:o,...s}=n;return i=fe(i),o.has(i)?a:t.activate({id:i,activated:a,children:o,...s})},in:t.in,out:t.out}},zZ={open:e=>{let{id:t,value:r,opened:n,parents:i}=e;if(r){const a=new Set;a.add(t);let o=i.get(t);for(;o!=null;)a.add(o),o=i.get(o);return a}else return n.delete(t),n},select:()=>null},GM={open:e=>{let{id:t,value:r,opened:n,parents:i}=e;if(r){let a=i.get(t);for(n.add(t);a!=null&&a!==t;)n.add(a),a=i.get(a);return n}else n.delete(t);return n},select:()=>null},NZ={open:GM.open,select:e=>{let{id:t,value:r,opened:n,parents:i}=e;if(!r)return n;const a=[];let o=i.get(t);for(;o!=null;)a.push(o),o=i.get(o);return new Set(a)}},vg=e=>{const t={select:r=>{let{id:n,value:i,selected:a}=r;if(n=fe(n),e&&!i){const o=Array.from(a.entries()).reduce((s,u)=>{let[c,d]=u;return d==="on"&&s.push(c),s},[]);if(o.length===1&&o[0]===n)return a}return a.set(n,i?"on":"off"),a},in:(r,n,i)=>{let a=new Map;for(const o of r||[])a=t.select({id:o,value:!0,selected:new Map(a),children:n,parents:i});return a},out:r=>{const n=[];for(const[i,a]of r.entries())a==="on"&&n.push(i);return n}};return t},qM=e=>{const t=vg(e);return{select:n=>{let{selected:i,id:a,...o}=n;a=fe(a);const s=i.has(a)?new Map([[a,i.get(a)]]):new Map;return t.select({...o,id:a,selected:s})},in:(n,i,a)=>{let o=new Map;return n!=null&&n.length&&(o=t.in(n.slice(0,1),i,a)),o},out:(n,i,a)=>t.out(n,i,a)}},BZ=e=>{const t=vg(e);return{select:n=>{let{id:i,selected:a,children:o,...s}=n;return i=fe(i),o.has(i)?a:t.select({id:i,selected:a,children:o,...s})},in:t.in,out:t.out}},FZ=e=>{const t=qM(e);return{select:n=>{let{id:i,selected:a,children:o,...s}=n;return i=fe(i),o.has(i)?a:t.select({id:i,selected:a,children:o,...s})},in:t.in,out:t.out}},LZ=e=>{const t={select:r=>{let{id:n,value:i,selected:a,children:o,parents:s}=r;n=fe(n);const u=new Map(a),c=[n];for(;c.length;){const f=c.shift();a.set(f,i?"on":"off"),o.has(f)&&c.push(...o.get(f))}let d=s.get(n);for(;d;){const f=o.get(d),h=f.every(y=>a.get(y)==="on"),p=f.every(y=>!a.has(y)||a.get(y)==="off");a.set(d,h?"on":p?"off":"indeterminate"),d=s.get(d)}return e&&!i&&Array.from(a.entries()).reduce((h,p)=>{let[y,v]=p;return v==="on"&&h.push(y),h},[]).length===0?u:a},in:(r,n,i)=>{let a=new Map;for(const o of r||[])a=t.select({id:o,value:!0,selected:new Map(a),children:n,parents:i});return a},out:(r,n)=>{const i=[];for(const[a,o]of r.entries())o==="on"&&!n.has(a)&&i.push(a);return i}};return t},Ku=Symbol.for("vuetify:nested"),kM={id:He(),root:{register:()=>null,unregister:()=>null,parents:xe(new Map),children:xe(new Map),open:()=>null,openOnSelect:()=>null,activate:()=>null,select:()=>null,activatable:xe(!1),selectable:xe(!1),opened:xe(new Set),activated:xe(new Set),selected:xe(new Map),selectedValues:xe([])}},UZ=ne({activatable:Boolean,selectable:Boolean,activeStrategy:[String,Function],selectStrategy:[String,Function],openStrategy:[String,Object],opened:Array,activated:Array,selected:Array,mandatory:Boolean},"nested"),VZ=e=>{let t=!1;const r=xe(new Map),n=xe(new Map),i=Cn(e,"opened",e.opened,p=>new Set(p),p=>[...p.values()]),a=P(()=>{if(typeof e.activeStrategy=="object")return e.activeStrategy;switch(e.activeStrategy){case"leaf":return IZ(e.mandatory);case"single-leaf":return DZ(e.mandatory);case"independent":return yg(e.mandatory);case"single-independent":default:return HM(e.mandatory)}}),o=P(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;switch(e.selectStrategy){case"single-leaf":return FZ(e.mandatory);case"leaf":return BZ(e.mandatory);case"independent":return vg(e.mandatory);case"single-independent":return qM(e.mandatory);case"classic":default:return LZ(e.mandatory)}}),s=P(()=>{if(typeof e.openStrategy=="object")return e.openStrategy;switch(e.openStrategy){case"list":return NZ;case"single":return zZ;case"multiple":default:return GM}}),u=Cn(e,"activated",e.activated,p=>a.value.in(p,r.value,n.value),p=>a.value.out(p,r.value,n.value)),c=Cn(e,"selected",e.selected,p=>o.value.in(p,r.value,n.value),p=>o.value.out(p,r.value,n.value));Rn(()=>{t=!0});function d(p){const y=[];let v=p;for(;v!=null;)y.unshift(v),v=n.value.get(v);return y}const f=$r("nested"),h={id:He(),root:{opened:i,activatable:Ee(e,"activatable"),selectable:Ee(e,"selectable"),activated:u,selected:c,selectedValues:P(()=>{const p=[];for(const[y,v]of c.value.entries())v==="on"&&p.push(y);return p}),register:(p,y,v)=>{y&&p!==y&&n.value.set(p,y),v&&r.value.set(p,[]),y!=null&&r.value.set(y,[...r.value.get(y)||[],p])},unregister:p=>{var v;if(t)return;r.value.delete(p);const y=n.value.get(p);if(y){const m=(v=r.value.get(y))!=null?v:[];r.value.set(y,m.filter(b=>b!==p))}n.value.delete(p),i.value.delete(p)},open:(p,y,v)=>{f.emit("click:open",{id:p,value:y,path:d(p),event:v});const m=s.value.open({id:p,value:y,opened:new Set(i.value),children:r.value,parents:n.value,event:v});m&&(i.value=m)},openOnSelect:(p,y,v)=>{const m=s.value.select({id:p,value:y,selected:new Map(c.value),opened:new Set(i.value),children:r.value,parents:n.value,event:v});m&&(i.value=m)},select:(p,y,v)=>{f.emit("click:select",{id:p,value:y,path:d(p),event:v});const m=o.value.select({id:p,value:y,selected:new Map(c.value),children:r.value,parents:n.value,event:v});m&&(c.value=m),h.root.openOnSelect(p,y,v)},activate:(p,y,v)=>{if(!e.activatable)return h.root.select(p,!0,v);f.emit("click:activate",{id:p,value:y,path:d(p),event:v});const m=a.value.activate({id:p,value:y,activated:new Set(u.value),children:r.value,parents:n.value,event:v});m&&(u.value=m)},children:r,parents:n}};return rn(Ku,h),h.root},WM=(e,t)=>{const r=Et(Ku,kM),n=Symbol(Qa()),i=P(()=>e.value!==void 0?e.value:n),a={...r,id:i,open:(o,s)=>r.root.open(i.value,o,s),openOnSelect:(o,s)=>r.root.openOnSelect(i.value,o,s),isOpen:P(()=>r.root.opened.value.has(i.value)),parent:P(()=>r.root.parents.value.get(i.value)),activate:(o,s)=>r.root.activate(i.value,o,s),isActivated:P(()=>r.root.activated.value.has(fe(i.value))),select:(o,s)=>r.root.select(i.value,o,s),isSelected:P(()=>r.root.selected.value.get(fe(i.value))==="on"),isIndeterminate:P(()=>r.root.selected.value.get(i.value)==="indeterminate"),isLeaf:P(()=>!r.root.children.value.get(i.value)),isGroupActivator:r.isGroupActivator};return!r.isGroupActivator&&r.root.register(i.value,r.id.value,t),Rn(()=>{!r.isGroupActivator&&r.root.unregister(i.value)}),t&&rn(Ku,a),a},KZ=()=>{const e=Et(Ku,kM);rn(Ku,{...e,isGroupActivator:!0})};function XM(){const e=He(!1);return Wo(()=>{window.requestAnimationFrame(()=>{e.value=!0})}),{ssrBootStyles:P(()=>e.value?void 0:{transition:"none !important"}),isBooted:Mf(e)}}const HZ=hs({name:"VListGroupActivator",setup(e,t){let{slots:r}=t;return KZ(),()=>{var n;return(n=r.default)==null?void 0:n.call(r)}}}),GZ=ne({activeColor:String,baseColor:String,color:String,collapseIcon:{type:Ye,default:"$collapse"},expandIcon:{type:Ye,default:"$expand"},prependIcon:Ye,appendIcon:Ye,fluid:Boolean,subgroup:Boolean,title:String,value:null,...Ve(),...rr()},"VListGroup"),K0=Ce()({name:"VListGroup",props:GZ(),setup(e,t){let{slots:r}=t;const{isOpen:n,open:i,id:a}=WM(Ee(e,"value"),!0),o=P(()=>`v-list-group--id-${String(a.value)}`),s=KM(),{isBooted:u}=XM();function c(p){i(!n.value,p)}const d=P(()=>({onClick:c,class:"v-list-group__header",id:o.value})),f=P(()=>n.value?e.collapseIcon:e.expandIcon),h=P(()=>({VListItem:{active:n.value,activeColor:e.activeColor,baseColor:e.baseColor,color:e.color,prependIcon:e.prependIcon||e.subgroup&&f.value,appendIcon:e.appendIcon||!e.subgroup&&f.value,title:e.title,value:e.value}}));return Ke(()=>_(e.tag,{class:["v-list-group",{"v-list-group--prepend":s==null?void 0:s.hasPrepend.value,"v-list-group--fluid":e.fluid,"v-list-group--subgroup":e.subgroup,"v-list-group--open":n.value},e.class],style:e.style},{default:()=>[r.activator&&_(Jt,{defaults:h.value},{default:()=>[_(HZ,null,{default:()=>[r.activator({props:d.value,isOpen:n.value})]})]}),_(Pa,{transition:{component:PZ},disabled:!u.value},{default:()=>{var p;return[Er(_("div",{class:"v-list-group__items",role:"group","aria-labelledby":o.value},[(p=r.default)==null?void 0:p.call(r)]),[[Da,n.value]])]}})]})),{isOpen:n}}});const ZM=xc("v-list-item-subtitle"),zd=xc("v-list-item-title"),qZ=ne({active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:Ye,baseColor:String,disabled:Boolean,lines:String,link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:Ye,ripple:{type:[Boolean,Object],default:!0},slim:Boolean,subtitle:[String,Number],title:[String,Number],value:null,onClick:Qr(),onClickOnce:Qr(),...ps(),...Ve(),...Qn(),...zc(),...vs(),...An(),...fy(),...rr(),...qt(),...Zi({variant:"text"})},"VListItem"),fu=Ce()({name:"VListItem",directives:{Ripple:hy},props:qZ(),emits:{click:e=>!0},setup(e,t){let{attrs:r,slots:n,emit:i}=t;const a=dy(e,r),o=P(()=>e.value===void 0?a.href.value:e.value),{activate:s,isActivated:u,select:c,isSelected:d,isIndeterminate:f,isGroupActivator:h,root:p,parent:y,openOnSelect:v}=WM(o,!1),m=KM(),b=P(()=>{var le;return e.active!==!1&&(e.active||((le=a.isActive)==null?void 0:le.value)||(p.activatable.value?u.value:d.value))}),O=P(()=>e.link!==!1&&a.isLink.value),S=P(()=>!e.disabled&&e.link!==!1&&(e.link||a.isClickable.value||!!m&&(p.selectable.value||p.activatable.value||e.value!=null))),T=P(()=>e.rounded||e.nav),x=P(()=>{var le;return(le=e.color)!=null?le:e.activeColor}),M=P(()=>{var le;return{color:b.value&&(le=x.value)!=null?le:e.baseColor,variant:e.variant}});st(()=>{var le;return(le=a.isActive)==null?void 0:le.value},le=>{le&&y.value!=null&&p.open(y.value,!0),le&&v(le)},{immediate:!0});const{themeClasses:I}=nr(e),{borderClasses:C}=ys(e),{colorClasses:A,colorStyles:K,variantClasses:X}=Fc(M),{densityClasses:E}=Xi(e),{dimensionStyles:F}=Nc(e),{elevationClasses:H}=ms(e),{roundedClasses:oe}=In(T),re=P(()=>e.lines?`v-list-item--${e.lines}-line`:void 0),ue=P(()=>({isActive:b.value,select:c,isSelected:d.value,isIndeterminate:f.value}));function ie(le){var Y;i("click",le),!(h||!S.value)&&((Y=a.navigate)==null||Y.call(a,le),p.activatable.value?s(!u.value,le):(p.selectable.value||e.value!=null)&&c(!d.value,le))}function De(le){(le.key==="Enter"||le.key===" ")&&(le.preventDefault(),ie(le))}return Ke(()=>{const le=O.value?"a":e.tag,Y=n.title||e.title!=null,ee=n.subtitle||e.subtitle!=null,ze=!!(e.appendAvatar||e.appendIcon),Mt=!!(ze||n.append),Tt=!!(e.prependAvatar||e.prependIcon),je=!!(Tt||n.prepend);return m==null||m.updateHasPrepend(je),e.activeColor&&hX("active-color",["color","base-color"]),Er(_(le,{class:["v-list-item",{"v-list-item--active":b.value,"v-list-item--disabled":e.disabled,"v-list-item--link":S.value,"v-list-item--nav":e.nav,"v-list-item--prepend":!je&&(m==null?void 0:m.hasPrepend.value),"v-list-item--slim":e.slim,[`${e.activeClass}`]:e.activeClass&&b.value},I.value,C.value,A.value,E.value,H.value,re.value,oe.value,X.value,e.class],style:[K.value,F.value,e.style],href:a.href.value,tabindex:S.value?m?-2:0:void 0,onClick:ie,onKeydown:S.value&&!O.value&&De},{default:()=>{var R;return[Bc(S.value||b.value,"v-list-item"),je&&_("div",{key:"prepend",class:"v-list-item__prepend"},[n.prepend?_(Jt,{key:"prepend-defaults",disabled:!Tt,defaults:{VAvatar:{density:e.density,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon},VListItemAction:{start:!0}}},{default:()=>{var G;return[(G=n.prepend)==null?void 0:G.call(n,ue.value)]}}):_(rt,null,[e.prependAvatar&&_(Ka,{key:"prepend-avatar",density:e.density,image:e.prependAvatar},null),e.prependIcon&&_(Yt,{key:"prepend-icon",density:e.density,icon:e.prependIcon},null)]),_("div",{class:"v-list-item__spacer"},null)]),_("div",{class:"v-list-item__content","data-no-activator":""},[Y&&_(zd,{key:"title"},{default:()=>{var G,Le;return[(Le=(G=n.title)==null?void 0:G.call(n,{title:e.title}))!=null?Le:e.title]}}),ee&&_(ZM,{key:"subtitle"},{default:()=>{var G,Le;return[(Le=(G=n.subtitle)==null?void 0:G.call(n,{subtitle:e.subtitle}))!=null?Le:e.subtitle]}}),(R=n.default)==null?void 0:R.call(n,ue.value)]),Mt&&_("div",{key:"append",class:"v-list-item__append"},[n.append?_(Jt,{key:"append-defaults",disabled:!ze,defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon},VListItemAction:{end:!0}}},{default:()=>{var G;return[(G=n.append)==null?void 0:G.call(n,ue.value)]}}):_(rt,null,[e.appendIcon&&_(Yt,{key:"append-icon",density:e.density,icon:e.appendIcon},null),e.appendAvatar&&_(Ka,{key:"append-avatar",density:e.density,image:e.appendAvatar},null)]),_("div",{class:"v-list-item__spacer"},null)])]}}),[[Gu("ripple"),S.value&&e.ripple]])}),{isGroupActivator:h,isSelected:d,list:m,select:c}}}),kZ=ne({color:String,inset:Boolean,sticky:Boolean,title:String,...Ve(),...rr()},"VListSubheader"),WZ=Ce()({name:"VListSubheader",props:kZ(),setup(e,t){let{slots:r}=t;const{textColorClasses:n,textColorStyles:i}=Fi(Ee(e,"color"));return Ke(()=>{const a=!!(r.default||e.title);return _(e.tag,{class:["v-list-subheader",{"v-list-subheader--inset":e.inset,"v-list-subheader--sticky":e.sticky},n.value,e.class],style:[{textColorStyles:i},e.style]},{default:()=>{var o,s;return[a&&_("div",{class:"v-list-subheader__text"},[(s=(o=r.default)==null?void 0:o.call(r))!=null?s:e.title])]}})}),{}}});const XZ=ne({color:String,inset:Boolean,length:[Number,String],thickness:[Number,String],vertical:Boolean,...Ve(),...qt()},"VDivider"),ZZ=Ce()({name:"VDivider",props:XZ(),setup(e,t){let{attrs:r}=t;const{themeClasses:n}=nr(e),{textColorClasses:i,textColorStyles:a}=Fi(Ee(e,"color")),o=P(()=>{const s={};return e.length&&(s[e.vertical?"maxHeight":"maxWidth"]=Be(e.length)),e.thickness&&(s[e.vertical?"borderRightWidth":"borderTopWidth"]=Be(e.thickness)),s});return Ke(()=>_("hr",{class:[{"v-divider":!0,"v-divider--inset":e.inset,"v-divider--vertical":e.vertical},n.value,i.value,e.class],style:[o.value,a.value,e.style],"aria-orientation":!r.role||r.role==="separator"?e.vertical?"vertical":"horizontal":void 0,role:`${r.role||"separator"}`},null)),{}}}),JZ=ne({items:Array,returnObject:Boolean},"VListChildren"),JM=Ce()({name:"VListChildren",props:JZ(),setup(e,t){let{slots:r}=t;return VM(),()=>{var n,i,a;return(a=(n=r.default)==null?void 0:n.call(r))!=null?a:(i=e.items)==null?void 0:i.map(o=>{var p,y,v,m;let{children:s,props:u,type:c,raw:d}=o;if(c==="divider")return(y=(p=r.divider)==null?void 0:p.call(r,{props:u}))!=null?y:_(ZZ,u,null);if(c==="subheader")return(m=(v=r.subheader)==null?void 0:v.call(r,{props:u}))!=null?m:_(WZ,u,null);const f={subtitle:r.subtitle?b=>{var O;return(O=r.subtitle)==null?void 0:O.call(r,{...b,item:d})}:void 0,prepend:r.prepend?b=>{var O;return(O=r.prepend)==null?void 0:O.call(r,{...b,item:d})}:void 0,append:r.append?b=>{var O;return(O=r.append)==null?void 0:O.call(r,{...b,item:d})}:void 0,title:r.title?b=>{var O;return(O=r.title)==null?void 0:O.call(r,{...b,item:d})}:void 0},h=K0.filterProps(u);return s?_(K0,jr({value:u==null?void 0:u.value},h),{activator:b=>{let{props:O}=b;const S={...u,...O,value:e.returnObject?d:u.value};return r.header?r.header({props:S}):_(fu,S,f)},default:()=>_(JM,{items:s},r)}):r.item?r.item({props:u}):_(fu,jr(u,{value:e.returnObject?d:u.value}),f)})}}}),YZ=ne({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},returnObject:Boolean,valueComparator:{type:Function,default:$c}},"list-items");function QZ(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"}function eJ(e,t){const r=Ks(t,e.itemType,"item"),n=QZ(t)?t:Ks(t,e.itemTitle),i=Ks(t,e.itemValue,void 0),a=Ks(t,e.itemChildren),o=e.itemProps===!0?WE(t,["children"]):Ks(t,e.itemProps),s={title:n,value:i,...o};return{type:r,title:s.title,value:s.value,props:s,children:r==="item"&&a?YM(e,a):void 0,raw:t}}function YM(e,t){const r=[];for(const n of t)r.push(eJ(e,n));return r}function tJ(e){return{items:P(()=>YM(e,e.items))}}const rJ=ne({baseColor:String,activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,expandIcon:String,collapseIcon:String,lines:{type:[Boolean,String],default:"one"},slim:Boolean,nav:Boolean,...UZ({selectStrategy:"single-leaf",openStrategy:"list"}),...ps(),...Ve(),...Qn(),...zc(),...vs(),itemType:{type:String,default:"type"},...YZ(),...An(),...rr(),...qt(),...Zi({variant:"text"})},"VList"),nJ=Ce()({name:"VList",props:rJ(),emits:{"update:selected":e=>!0,"update:activated":e=>!0,"update:opened":e=>!0,"click:open":e=>!0,"click:activate":e=>!0,"click:select":e=>!0},setup(e,t){let{slots:r}=t;const{items:n}=tJ(e),{themeClasses:i}=nr(e),{backgroundColorClasses:a,backgroundColorStyles:o}=Lu(Ee(e,"bgColor")),{borderClasses:s}=ys(e),{densityClasses:u}=Xi(e),{dimensionStyles:c}=Nc(e),{elevationClasses:d}=ms(e),{roundedClasses:f}=In(e),{children:h,open:p,parents:y,select:v}=VZ(e),m=P(()=>e.lines?`v-list--${e.lines}-line`:void 0),b=Ee(e,"activeColor"),O=Ee(e,"baseColor"),S=Ee(e,"color");VM(),Ac({VListGroup:{activeColor:b,baseColor:O,color:S,expandIcon:Ee(e,"expandIcon"),collapseIcon:Ee(e,"collapseIcon")},VListItem:{activeClass:Ee(e,"activeClass"),activeColor:b,baseColor:O,color:S,density:Ee(e,"density"),disabled:Ee(e,"disabled"),lines:Ee(e,"lines"),nav:Ee(e,"nav"),slim:Ee(e,"slim"),variant:Ee(e,"variant")}});const T=He(!1),x=xe();function M(E){T.value=!0}function I(E){T.value=!1}function C(E){var F;!T.value&&!(E.relatedTarget&&((F=x.value)==null?void 0:F.contains(E.relatedTarget)))&&X()}function A(E){const F=E.target;if(!(!x.value||["INPUT","TEXTAREA"].includes(F.tagName))){if(E.key==="ArrowDown")X("next");else if(E.key==="ArrowUp")X("prev");else if(E.key==="Home")X("first");else if(E.key==="End")X("last");else return;E.preventDefault()}}function K(E){T.value=!0}function X(E){if(x.value)return eM(x.value,E)}return Ke(()=>_(e.tag,{ref:x,class:["v-list",{"v-list--disabled":e.disabled,"v-list--nav":e.nav,"v-list--slim":e.slim},i.value,a.value,s.value,u.value,d.value,m.value,f.value,e.class],style:[o.value,c.value,e.style],tabindex:e.disabled||T.value?-1:0,role:"listbox","aria-activedescendant":void 0,onFocusin:M,onFocusout:I,onFocus:C,onKeydown:A,onMousedown:K},{default:()=>[_(JM,{items:n.value,returnObject:e.returnObject},r)]})),{open:p,select:v,focus:X,children:h,parents:y}}});const iJ=ne({active:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...Ve(),...sg({transition:{component:BM}})},"VCounter"),aJ=Ce()({name:"VCounter",functional:!0,props:iJ(),setup(e,t){let{slots:r}=t;const n=P(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return Ke(()=>_(Pa,{transition:e.transition},{default:()=>[Er(_("div",{class:["v-counter",e.class],style:e.style},[r.default?r.default({counter:n.value,max:e.max,value:e.value}):n.value]),[[Da,e.active]])]})),{}}});const oJ=ne({text:String,onClick:Qr(),...Ve(),...qt()},"VLabel"),sJ=Ce()({name:"VLabel",props:oJ(),setup(e,t){let{slots:r}=t;return Ke(()=>{var n;return _("label",{class:["v-label",{"v-label--clickable":!!e.onClick},e.class],style:e.style,onClick:e.onClick},[e.text,(n=r.default)==null?void 0:n.call(r)])}),{}}}),uJ=ne({floating:Boolean,...Ve()},"VFieldLabel"),jd=Ce()({name:"VFieldLabel",props:uJ(),setup(e,t){let{slots:r}=t;return Ke(()=>_(sJ,{class:["v-field-label",{"v-field-label--floating":e.floating},e.class],style:e.style,"aria-hidden":e.floating||void 0},r)),{}}});function QM(e){const{t}=OM();function r(n){var u;let{name:i}=n;const a={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[i],o=e[`onClick:${i}`],s=o&&a?t(`$vuetify.input.${a}`,(u=e.label)!=null?u:""):void 0;return _(Yt,{icon:e[`${i}Icon`],"aria-label":s,onClick:o},null)}return{InputIcon:r}}const eT=ne({focused:Boolean,"onUpdate:focused":Qr()},"focus");function tT(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xn();const r=Cn(e,"focused"),n=P(()=>({[`${t}--focused`]:r.value}));function i(){r.value=!0}function a(){r.value=!1}return{focusClasses:n,isFocused:r,focus:i,blur:a}}const lJ=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],rT=ne({appendInnerIcon:Ye,bgColor:String,clearable:Boolean,clearIcon:{type:Ye,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:Ye,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>lJ.includes(e)},"onClick:clear":Qr(),"onClick:appendInner":Qr(),"onClick:prependInner":Qr(),...Ve(),...hg(),...An(),...qt()},"VField"),nT=Ce()({name:"VField",inheritAttrs:!1,props:{id:String,...eT(),...rT()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:r,emit:n,slots:i}=t;const{themeClasses:a}=nr(e),{loaderClasses:o}=pg(e),{focusClasses:s,isFocused:u,focus:c,blur:d}=tT(e),{InputIcon:f}=QM(e),{roundedClasses:h}=In(e),{rtlClasses:p}=_s(),y=P(()=>e.dirty||e.active),v=P(()=>!e.singleLine&&!!(e.label||i.label)),m=Qa(),b=P(()=>e.id||`input-${m}`),O=P(()=>`${b.value}-messages`),S=xe(),T=xe(),x=xe(),M=P(()=>["plain","underlined"].includes(e.variant)),{backgroundColorClasses:I,backgroundColorStyles:C}=Lu(Ee(e,"bgColor")),{textColorClasses:A,textColorStyles:K}=Fi(P(()=>e.error||e.disabled?void 0:y.value&&u.value?e.color:e.baseColor));st(y,H=>{if(v.value){const oe=S.value.$el,re=T.value.$el;requestAnimationFrame(()=>{const ue=iX(oe),ie=re.getBoundingClientRect(),De=ie.x-ue.x,le=ie.y-ue.y-(ue.height/2-ie.height/2),Y=ie.width/.75,ee=Math.abs(Y-ue.width)>1?{maxWidth:Be(Y)}:void 0,ze=getComputedStyle(oe),Mt=getComputedStyle(re),Tt=parseFloat(ze.transitionDuration)*1e3||150,je=parseFloat(Mt.getPropertyValue("--v-field-label-scale")),R=Mt.getPropertyValue("color");oe.style.visibility="visible",re.style.visibility="hidden",aX(oe,{transform:`translate(${De}px, ${le}px) scale(${je})`,color:R,...ee},{duration:Tt,easing:MX,direction:H?"normal":"reverse"}).finished.then(()=>{oe.style.removeProperty("visibility"),re.style.removeProperty("visibility")})})}},{flush:"post"});const X=P(()=>({isActive:y,isFocused:u,controlRef:x,blur:d,focus:c}));function E(H){H.target!==document.activeElement&&H.preventDefault()}function F(H){var oe;H.key!=="Enter"&&H.key!==" "||(H.preventDefault(),H.stopPropagation(),(oe=e["onClick:clear"])==null||oe.call(e,new MouseEvent("click")))}return Ke(()=>{var De,le,Y,ee;const H=e.variant==="outlined",oe=!!(i["prepend-inner"]||e.prependInnerIcon),re=!!(e.clearable||i.clear),ue=!!(i["append-inner"]||e.appendInnerIcon||re),ie=()=>i.label?i.label({...X.value,label:e.label,props:{for:b.value}}):e.label;return _("div",jr({class:["v-field",{"v-field--active":y.value,"v-field--appended":ue,"v-field--center-affix":(De=e.centerAffix)!=null?De:!M.value,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--flat":e.flat,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":oe,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!ie(),[`v-field--variant-${e.variant}`]:!0},a.value,I.value,s.value,o.value,h.value,p.value,e.class],style:[C.value,e.style],onClick:E},r),[_("div",{class:"v-field__overlay"},null),_(SM,{name:"v-field",active:!!e.loading,color:e.error?"error":typeof e.loading=="string"?e.loading:e.color},{default:i.loader}),oe&&_("div",{key:"prepend",class:"v-field__prepend-inner"},[e.prependInnerIcon&&_(f,{key:"prepend-icon",name:"prependInner"},null),(le=i["prepend-inner"])==null?void 0:le.call(i,X.value)]),_("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(e.variant)&&v.value&&_(jd,{key:"floating-label",ref:T,class:[A.value],floating:!0,for:b.value,style:K.value},{default:()=>[ie()]}),_(jd,{ref:S,for:b.value},{default:()=>[ie()]}),(Y=i.default)==null?void 0:Y.call(i,{...X.value,props:{id:b.value,class:"v-field__input","aria-describedby":O.value},focus:c,blur:d})]),re&&_(FM,{key:"clear"},{default:()=>[Er(_("div",{class:"v-field__clearable",onMousedown:ze=>{ze.preventDefault(),ze.stopPropagation()}},[_(Jt,{defaults:{VIcon:{icon:e.clearIcon}}},{default:()=>[i.clear?i.clear({...X.value,props:{onKeydown:F,onFocus:c,onBlur:d,onClick:e["onClick:clear"]}}):_(f,{name:"clear",onKeydown:F,onFocus:c,onBlur:d},null)]})]),[[Da,e.dirty]])]}),ue&&_("div",{key:"append",class:"v-field__append-inner"},[(ee=i["append-inner"])==null?void 0:ee.call(i,X.value),e.appendInnerIcon&&_(f,{key:"append-icon",name:"appendInner"},null)]),_("div",{class:["v-field__outline",A.value],style:K.value},[H&&_(rt,null,[_("div",{class:"v-field__outline__start"},null),v.value&&_("div",{class:"v-field__outline__notch"},[_(jd,{ref:T,floating:!0,for:b.value},{default:()=>[ie()]})]),_("div",{class:"v-field__outline__end"},null)]),M.value&&v.value&&_(jd,{ref:T,floating:!0,for:b.value},{default:()=>[ie()]})])])}),{controlRef:x}}});function cJ(e){const t=Object.keys(nT.props).filter(r=>!XW(r)&&r!=="class"&&r!=="style");return kE(e,t)}const dJ=ne({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...Ve(),...sg({transition:{component:BM,leaveAbsolute:!0,group:!0}})},"VMessages"),fJ=Ce()({name:"VMessages",props:dJ(),setup(e,t){let{slots:r}=t;const n=P(()=>cu(e.messages)),{textColorClasses:i,textColorStyles:a}=Fi(P(()=>e.color));return Ke(()=>_(Pa,{transition:e.transition,tag:"div",class:["v-messages",i.value,e.class],style:[a.value,e.style],role:"alert","aria-live":"polite"},{default:()=>[e.active&&n.value.map((o,s)=>_("div",{class:"v-messages__message",key:`${s}-${n.value}`},[r.message?r.message({message:o}):o]))]})),{}}}),hJ=Symbol.for("vuetify:form");function pJ(){return Et(hJ,null)}const yJ=ne({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...eT()},"validation");function vJ(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xn(),r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Qa();const n=Cn(e,"modelValue"),i=P(()=>e.validationValue===void 0?n.value:e.validationValue),a=pJ(),o=xe([]),s=He(!0),u=P(()=>!!(cu(n.value===""?null:n.value).length||cu(i.value===""?null:i.value).length)),c=P(()=>{var T;return!!((T=e.disabled)!=null?T:a==null?void 0:a.isDisabled.value)}),d=P(()=>{var T;return!!((T=e.readonly)!=null?T:a==null?void 0:a.isReadonly.value)}),f=P(()=>{var T;return(T=e.errorMessages)!=null&&T.length?cu(e.errorMessages).concat(o.value).slice(0,Math.max(0,+e.maxErrors)):o.value}),h=P(()=>{var M,I;let T=((M=e.validateOn)!=null?M:a==null?void 0:a.validateOn.value)||"input";T==="lazy"&&(T="input lazy");const x=new Set((I=T==null?void 0:T.split(" "))!=null?I:[]);return{blur:x.has("blur")||x.has("input"),input:x.has("input"),submit:x.has("submit"),lazy:x.has("lazy")}}),p=P(()=>{var T;return e.error||((T=e.errorMessages)==null?void 0:T.length)?!1:e.rules.length?s.value?o.value.length||h.value.lazy?null:!0:!o.value.length:!0}),y=He(!1),v=P(()=>({[`${t}--error`]:p.value===!1,[`${t}--dirty`]:u.value,[`${t}--disabled`]:c.value,[`${t}--readonly`]:d.value})),m=P(()=>{var T;return(T=e.name)!=null?T:On(r)});Zm(()=>{a==null||a.register({id:m.value,validate:S,reset:b,resetValidation:O})}),Rn(()=>{a==null||a.unregister(m.value)}),Wo(async()=>{h.value.lazy||await S(!0),a==null||a.update(m.value,p.value,f.value)}),Om(()=>h.value.input,()=>{st(i,()=>{if(i.value!=null)S();else if(e.focused){const T=st(()=>e.focused,x=>{x||S(),T()})}})}),Om(()=>h.value.blur,()=>{st(()=>e.focused,T=>{T||S()})}),st([p,f],()=>{a==null||a.update(m.value,p.value,f.value)});async function b(){n.value=null,await Ia(),await O()}async function O(){s.value=!0,h.value.lazy?o.value=[]:await S(!0)}async function S(){var M;let T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const x=[];y.value=!0;for(const I of e.rules){if(x.length>=+((M=e.maxErrors)!=null?M:1))break;const A=await(typeof I=="function"?I:()=>I)(i.value);if(A!==!0){if(A!==!1&&typeof A!="string"){console.warn(`${A} is not a valid value. Rule functions must return boolean true or a string.`);continue}x.push(A||"")}}return o.value=x,y.value=!1,s.value=T,o.value}return{errorMessages:f,isDirty:u,isDisabled:c,isReadonly:d,isPristine:s,isValid:p,isValidating:y,reset:b,resetValidation:O,validate:S,validationClasses:v}}const iT=ne({id:String,appendIcon:Ye,centerAffix:{type:Boolean,default:!0},prependIcon:Ye,hideDetails:[Boolean,String],hideSpinButtons:Boolean,hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:e=>["horizontal","vertical"].includes(e)},"onClick:prepend":Qr(),"onClick:append":Qr(),...Ve(),...Qn(),...qt(),...yJ()},"VInput"),H0=Ce()({name:"VInput",props:{...iT()},emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:r,slots:n,emit:i}=t;const{densityClasses:a}=Xi(e),{themeClasses:o}=nr(e),{rtlClasses:s}=_s(),{InputIcon:u}=QM(e),c=Qa(),d=P(()=>e.id||`input-${c}`),f=P(()=>`${d.value}-messages`),{errorMessages:h,isDirty:p,isDisabled:y,isReadonly:v,isPristine:m,isValid:b,isValidating:O,reset:S,resetValidation:T,validate:x,validationClasses:M}=vJ(e,"v-input",d),I=P(()=>({id:d,messagesId:f,isDirty:p,isDisabled:y,isReadonly:v,isPristine:m,isValid:b,isValidating:O,reset:S,resetValidation:T,validate:x})),C=P(()=>{var A;return((A=e.errorMessages)==null?void 0:A.length)||!m.value&&h.value.length?h.value:e.hint&&(e.persistentHint||e.focused)?e.hint:e.messages});return Ke(()=>{var F,H,oe,re;const A=!!(n.prepend||e.prependIcon),K=!!(n.append||e.appendIcon),X=C.value.length>0,E=!e.hideDetails||e.hideDetails==="auto"&&(X||!!n.details);return _("div",{class:["v-input",`v-input--${e.direction}`,{"v-input--center-affix":e.centerAffix,"v-input--hide-spin-buttons":e.hideSpinButtons},a.value,o.value,s.value,M.value,e.class],style:e.style},[A&&_("div",{key:"prepend",class:"v-input__prepend"},[(F=n.prepend)==null?void 0:F.call(n,I.value),e.prependIcon&&_(u,{key:"prepend-icon",name:"prepend"},null)]),n.default&&_("div",{class:"v-input__control"},[(H=n.default)==null?void 0:H.call(n,I.value)]),K&&_("div",{key:"append",class:"v-input__append"},[e.appendIcon&&_(u,{key:"append-icon",name:"append"},null),(oe=n.append)==null?void 0:oe.call(n,I.value)]),E&&_("div",{class:"v-input__details"},[_(fJ,{id:f.value,active:X,messages:C.value},{message:n.message}),(re=n.details)==null?void 0:re.call(n,I.value)])])}),{reset:S,resetValidation:T,validate:x,isValid:b,errorMessages:h}}}),Av=Symbol("Forwarded refs");function Iv(e,t){let r=e;for(;r;){const n=Reflect.getOwnPropertyDescriptor(r,t);if(n)return n;r=Object.getPrototypeOf(r)}}function mJ(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e[Av]=r,new Proxy(e,{get(i,a){if(Reflect.has(i,a))return Reflect.get(i,a);if(!(typeof a=="symbol"||a.startsWith("$")||a.startsWith("__"))){for(const o of r)if(o.value&&Reflect.has(o.value,a)){const s=Reflect.get(o.value,a);return typeof s=="function"?s.bind(o.value):s}}},has(i,a){if(Reflect.has(i,a))return!0;if(typeof a=="symbol"||a.startsWith("$")||a.startsWith("__"))return!1;for(const o of r)if(o.value&&Reflect.has(o.value,a))return!0;return!1},set(i,a,o){if(Reflect.has(i,a))return Reflect.set(i,a,o);if(typeof a=="symbol"||a.startsWith("$")||a.startsWith("__"))return!1;for(const s of r)if(s.value&&Reflect.has(s.value,a))return Reflect.set(s.value,a,o);return!1},getOwnPropertyDescriptor(i,a){var s,u;const o=Reflect.getOwnPropertyDescriptor(i,a);if(o)return o;if(!(typeof a=="symbol"||a.startsWith("$")||a.startsWith("__"))){for(const c of r){if(!c.value)continue;const d=(u=Iv(c.value,a))!=null?u:"_"in c.value?Iv((s=c.value._)==null?void 0:s.setupState,a):void 0;if(d)return d}for(const c of r){const d=c.value&&c.value[Av];if(!d)continue;const f=d.slice();for(;f.length;){const h=f.shift(),p=Iv(h.value,a);if(p)return p;const y=h.value&&h.value[Av];y&&f.push(...y)}}}}})}const _J=["color","file","time","date","datetime-local","week","month"],gJ=ne({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...iT(),...rT()},"VTextField"),bJ=Ce()({name:"VTextField",directives:{Intersect:dM},inheritAttrs:!1,props:gJ(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:r,emit:n,slots:i}=t;const a=Cn(e,"modelValue"),{isFocused:o,focus:s,blur:u}=tT(e),c=P(()=>{var M;return typeof e.counterValue=="function"?e.counterValue(a.value):typeof e.counterValue=="number"?e.counterValue:((M=a.value)!=null?M:"").toString().length}),d=P(()=>{if(r.maxlength)return r.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),f=P(()=>["plain","underlined"].includes(e.variant));function h(M,I){var C,A;!e.autofocus||!M||(A=(C=I[0].target)==null?void 0:C.focus)==null||A.call(C)}const p=xe(),y=xe(),v=xe(),m=P(()=>_J.includes(e.type)||e.persistentPlaceholder||o.value||e.active);function b(){var M;v.value!==document.activeElement&&((M=v.value)==null||M.focus()),o.value||s()}function O(M){n("mousedown:control",M),M.target!==v.value&&(b(),M.preventDefault())}function S(M){b(),n("click:control",M)}function T(M){M.stopPropagation(),b(),Ia(()=>{a.value=null,QW(e["onClick:clear"],M)})}function x(M){var C;const I=M.target;if(a.value=I.value,((C=e.modelModifiers)==null?void 0:C.trim)&&["text","search","password","tel","url"].includes(e.type)){const A=[I.selectionStart,I.selectionEnd];Ia(()=>{I.selectionStart=A[0],I.selectionEnd=A[1]})}}return Ke(()=>{const M=!!(i.counter||e.counter!==!1&&e.counter!=null),I=!!(M||i.details),[C,A]=JW(r),{modelValue:K,...X}=H0.filterProps(e),E=cJ(e);return _(H0,jr({ref:p,modelValue:a.value,"onUpdate:modelValue":F=>a.value=F,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-input--plain-underlined":f.value},e.class],style:e.style},C,X,{centerAffix:!f.value,focused:o.value}),{...i,default:F=>{let{id:H,isDisabled:oe,isDirty:re,isReadonly:ue,isValid:ie}=F;return _(nT,jr({ref:y,onMousedown:O,onClick:S,"onClick:clear":T,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:e.role},E,{id:H.value,active:m.value||re.value,dirty:re.value||e.dirty,disabled:oe.value,focused:o.value,error:ie.value===!1}),{...i,default:De=>{let{props:{class:le,...Y}}=De;const ee=Er(_("input",jr({ref:v,value:a.value,onInput:x,autofocus:e.autofocus,readonly:ue.value,disabled:oe.value,name:e.name,placeholder:e.placeholder,size:1,type:e.type,onFocus:b,onBlur:u},Y,A),null),[[Gu("intersect"),{handler:h},null,{once:!0}]]);return _(rt,null,[e.prefix&&_("span",{class:"v-text-field__prefix"},[_("span",{class:"v-text-field__prefix__text"},[e.prefix])]),i.default?_("div",{class:le,"data-no-activator":""},[i.default(),ee]):Wn(ee,{class:le}),e.suffix&&_("span",{class:"v-text-field__suffix"},[_("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:I?F=>{var H;return _(rt,null,[(H=i.details)==null?void 0:H.call(i,F),M&&_(rt,null,[_("span",null,null),_(aJ,{active:e.persistentCounter||o.value,value:c.value,max:d.value},i.counter)])])}:void 0})}),mJ({},p,y,v)}}),wJ={name:"ChatWindow",props:{},data(){return{ANTHROPIC_KEY:"",COHERE_KEY:"",searchQuery:"",searchModes:["search","ask"],currMode:"search",searched:!1,searchTitle:"",pageFavicon:"",pageTitle:"",pageURL:"",queryAnswer:[],wordsFound:null,pageLoaded:!1,loading:!1,pageContent:"",output:""}},watch:{searchQuery(){if(this.searchQuery===""&&this.searched){chrome.tabs.query({active:!0,currentWindow:!0},e=>{chrome.tabs.sendMessage(e[0].id,{action:"close"})}),this.searched=!1,this.wordsFound=0;return}else this.search()}},methods:{async smarterSearch(){this.loading=!0,this.currMode="ask",console.log("SMARTER SEARCH!");const e=new mD({temperature:.3,streaming:!0,model:"claude-3-sonnet-20240229",apiKey:this.ANTHROPIC_KEY}),t=new eu(this.pageURL);console.log("====> 0. Webpage loader created",this.pageURL);const r=await t.load();console.log("====> 1. Webpage loaded");const i=await new zu({chunkSize:3e3,chunkOverlap:1500}).splitDocuments(r);console.log("====> 2. Texts splitted");const a=new kW({apiKey:this.COHERE_KEY,batchsize:48}),o=await m_.fromDocuments(i,a,{chunkSize:3e3,chunkOverlap:1500}),s=p_.fromLLM(e,o.asRetriever(),{returnSourceDocuments:!0,memory:new rz({memoryKey:"chat_history",inputKey:"question",outputKey:"text",returnMessages:!0}),questionGeneratorChainOptions:{llm:e}});console.log("====> 5. Chain created"),console.log("Answer:",r);try{const u=await s.call({question:this.searchQuery});console.log("result",u),this.output=u.text,this.queryAnswer.push({question:this.searchQuery,answer:this.output,responseObject:u,source:this.pageURL})}catch(u){return`I'm sorry there has been an error: ${u}`}this.searchQuery="",this.searched=!1,this.wordsFound=null,this.loading=!1},search(){console.log("SEARCH!"),this.loading=!0,this.searchQuery!==""&&(this.searchQuery!==""&&this.searched&&chrome.tabs.query({active:!0,currentWindow:!0},e=>{this.pageLoaded?chrome.tabs.sendMessage(e[0].id,{action:"onEnter",word:this.searchQuery},t=>{this.loading=!1,this.searched=!0,console.log(t)}):this.wait=setTimeout(()=>{chrome.tabs.sendMessage(e[0].id,{action:"onEnter",word:this.searchQuery},t=>{this.loading=!1,this.searched=!0,console.log(t)})},1e3)}),chrome.tabs.query({active:!0,currentWindow:!0},e=>{this.pageLoaded?chrome.tabs.sendMessage(e[0].id,{action:"highlight",word:this.searchQuery},t=>{this.loading=!1,this.searched=!0,console.log(t),this.wordsFound=t.count}):this.wait=setTimeout(()=>{chrome.tabs.sendMessage(e[0].id,{action:"highlight",word:this.searchQuery},t=>{this.loading=!1,this.searched=!0,console.log(t),this.wordsFound=t.count})},1e3)}))},closeWindow(){return chrome.tabs.query({active:!0,currentWindow:!0},e=>{chrome.tabs.sendMessage(e[0].id,{action:"close"})}),window.close()}},beforeMount(){chrome.tabs.query({active:!0,currentWindow:!0},e=>{chrome.runtime.sendMessage({action:"loadContent"},t=>{t&&(this.pageContent=t.data)})})},mounted(){chrome.runtime.onMessage.addListener((e,t,r)=>{e.action==="checkPageLoad"&&(this.pageLoaded=document.readyState==="complete",r({readyState:document.readyState}))}),console.log("Page Content:",this.pageContent),chrome.tabs.query({active:!0,currentWindow:!0},e=>{const t=e[0];console.log("Current Tab:",t),this.pageTitle=t.title,this.pageURL=t.url,this.pageFavicon=t.favIconUrl})},beforeDestroy(){clearTimeout(this.wait),this.closeWindow()}},OJ={style:{"max-height":"300px","overflow-y":"scroll"},class:"text-subtitle-2 font-weight-light"};function SJ(e,t,r,n,i,a){const o=CO("v-list-item-content");return yi(),vi(OZ,{flat:"",height:"100%",width:"100%",color:"white",rounded:"0"},{default:gt(()=>[Er(_(DM,{class:"px-0"},{default:gt(()=>[fa(bs(i.pageContent)+" ",1),_(nJ,null,{default:gt(()=>[i.currMode=="ask"&&i.queryAnswer.length===0?(yi(),vi(fu,{key:0},{default:gt(()=>[_(zd,{class:"font-weight-bold"},{default:gt(()=>[fa("Parsing...")]),_:1}),_(AZ,null,{default:gt(()=>[_(Ka,{color:"transparent",size:"25"},{default:gt(()=>[_(ug,{src:i.pageFavicon,alt:"favicon",height:"20",width:"20",fit:""},null,8,["src"])]),_:1}),_(zd,{class:"font-weight-medium mx-2 text-caption"},{default:gt(()=>[fa(bs(i.pageTitle),1)]),_:1})]),_:1})]),_:1})):(yi(),vi(fu,{key:1},{default:gt(()=>[_(zd,{class:"font-weight-bold"},{default:gt(()=>[fa(bs(i.queryAnswer[0].question),1)]),_:1})]),_:1})),_(fu,null,{default:gt(()=>[_(o,null,{default:gt(()=>[kO("p",OJ,bs(i.output),1)]),_:1})]),_:1})]),_:1})]),_:1},512),[[Da,i.queryAnswer.length>0]]),_(IM,null,{default:gt(()=>[_(bJ,{modelValue:i.searchQuery,"onUpdate:modelValue":t[1]||(t[1]=s=>i.searchQuery=s),variant:"outlined","hide-details":"",placeholder:"Find or Ask...",clearable:"",autofocus:"",onKeyup:NR(a.search,["enter"])},{"append-inner":gt(()=>[Er(_(I0,{icon:"mdi-close",variant:"flat",size:"small",class:"rounded-lg",onClick:a.closeWindow},null,8,["onClick"]),[[Da,i.searchQuery===""]]),i.searchQuery!==""&&i.searched&&!i.loading&&i.wordsFound===0?(yi(),vi(I0,{key:0,variant:"flat",color:"blue-darken-3",size:"small",onClick:t[0]||(t[0]=s=>a.smarterSearch())},{default:gt(()=>[fa("Ask")]),_:1})):Oy("",!0),i.searchQuery!==""&&i.searched&&!i.loading&&i.wordsFound>0?(yi(),vi(ZM,{key:1,class:"text-subtitle-2 text--secondary font-weight-medium",style:{"white-space":"nowrap"}},{default:gt(()=>[fa(bs(i.wordsFound)+" Found",1)]),_:1})):Oy("",!0),i.loading?(yi(),vi(_M,{key:2,size:"20",color:"blue-darken-3",indeterminate:""})):Oy("",!0)]),_:1},8,["modelValue","onKeyup"])]),_:1})]),_:1})}const PJ=HE(wJ,[["render",SJ]]);const Em=Symbol.for("vuetify:layout"),jJ=Symbol.for("vuetify:layout-item"),G0=1e3,CJ=ne({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout");function EJ(){const e=Et(Em);if(!e)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:e.getLayoutItem,mainRect:e.mainRect,mainStyles:e.mainStyles}}const MJ=(e,t,r,n)=>{let i={top:0,left:0,right:0,bottom:0};const a=[{id:"",layer:{...i}}];for(const o of e){const s=t.get(o),u=r.get(o),c=n.get(o);if(!s||!u||!c)continue;const d={...i,[s.value]:parseInt(i[s.value],10)+(c.value?parseInt(u.value,10):0)};a.push({id:o,layer:d}),i=d}return a};function TJ(e){const t=Et(Em,null),r=P(()=>t?t.rootZIndex.value-100:G0),n=xe([]),i=br(new Map),a=br(new Map),o=br(new Map),s=br(new Map),u=br(new Map),{resizeRef:c,contentRect:d}=wf(),f=P(()=>{var C;const M=new Map,I=(C=e.overlaps)!=null?C:[];for(const A of I.filter(K=>K.includes(":"))){const[K,X]=A.split(":");if(!n.value.includes(K)||!n.value.includes(X))continue;const E=i.get(K),F=i.get(X),H=a.get(K),oe=a.get(X);!E||!F||!H||!oe||(M.set(X,{position:E.value,amount:parseInt(H.value,10)}),M.set(K,{position:F.value,amount:-parseInt(oe.value,10)}))}return M}),h=P(()=>{const M=[...new Set([...o.values()].map(C=>C.value))].sort((C,A)=>C-A),I=[];for(const C of M){const A=n.value.filter(K=>{var X;return((X=o.get(K))==null?void 0:X.value)===C});I.push(...A)}return MJ(I,i,a,s)}),p=P(()=>!Array.from(u.values()).some(M=>M.value)),y=P(()=>h.value[h.value.length-1].layer),v=P(()=>({"--v-layout-left":Be(y.value.left),"--v-layout-right":Be(y.value.right),"--v-layout-top":Be(y.value.top),"--v-layout-bottom":Be(y.value.bottom),...p.value?void 0:{transition:"none"}})),m=P(()=>h.value.slice(1).map((M,I)=>{let{id:C}=M;const{layer:A}=h.value[I],K=a.get(C),X=i.get(C);return{id:C,...A,size:Number(K.value),position:X.value}})),b=M=>m.value.find(I=>I.id===M),O=$r("createLayout"),S=He(!1);Wo(()=>{S.value=!0}),rn(Em,{register:(M,I)=>{let{id:C,order:A,position:K,layoutSize:X,elementSize:E,active:F,disableTransitions:H,absolute:oe}=I;o.set(C,A),i.set(C,K),a.set(C,X),s.set(C,F),H&&u.set(C,H);const ue=du(jJ,O==null?void 0:O.vnode).indexOf(M);ue>-1?n.value.splice(ue,0,C):n.value.push(C);const ie=P(()=>m.value.findIndex(ee=>ee.id===C)),De=P(()=>r.value+h.value.length*2-ie.value*2),le=P(()=>{const ee=K.value==="left"||K.value==="right",ze=K.value==="right",Mt=K.value==="bottom",Tt={[K.value]:0,zIndex:De.value,transform:`translate${ee?"X":"Y"}(${(F.value?0:-110)*(ze||Mt?-1:1)}%)`,position:oe.value||r.value!==G0?"absolute":"fixed",...p.value?void 0:{transition:"none"}};if(!S.value)return Tt;const je=m.value[ie.value];if(!je)throw new Error(`[Vuetify] Could not find layout item "${C}"`);const R=f.value.get(C);return R&&(je[R.position]+=R.amount),{...Tt,height:ee?`calc(100% - ${je.top}px - ${je.bottom}px)`:E.value?`${E.value}px`:void 0,left:ze?void 0:`${je.left}px`,right:ze?`${je.right}px`:void 0,top:K.value!=="bottom"?`${je.top}px`:void 0,bottom:K.value!=="top"?`${je.bottom}px`:void 0,width:ee?E.value?`${E.value}px`:void 0:`calc(100% - ${je.left}px - ${je.right}px)`}}),Y=P(()=>({zIndex:De.value-1}));return{layoutItemStyles:le,layoutItemScrimStyles:Y,zIndex:De}},unregister:M=>{o.delete(M),i.delete(M),a.delete(M),s.delete(M),u.delete(M),n.value=n.value.filter(I=>I!==M)},mainRect:y,mainStyles:v,getLayoutItem:b,items:m,layoutRect:d,rootZIndex:r});const T=P(()=>["v-layout",{"v-layout--full-height":e.fullHeight}]),x=P(()=>({zIndex:t?r.value:void 0,position:t?"relative":void 0,overflow:t?"hidden":void 0}));return{layoutClasses:T,layoutStyles:x,getLayoutItem:b,items:m,layoutRect:d,layoutRef:c}}const RJ=ne({...Ve(),...CJ({fullHeight:!0}),...qt()},"VApp"),$J=Ce()({name:"VApp",props:RJ(),setup(e,t){let{slots:r}=t;const n=nr(e),{layoutClasses:i,getLayoutItem:a,items:o,layoutRef:s}=TJ(e),{rtlClasses:u}=_s();return Ke(()=>{var c;return _("div",{ref:s,class:["v-application",n.themeClasses.value,i.value,u.value,e.class],style:[e.style]},[_("div",{class:"v-application__wrap"},[(c=r.default)==null?void 0:c.call(r)])])}),{getLayoutItem:a,items:o,theme:n}}});const xJ=ne({scrollable:Boolean,...Ve(),...rr({tag:"main"})},"VMain"),AJ=Ce()({name:"VMain",props:xJ(),setup(e,t){let{slots:r}=t;const{mainStyles:n}=EJ(),{ssrBootStyles:i}=XM();return Ke(()=>_(e.tag,{class:["v-main",{"v-main--scrollable":e.scrollable},e.class],style:[n.value,i.value,e.style]},{default:()=>{var a,o;return[e.scrollable?_("div",{class:"v-main__scroller"},[(a=r.default)==null?void 0:a.call(r)]):(o=r.default)==null?void 0:o.call(r)]}})),{}}}),IJ={name:"App",components:{ChatWindow:PJ},data:()=>({})};function DJ(e,t,r,n,i,a){const o=CO("ChatWindow");return yi(),vi($J,{id:"app"},{default:gt(()=>[_(AJ,null,{default:gt(()=>[_(o)]),_:1})]),_:1})}const zJ=HE(IJ,[["render",DJ]]);const Hu={"001":1,AD:1,AE:6,AF:6,AG:0,AI:1,AL:1,AM:1,AN:1,AR:1,AS:0,AT:1,AU:1,AX:1,AZ:1,BA:1,BD:0,BE:1,BG:1,BH:6,BM:1,BN:1,BR:0,BS:0,BT:0,BW:0,BY:1,BZ:0,CA:0,CH:1,CL:1,CM:1,CN:1,CO:0,CR:1,CY:1,CZ:1,DE:1,DJ:6,DK:1,DM:0,DO:0,DZ:6,EC:1,EE:1,EG:6,ES:1,ET:0,FI:1,FJ:1,FO:1,FR:1,GB:1,"GB-alt-variant":0,GE:1,GF:1,GP:1,GR:1,GT:0,GU:0,HK:0,HN:0,HR:1,HU:1,ID:0,IE:1,IL:0,IN:0,IQ:6,IR:6,IS:1,IT:1,JM:0,JO:6,JP:0,KE:0,KG:1,KH:0,KR:0,KW:6,KZ:1,LA:0,LB:1,LI:1,LK:1,LT:1,LU:1,LV:1,LY:6,MC:1,MD:1,ME:1,MH:0,MK:1,MM:0,MN:1,MO:0,MQ:1,MT:0,MV:5,MX:0,MY:1,MZ:0,NI:0,NL:1,NO:1,NP:0,NZ:1,OM:6,PA:0,PE:0,PH:0,PK:0,PL:1,PR:0,PT:0,PY:0,QA:6,RE:1,RO:1,RS:1,RU:1,SA:0,SD:6,SE:1,SG:0,SI:1,SK:1,SM:1,SV:0,SY:6,TH:0,TJ:1,TM:1,TR:1,TT:0,TW:0,UA:1,UM:0,US:0,UY:1,UZ:1,VA:1,VE:0,VI:0,VN:1,WS:0,XK:1,YE:0,ZA:0,ZW:0};function NJ(e,t){const r=[];let n=[];const i=aT(e),a=oT(e),o=(i.getDay()-Hu[t.slice(-2).toUpperCase()]+7)%7,s=(a.getDay()-Hu[t.slice(-2).toUpperCase()]+7)%7;for(let u=0;u<o;u++){const c=new Date(i);c.setDate(c.getDate()-(o-u)),n.push(c)}for(let u=1;u<=a.getDate();u++){const c=new Date(e.getFullYear(),e.getMonth(),u);n.push(c),n.length===7&&(r.push(n),n=[])}for(let u=1;u<7-s;u++){const c=new Date(a);c.setDate(c.getDate()+u),n.push(c)}return n.length>0&&r.push(n),r}function BJ(e,t){var n;const r=new Date(e);for(;r.getDay()!==((n=Hu[t.slice(-2).toUpperCase()])!=null?n:0);)r.setDate(r.getDate()-1);return r}function FJ(e,t){var i;const r=new Date(e),n=(((i=Hu[t.slice(-2).toUpperCase()])!=null?i:0)+6)%7;for(;r.getDay()!==n;)r.setDate(r.getDate()+1);return r}function aT(e){return new Date(e.getFullYear(),e.getMonth(),1)}function oT(e){return new Date(e.getFullYear(),e.getMonth()+1,0)}function LJ(e){const t=e.split("-").map(Number);return new Date(t[0],t[1]-1,t[2])}const UJ=/^([12]\d{3}-([1-9]|0[1-9]|1[0-2])-([1-9]|0[1-9]|[12]\d|3[01]))$/;function sT(e){if(e==null)return new Date;if(e instanceof Date)return e;if(typeof e=="string"){let t;if(UJ.test(e))return LJ(e);if(t=Date.parse(e),!isNaN(t))return new Date(t)}return null}const q0=new Date(2e3,0,2);function VJ(e){const t=Hu[e.slice(-2).toUpperCase()];return qE(7).map(r=>{const n=new Date(q0);return n.setDate(q0.getDate()+t+r),new Intl.DateTimeFormat(e,{weekday:"narrow"}).format(n)})}function KJ(e,t,r,n){var s;const i=(s=sT(e))!=null?s:new Date,a=n==null?void 0:n[t];if(typeof a=="function")return a(i,t,r);let o={};switch(t){case"fullDateWithWeekday":o={weekday:"long",day:"numeric",month:"long",year:"numeric"};break;case"hours12h":o={hour:"numeric",hour12:!0};break;case"normalDateWithWeekday":o={weekday:"short",day:"numeric",month:"short"};break;case"keyboardDate":o={day:"2-digit",month:"2-digit",year:"numeric"};break;case"monthAndDate":o={month:"long",day:"numeric"};break;case"monthAndYear":o={month:"long",year:"numeric"};break;case"month":o={month:"long"};break;case"monthShort":o={month:"short"};break;case"dayOfMonth":return new Intl.NumberFormat(r).format(i.getDate());case"shortDate":o={year:"2-digit",month:"numeric",day:"numeric"};break;case"weekdayShort":o={weekday:"short"};break;case"year":o={year:"numeric"};break;default:o=a!=null?a:{timeZone:"UTC",timeZoneName:"short"}}return new Intl.DateTimeFormat(r,o).format(i)}function HJ(e,t){const r=e.toJsDate(t),n=r.getFullYear(),i=d0(String(r.getMonth()+1),2,"0"),a=d0(String(r.getDate()),2,"0");return`${n}-${i}-${a}`}function GJ(e){const[t,r,n]=e.split("-").map(Number);return new Date(t,r-1,n)}function qJ(e,t){const r=new Date(e);return r.setMinutes(r.getMinutes()+t),r}function kJ(e,t){const r=new Date(e);return r.setHours(r.getHours()+t),r}function WJ(e,t){const r=new Date(e);return r.setDate(r.getDate()+t),r}function XJ(e,t){const r=new Date(e);return r.setDate(r.getDate()+t*7),r}function ZJ(e,t){const r=new Date(e);return r.setMonth(r.getMonth()+t),r}function JJ(e){return e.getFullYear()}function YJ(e){return e.getMonth()}function QJ(e){return e.getDate()}function e7(e){return new Date(e.getFullYear(),e.getMonth()+1,1)}function t7(e){return e.getHours()}function r7(e){return e.getMinutes()}function n7(e){return new Date(e.getFullYear(),0,1)}function i7(e){return new Date(e.getFullYear(),11,31)}function a7(e,t){return Mm(e,t[0])&&s7(e,t[1])}function o7(e){const t=new Date(e);return t instanceof Date&&!isNaN(t.getTime())}function Mm(e,t){return e.getTime()>t.getTime()}function s7(e,t){return e.getTime()<t.getTime()}function k0(e,t){return e.getTime()===t.getTime()}function u7(e,t){return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function l7(e,t){return e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function c7(e,t,r){const n=new Date(e),i=new Date(t);switch(r){case"years":return n.getFullYear()-i.getFullYear();case"quarters":return Math.floor((n.getMonth()-i.getMonth()+(n.getFullYear()-i.getFullYear())*12)/4);case"months":return n.getMonth()-i.getMonth()+(n.getFullYear()-i.getFullYear())*12;case"weeks":return Math.floor((n.getTime()-i.getTime())/(1e3*60*60*24*7));case"days":return Math.floor((n.getTime()-i.getTime())/(1e3*60*60*24));case"hours":return Math.floor((n.getTime()-i.getTime())/(1e3*60*60));case"minutes":return Math.floor((n.getTime()-i.getTime())/(1e3*60));case"seconds":return Math.floor((n.getTime()-i.getTime())/1e3);default:return n.getTime()-i.getTime()}}function d7(e,t){const r=new Date(e);return r.setHours(t),r}function f7(e,t){const r=new Date(e);return r.setMinutes(t),r}function h7(e,t){const r=new Date(e);return r.setMonth(t),r}function p7(e,t){const r=new Date(e);return r.setDate(t),r}function y7(e,t){const r=new Date(e);return r.setFullYear(t),r}function v7(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0,0)}function m7(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),23,59,59,999)}class _7{constructor(t){this.locale=t.locale,this.formats=t.formats}date(t){return sT(t)}toJsDate(t){return t}toISO(t){return HJ(this,t)}parseISO(t){return GJ(t)}addMinutes(t,r){return qJ(t,r)}addHours(t,r){return kJ(t,r)}addDays(t,r){return WJ(t,r)}addWeeks(t,r){return XJ(t,r)}addMonths(t,r){return ZJ(t,r)}getWeekArray(t){return NJ(t,this.locale)}startOfWeek(t){return BJ(t,this.locale)}endOfWeek(t){return FJ(t,this.locale)}startOfMonth(t){return aT(t)}endOfMonth(t){return oT(t)}format(t,r){return KJ(t,r,this.locale,this.formats)}isEqual(t,r){return k0(t,r)}isValid(t){return o7(t)}isWithinRange(t,r){return a7(t,r)}isAfter(t,r){return Mm(t,r)}isBefore(t,r){return!Mm(t,r)&&!k0(t,r)}isSameDay(t,r){return u7(t,r)}isSameMonth(t,r){return l7(t,r)}setMinutes(t,r){return f7(t,r)}setHours(t,r){return d7(t,r)}setMonth(t,r){return h7(t,r)}setDate(t,r){return p7(t,r)}setYear(t,r){return y7(t,r)}getDiff(t,r,n){return c7(t,r,n)}getWeekdays(){return VJ(this.locale)}getYear(t){return JJ(t)}getMonth(t){return YJ(t)}getDate(t){return QJ(t)}getNextMonth(t){return e7(t)}getHours(t){return t7(t)}getMinutes(t){return r7(t)}startOfDay(t){return v7(t)}endOfDay(t){return m7(t)}startOfYear(t){return n7(t)}endOfYear(t){return i7(t)}}const g7=Symbol.for("vuetify:date-options"),W0=Symbol.for("vuetify:date-adapter");function b7(e,t){const r=Pr({adapter:_7,locale:{af:"af-ZA",bg:"bg-BG",ca:"ca-ES",ckb:"",cs:"cs-CZ",de:"de-DE",el:"el-GR",en:"en-US",et:"et-EE",fa:"fa-IR",fi:"fi-FI",hr:"hr-HR",hu:"hu-HU",he:"he-IL",id:"id-ID",it:"it-IT",ja:"ja-JP",ko:"ko-KR",lv:"lv-LV",lt:"lt-LT",nl:"nl-NL",no:"no-NO",pl:"pl-PL",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",srCyrl:"sr-SP",srLatn:"sr-SP",sv:"sv-SE",th:"th-TH",tr:"tr-TR",az:"az-AZ",uk:"uk-UA",vi:"vi-VN",zhHans:"zh-CN",zhHant:"zh-TW"}},e);return{options:r,instance:w7(r,t)}}function w7(e,t){var n;const r=br(typeof e.adapter=="function"?new e.adapter({locale:(n=e.locale[t.current.value])!=null?n:t.current.value,formats:e.formats}):e.adapter);return st(t.current,i=>{var a,o;r.locale=(o=(a=e.locale[i])!=null?a:i)!=null?o:r.locale}),r}const O7=Symbol.for("vuetify:goto");function S7(){return{container:void 0,duration:300,layout:!1,offset:0,easing:"easeInOutCubic",patterns:{linear:e=>e,easeInQuad:e=>e**2,easeOutQuad:e=>e*(2-e),easeInOutQuad:e=>e<.5?2*e**2:-1+(4-2*e)*e,easeInCubic:e=>e**3,easeOutCubic:e=>--e**3+1,easeInOutCubic:e=>e<.5?4*e**3:(e-1)*(2*e-2)*(2*e-2)+1,easeInQuart:e=>e**4,easeOutQuart:e=>1- --e**4,easeInOutQuart:e=>e<.5?8*e**4:1-8*--e**4,easeInQuint:e=>e**5,easeOutQuint:e=>1+--e**5,easeInOutQuint:e=>e<.5?16*e**5:1+16*--e**5}}}function P7(e,t){return{rtl:t.isRtl,options:Pr(S7(),e)}}function uT(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{blueprint:t,...r}=e,n=Pr(t,r),{aliases:i={},components:a={},directives:o={}}=n,s=RX(n.defaults),u=CZ(n.display,n.ssr),c=UX(n.theme),d=NX(n.icons),f=nZ(n.locale),h=b7(n.date,f),p=P7(n.goTo,f);return{install:v=>{for(const m in o)v.directive(m,o[m]);for(const m in a)v.component(m,a[m]);for(const m in i)v.component(m,hs({...i[m],name:m,aliasName:i[m].name}));if(c.install(v),v.provide(qo,s),v.provide(jm,u),v.provide(bf,c),v.provide(wm,d),v.provide(Of,f),v.provide(g7,h.options),v.provide(W0,h.instance),v.provide(O7,p),Sr&&n.ssr)if(v.$nuxt)v.$nuxt.hook("app:suspense:resolve",()=>{u.update()});else{const{mount:m}=v;v.mount=function(){const b=m(...arguments);return Ia(()=>u.update()),v.mount=m,b}}Qa.reset(),v.mixin({computed:{$vuetify(){return br({defaults:wo.call(this,qo),display:wo.call(this,jm),theme:wo.call(this,bf),icons:wo.call(this,wm),locale:wo.call(this,Of),date:wo.call(this,W0)})}}})},defaults:s,display:u,theme:c,icons:d,locale:f,date:h,goTo:p}}const j7="3.5.17";uT.version=j7;function wo(e){var n,i,a;const t=this.$,r=(a=(n=t.parent)==null?void 0:n.provides)!=null?a:(i=t.vnode.appContext)==null?void 0:i.provides;if(r&&e in r)return r[e]}const C7=uT();async function E7(){(await gr(()=>import("./webfontloader.b777d690.js").then(t=>t.w),[])).load({google:{families:["Roboto:100,300,400,500,700,900&display=swap"]}})}E7();LR(zJ).use(C7).mount("#app");export{Qu as B,Tr as L,wt as P,am as a,VD as b,SP as c,Iz as l,ks as r};
